(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[3],{539:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(27),i=function(e,t){return e.getIn(["server","request",t.requestId])},a={getRequest:i,selectRequest:function(){return Object(o.a)([i],(function(e){return e&&e.toJS()}))}}},584:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(8),i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00000000-0000-0000-0000-000000000000",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(o.a)(this,e),this.photos=t,this.cover=n,this.coverId=i,this.count=a,this.title=r}},593:function(e,t,n){"use strict";var o=n(15),i=n(8),a=n(43),r=n(49),s=n(45),l=n(48),c=n(1114),u=n(1117),p=n(1116),d=n(307),h=n(1131),f=n(524),m=n(1151),b=n(1160),g=n(16),v=n(178),y=n(580),w=n.n(y),E=n(80),O=n(0),C=n.n(O),T=n(106),k=n(61),x=n(30),j=n(152),P=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleSetPermission=function(e){var t=n.props,o=t.onAddAccessList,i=t.followingIds,a=t.currentUser,r=[];e===E.a.Circles&&i&&a&&a.userId&&(r=i).push(a.userId),o(r,e)},n.handleInputChange=function(e){var t=e.target,i="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(Object(o.a)({},a,i))};var a=e.access;return n.state={selectedValue:a,disabledOk:!0},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.t,i=t.open,a=t.onClose,r=this.state.selectedValue;return C.a.createElement(c.a,{PaperProps:{className:n.fullPageXs},open:i,onClose:a,maxWidth:"md"},C.a.createElement(u.a,{className:n.dialogAction},C.a.createElement(v.a,{variant:"h6",component:"div",className:n.galleryDialogTitle},C.a.createElement(f.a,{className:n.header,onClick:a},C.a.createElement(w.a,null)),o("permission.titleLabel"))),C.a.createElement(p.a,{className:n.dialogContent},C.a.createElement(d.a,{component:"div",required:!0,className:n.formControl},C.a.createElement(b.a,{"aria-label":"selectedValue",name:"selectedValue",className:n.group,value:r,onChange:this.handleInputChange},C.a.createElement(h.a,{className:n.permissionItem,onClick:function(){return e.handleSetPermission(E.a.OnlyMe)},value:E.a.OnlyMe,control:C.a.createElement(m.a,null),label:o("permission.onlyMe")}),C.a.createElement(h.a,{className:n.permissionItem,onClick:function(){return e.handleSetPermission(E.a.Public)},value:E.a.Public,control:C.a.createElement(m.a,null),label:o("permission.public")}),C.a.createElement(h.a,{className:n.permissionItem,onClick:function(){return e.handleSetPermission(E.a.Circles)},value:E.a.Circles,control:C.a.createElement(m.a,null),label:o("permission.circles")}),C.a.createElement(h.a,{className:n.permissionItem,value:E.a.Custom,disabled:!0,control:C.a.createElement(m.a,null),label:o("permission.custom")})))))}}]),t}(O.Component),L=Object(T.c)("translations")(P);t.a=Object(k.connect)((function(){var e=j.a.selectFollowingIds(),t=x.b.selectCurrentUser();return function(n){return{followingIds:e(n),currentUser:t(n).toJS()}}}),(function(e,t){return{}}))(Object(g.a)((function(e){return{fullPageXs:Object(o.a)({minWidth:400},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"}),dialogTitle:{padding:0},root:{display:"flex"},formControl:{margin:e.spacing(3)},group:{margin:"".concat(e.spacing(1),"px 0")},dialogContent:{padding:0},dialogAction:{display:"flex",flexDirection:"row",justifyContent:"space-between"},permissionItem:{fontSize:15}}}))(L))},604:function(e,t,n){var o,i;e.exports=(o=n(0),i=n(36),function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t){e.exports=o},function(e,t,n){e.exports=n(12)()},function(e,t){e.exports=i},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=o(n(17)),r=o(n(0)),s=o(n(1)),l=(o(n(18)),n(19)),c=(s.default.any,s.default.func,s.default.node,{component:"span",childFactory:function(e){return e}}),u=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState((function(t){var n=i({},t.children);return delete n[e],{children:n}}))},a.childRefs=Object.create(null),a.state={children:(0,l.getChildMapping)(n.children)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,l.getChildMapping)(e.children),n=this.state.children;for(var o in this.setState({children:(0,l.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(o);!t[o]||i||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var a in n){var r=t&&t.hasOwnProperty(a);!n[a]||r||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var o=e.state.children[n];if(o){var i="string"!==typeof o.ref,s=e.props.childFactory(o),l=function(t){e.childRefs[n]=t};s===o&&i&&(l=(0,a.default)(o.ref,l)),t.push(r.default.cloneElement(s,{key:n,ref:l}))}}(n);var o=i({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,r.default.createElement(this.props.component,o,t)},t}(r.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps=c,t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"===typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var i=(o(n(0)),n(1)),a=o(i);t.nameShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,leave:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterActive:a.default.string,leave:a.default.string,leaveActive:a.default.string,appear:a.default.string,appearActive:a.default.string})])},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(1),r=n.n(a),s=n(7),l=n(29),c=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=void 0;return e.hasRipple&&(t=i.a.createElement("circle",{cx:"12",cy:"12",r:"6"})),i.a.createElement("button",{className:"lightbox-btn "+(e.hasRipple?"lightbox-btn--ripple":""),onClick:e.onClick.bind(this)},i.a.createElement(s.a,{icon:e.icon,size:e.size},t))}}]),t}(i.a.Component);t.a=u,u.defaultProps={selectedImage:0,hasRipple:!1,size:24},u.propTypes={onClick:r.a.func.isRequired,icon:r.a.string.isRequired,hasRipple:r.a.bool,size:r.a.number}},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(1),r=n.n(a),s=n(28),l=function(e){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"-6 -6 36 36"},e.children,s.a[e.icon].map((function(e){return i.a.createElement("path",{key:e,d:e})})))};l.propTypes={icon:r.a.string.isRequired,size:r.a.number.isRequired},t.a=l},function(e,t,n){"use strict";function o(e){return"string"!==typeof e.className?[]:e.className.split(/\s+/)}function i(e,t){t=[].concat(t);var n=o(e);for(var i in t)if(n.indexOf(t[i])>-1)return!0;return!1}function a(e,t){i(e,t)||(e.className=[e.className,t].join(" "))}function r(e,t){var n=o(e);e.className=n.filter((function(e){return e!==t})).join(" ")}t.c=i,t.a=a,t.d=r,t.b=function(e,t){i(e,t)?r(e,t):a(e,t)}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11);t.default=o.a},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(1),r=n.n(a),s=n(14),l=n(32),c=n(33),u=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleLightbox=n.toggleLightbox.bind(n),n.state={showLightbox:!1,selectedImage:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"toggleLightbox",value:function(e){this.setState({showLightbox:!this.state.showLightbox,selectedImage:e})}},{key:"render",value:function(){var e=this.props,t=e.renderImageFunc.call(this,this.toggleLightbox,e.thumbnailWidth,e.thumbnailHeight),n=void 0;return this.state.showLightbox&&(n=i.a.createElement(l.a,null,i.a.createElement(s.a,Object.assign({},this.props,{toggleLightbox:this.toggleLightbox,selectedImage:this.state.selectedImage})))),console.log("Iamhere"),i.a.createElement(i.a.Fragment,null,t,n)}}]),t}(i.a.Component);t.a=p,p.defaultProps={showImageModifiers:!0,thumbnailWidth:"80px",thumbnailHeight:"80px",renderImageFunc:function(e,t,n,o,a){return i.a.createElement("div",null)}},p.propTypes={showImageModifiers:r.a.bool,thumbnailWidth:r.a.string,thumbnailHeight:r.a.string,renderImageFunc:r.a.func,renderDescriptionFunc:r.a.func}},function(e,t,n){"use strict";function o(){}var i=n(13);e.exports=function(){function e(e,t,n,o,a,r){if(r!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(15),r=(n.n(a),n(1)),s=n.n(r),l=n(26),c=n(6),u=n(8),p=n(31),d=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLeftClick=n.handleLeftClick.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.canMoveToLeft=n.canMoveToLeft.bind(n),n.canMoveToRight=n.canMoveToRight.bind(n),n.toggleControls=n.toggleControls.bind(n),n.handleKeyboard=n.handleKeyboard.bind(n),n.getDescriptions=n.getDescriptions.bind(n),n.state={selectedImageIndex:e.selectedImage,direction:"none",imagesDescriptions:{}},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"getDescriptions",value:function(){var e=this,t=this.state.imagesDescriptions;this.props.images.forEach((function(n,o){if(n.description){if(n.description.then)return void n.description.then((function(n){t[o]=n,e.setState({imagesDescriptions:t})}));t[o]=n.description,e.setState({imagesDescriptions:t})}}))}},{key:"componentDidMount",value:function(){this.getDescriptions(),document.addEventListener("keydown",this.handleKeyboard),document.body.scrollTop,Object(u.a)(document.documentElement,"lightbox-open"),document.body.style.paddingRight="0px",document.body.style.overflowY="hidden"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboard),Math.abs(parseInt(document.documentElement.style.top,10)),Object(u.d)(document.documentElement,"lightbox-open"),document.body.style.paddingRight=null,document.body.style.overflowY=null}},{key:"handleKeyboard",value:function(e){var t=e.keyCode?e.keyCode:e.which;if(!(this.timeLastTransition&&new Date-this.timeLastTransition<350))switch(this.timeLastTransition=new Date,t){case 37:return this.handleLeftClick();case 39:return this.handleRightClick();case 27:return this.props.toggleLightbox()}}},{key:"handleLeftClick",value:function(){this.canMoveToLeft()&&this.setState({selectedImageIndex:this.state.selectedImageIndex-1,direction:"left"})}},{key:"handleRightClick",value:function(){this.canMoveToRight()&&this.setState({selectedImageIndex:this.state.selectedImageIndex+1,direction:"right"})}},{key:"canMoveToLeft",value:function(){return this.state.selectedImageIndex>0}},{key:"canMoveToRight",value:function(){return this.state.selectedImageIndex<this.props.images.length-1}},{key:"toggleControls",value:function(){Object(u.b)(this.refs.container,"hide-controls")}},{key:"render",value:function(){var e=[this.props,this.state],t=e[0],n=e[1],o=t.images[n.selectedImageIndex];if(!o)return console.error("Light box; ",t.images,n.selectedImageIndex),i.a.createElement("div",null);var r=void 0,s=void 0,u=n.imagesDescriptions[n.selectedImageIndex],p=(t.renderDescriptionFunc.call(this,u),"lightbox-transition-image");return this.canMoveToLeft()&&(r=i.a.createElement("div",{className:"lightbox-btn-left"},i.a.createElement(c.a,{icon:"left-arrow",onClick:this.handleLeftClick,size:56,hasRipple:!0}))),this.canMoveToRight()&&(s=i.a.createElement("div",{className:"lightbox-btn-right"},i.a.createElement(c.a,{icon:"right-arrow",onClick:this.handleRightClick,size:56,hasRipple:!0}))),i.a.createElement("div",{className:"lightbox-backdrop",ref:"container"},i.a.createElement("div",{className:"lightbox-btn-close"},i.a.createElement(c.a,{icon:"back-arrow",onClick:t.toggleLightbox,size:34,hasRipple:!0})),i.a.createElement("div",{className:"lightbox-title-content"},i.a.createElement("div",{className:"lightbox-title"},o.title)),i.a.createElement(a.CSSTransitionGroup,{transitionAppear:!0,transitionAppearTimeout:300,transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:{enter:p+"-enter-"+n.direction,enterActive:p+"-enter-"+n.direction+"-active",leave:p+"-leave-"+n.direction,leaveActive:p+"-leave-"+n.direction+"-active",appear:p+"-appear",appearActive:p+"-appear-active"}},i.a.createElement(l.a,{key:o.src,src:o.src,showImageModifiers:t.showImageModifiers,toggleControls:this.toggleControls})),r,s)}}]),t}(i.a.Component);t.a=h,h.defaultProps={selectedImage:0,renderDescriptionFunc:function(e){return i.a.createElement("div",null,String(e))}},h.propTypes={selectedImage:s.a.number,images:s.a.array.isRequired,toggleLightbox:s.a.func.isRequired,showImageModifiers:s.a.bool,renderDescriptionFunc:s.a.func}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n(16)),a=o(n(3));e.exports={TransitionGroup:a.default,CSSTransitionGroup:i.default}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=o(n(0)),s=o(n(1)),l=o(n(3)),c=o(n(20)),u=n(5),p=(u.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),d=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(s))),o._wrapChild=function(e){return r.default.createElement(c.default,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},i(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r.default.createElement(l.default,a({},this.props,{childFactory:this._wrapChild}))},t}(r.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps=p,t.default=d,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return o.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(o[a]=i,i=[]):i.push(a);var r=void 0,s={};for(var l in t){if(o.hasOwnProperty(l))for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s};var o=n(0)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=o(n(21)),s=o(n(23)),l=o(n(24)),c=n(25),u=o(n(0)),p=o(n(1)),d=n(2),h=n(5),f=[];c.transitionEnd&&f.push(c.transitionEnd),c.animationEnd&&f.push(c.animationEnd);var m=(p.default.node,h.nameShape.isRequired,p.default.bool,p.default.bool,p.default.bool,p.default.number,p.default.number,p.default.number,function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=o=i(this,e.call.apply(e,[this].concat(r))),o.componentWillAppear=function(e){o.props.appear?o.transition("appear",e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition("enter",e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition("leave",e,o.props.leaveTimeout):e()},i(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,d.findDOMNode)(this);if(o){var i=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||i+"-active",l=null,u=void 0;(0,r.default)(o,i),this.queueClassAndNode(a,o);var p=function(e){e&&e.target!==o||(clearTimeout(l),u&&u(),(0,s.default)(o,i),(0,s.default)(o,a),u&&u(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):c.transitionEnd&&(u=function(e,t){return f.length?f.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){f.length&&f.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(o,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,l.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,r.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=a({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component));m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(22));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),a="clearTimeout",r=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),o=setTimeout(e,n);return l=t,o},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=s(e,"request");if(t in window)return a=s(e,"cancel"),r=function(e){return window[t](e)}}));var l=(new Date).getTime();(o=function(e){return r(e)}).cancel=function(e){window[a]&&"function"===typeof window[a]&&window[a](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o="transform",i=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,u=void 0,p=void 0,d=void 0,h=void 0,f=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(4)).default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),o=void 0,i=void 0,a="",r=0;r<n.length;r++){var s=n[r];if(s+"TransitionProperty"in e){a="-"+s.toLowerCase(),o=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!o&&"transitionProperty"in e&&(o="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:o,prefix:a}}();i=m.prefix,t.transitionEnd=a=m.transitionEnd,t.animationEnd=r=m.animationEnd,t.transform=o=i+"-"+o,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=u=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=p=i+"-animation-name",t.animationDuration=d=i+"-animation-duration",t.animationTiming=h=i+"-animation-delay",t.animationDelay=f=i+"-animation-timing-function"}t.transform=o,t.transitionProperty=s,t.transitionTiming=c,t.transitionDelay=u,t.transitionDuration=l,t.transitionEnd=a,t.animationName=p,t.animationDuration=d,t.animationTiming=h,t.animationDelay=f,t.animationEnd=r,t.default={transform:o,end:a,property:s,timing:c,delay:u,duration:l}},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(2),r=n.n(a),s=n(1),l=n.n(s),c=n(27),u=n(7),p=n(8),d=n(30),h=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),f=[Math.pow(1.1,30),Math.pow(1/1.1,10)],m=f[0],b=f[1],g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resetImageInitialState=n.resetImageInitialState.bind(n),n.handleWindowResize=n.handleWindowResize.bind(n),n.handleRotate=n.handleRotate.bind(n),n.handleZoom=n.handleZoom.bind(n),n.setZoomLimits=n.setZoomLimits.bind(n),n.handleWheel=n.handleWheel.bind(n),n.handleMove=n.handleMove.bind(n),n.handleMoveEnd=n.handleMoveEnd.bind(n),n.handleMoveStart=n.handleMoveStart.bind(n),n.isInsideImage=n.isInsideImage.bind(n),n.state={loader:!0,ratio:1,positionX:0,positionY:0,rotate:0,width:0,height:0,boxWidth:0,boxHeight:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"componentDidMount",value:function(){this.resetImageInitialState(this.props),this.startPoints=null,window.addEventListener("resize",this.handleWindowResize),document.addEventListener("mousedown",this.handleMoveStart),document.addEventListener("mouseup",this.handleMoveEnd),document.addEventListener("touchstart",this.handleMoveStart),document.addEventListener("touchend",this.handleMoveEnd),window.setTimeout(this.props.toggleControls,500),this.props.showImageModifiers&&(document.addEventListener("mousemove",this.handleMove),document.addEventListener("touchmove",this.handleMove),document.addEventListener("wheel",this.handleWheel))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),document.removeEventListener("mousedown",this.handleMoveStart),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleMoveEnd),document.removeEventListener("touchstart",this.handleMoveStart),document.removeEventListener("touchmove",this.handleMove),document.removeEventListener("touchend",this.handleMoveEnd),document.removeEventListener("wheel",this.handleWheel)}},{key:"resetImageInitialState",value:function(e){var t=new Image,n=this;t.onload=function(){var e=[this.width,this.height],t=e[0],o=e[1],i=r.a.findDOMNode(n.refs.container),a=[i.offsetWidth,i.offsetHeight],s=a[0],l=a[1],c=Math.min(s/t,l/o);isNaN(c)&&(c=1),n.setState({loader:!1,ratio:c,rotate:0,positionX:(s-t*c)/2,positionY:(l-o*c)/2,width:this.width,height:this.height,boxWidth:s,boxHeight:l,moving:!1})},t.src=e.src}},{key:"handleWindowResize",value:function(){this.resetImageInitialState(this.props)}},{key:"handleRotate",value:function(e){this.setState({rotate:(360+this.state.rotate+e)%360})}},{key:"handleZoom",value:function(e,t){t||(t=1);var n=e>0?Math.pow(1.1,t):Math.pow(1/1.1,t),o=this.setZoomLimits(this.state.ratio*n),i=this.state,a=void 0,r=void 0;if(Math.min(i.boxWidth/i.width,i.boxHeight/i.height)>=o-.05)a=(i.boxWidth-i.width*o)/2,r=(i.boxHeight-i.height*o)/2;else{var s=i.boxWidth/2,l=i.boxHeight/2,c=s-i.positionX,u=l-i.positionY,p=c/(i.width*i.ratio),d=u/(i.height*i.ratio);a=s-i.width*o*p,r=l-i.height*o*d}this.setState({ratio:o,positionX:a,positionY:r})}},{key:"setZoomLimits",value:function(e){var t=this.state,n=Math.min(t.boxWidth/t.width,t.boxHeight/t.height);return e/n>m?m*n:e/n<b?b*n:e}},{key:"handleWheel",value:function(e){this.isInsideImage(e)&&this.handleZoom(e.deltaY)}},{key:"handleMove",value:function(e){e=this.getEv(e);var t=this.state;if(t.moving){var n=void 0,o=void 0;switch(t.rotate){case 90:o=this.startPoints[0]-e.pageX,n=e.pageY-this.startPoints[1];break;case 180:n=this.startPoints[0]-e.pageX,o=this.startPoints[1]-e.pageY;break;case 270:o=e.pageX-this.startPoints[0],n=this.startPoints[1]-e.pageY;break;default:n=e.pageX-this.startPoints[0],o=e.pageY-this.startPoints[1]}this.startPoints=[e.pageX,e.pageY],(t.positionX+n>=0||t.positionX+n<=t.boxWidth-t.width*t.ratio)&&(n=0),(t.positionY+o>=0||t.positionY+o<=t.boxHeight-t.height*t.ratio)&&(o=0),this.setState({positionX:t.positionX+n,positionY:t.positionY+o})}}},{key:"handleMoveEnd",value:function(e){this.setState({moving:!1})}},{key:"handleMoveStart",value:function(e){if(e=this.getEv(e),this.isInsideImage(e)&&1===e.which){this.startPoints=[e.pageX,e.pageY],this.setState({moving:!0});var t=this;window.setTimeout((function(){!t.state.moving&&t.startPoints&&t.startPoints[0]===e.pageX&&t.startPoints[1]===e.pageY&&Object(p.c)(e.target,["lightbox-backdrop","lightbox-image"])&&t.props.toggleControls()}),200)}}},{key:"isInsideImage",value:function(e){var t=r.a.findDOMNode(this.refs.container).getBoundingClientRect();return!(e.pageY<t.top||e.pageY>t.bottom||e.pageX<t.left||e.pageX>t.right)}},{key:"getEv",value:function(e){return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,which:1,target:e.target}:e}},{key:"render",value:function(){var e=[this.props,this.state],t=e[0],n=e[1],o="url("+t.src+")",a=void 0,r=void 0;t.showImageModifiers&&(a=i.a.createElement(c.a,{handleRotate:this.handleRotate,handleZoom:this.handleZoom,currentImage:t.src})),n.loader&&(o="none",r=i.a.createElement("div",{className:"lightbox-loader"},i.a.createElement(u.a,{icon:"spinner",size:58})));var s="rotate("+n.rotate+"deg)",l={height:"100%",backgroundImage:o,backgroundRepeat:"no-repeat",backgroundSize:n.width*n.ratio+"px "+n.height*n.ratio+"px",backgroundPosition:n.positionX+"px "+n.positionY+"px",MsTransform:s,WebkitTransform:s,transform:s};return i.a.createElement("div",{className:"lightbox-content-center"},a,i.a.createElement("div",{className:"lightbox-image-container",ref:"container"},i.a.createElement("div",{className:"lightbox-image"+(n.moving?" moving":""),style:l},r)))}}]),t}(i.a.Component);t.a=g,Image.propTypes={src:l.a.string.isRequired,showImageModifiers:l.a.bool.isRequired}},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(1),r=n.n(a),s=n(6),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRotateClockwise=n.handleRotateClockwise.bind(n),n.handleRotateCounterclockwise=n.handleRotateCounterclockwise.bind(n),n.handleZoomIn=n.handleZoomIn.bind(n),n.handleZoomOut=n.handleZoomOut.bind(n),n.handleDownload=n.handleDownload.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"handleRotateClockwise",value:function(){this.props.handleRotate.call(this,90)}},{key:"handleRotateCounterclockwise",value:function(){this.props.handleRotate.call(this,-90)}},{key:"handleZoomIn",value:function(){this.props.handleZoom.call(this,1,10)}},{key:"handleZoomOut",value:function(){this.props.handleZoom.call(this,-1,10)}},{key:"handleDownload",value:function(){console.log(this.props.currentImage),window.open(this.props.currentImage)}},{key:"render",value:function(){return i.a.createElement("div",{className:"lightbox-modifiers-box"},i.a.createElement(s.a,{icon:"zoom-in",onClick:this.handleZoomIn,size:34,hasRipple:!0}),i.a.createElement(s.a,{icon:"zoom-out",onClick:this.handleZoomOut,size:34,hasRipple:!0}),i.a.createElement(s.a,{icon:"rotate-left",onClick:this.handleRotateCounterclockwise,size:34,hasRipple:!0}),i.a.createElement(s.a,{icon:"rotate-right",onClick:this.handleRotateClockwise,size:34,hasRipple:!0}),i.a.createElement(s.a,{icon:"download",onClick:this.handleDownload,size:34,hasRipple:!0}))}}]),t}(i.a.Component);t.a=c,c.propTypes={handleRotate:r.a.func.isRequired,handleZoom:r.a.func.isRequired,currentImage:r.a.string.isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={"zoom-out":["M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"],"zoom-in":["M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"],download:["M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"],"rotate-left":["M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"],"rotate-right":["M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"],"left-arrow":["M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],"right-arrow":["M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],"back-arrow":["M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],spinner:["M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"]}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var o=n(0),i=n.n(o),a=n(2),r=n.n(a),s=n(1),l=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){this._popup=document.createElement("div"),document.body.appendChild(this._popup),this._render()}},{key:"componentDidUpdate",value:function(){this._render()}},{key:"componentWillUnmount",value:function(){r.a.unmountComponentAtNode(this._popup),document.body.removeChild(this._popup)}},{key:"_render",value:function(){r.a.render(this.props.children,this._popup)}},{key:"render",value:function(){return null}}]),t}(i.a.PureComponent);t.a=u,u.propTypes={children:l.a.node}},function(e,t){}]))},608:function(e,t,n){"use strict";var o=n(559),i=n(15),a=n(8),r=n(49),s=n(45),l=n(86),c=n(43),u=n(48),p=n(800),d=n(521),h=n(1114),f=n(1120),m=n(1132),b=n(1118),g=n(1119),v=n(524),y=n(532),w=n(1133),E=n(308),O=n(1125),C=n(16),T=n(522),k=n(178),x=n(721),j=n.n(x),P=n(552),L=n.n(P),_=n(556),I=n.n(_),N=n(723),M=n.n(N),S=n(724),R=n.n(S),A=n(722),D=n.n(A),z=n(553),W=n(50),F=n(547),U=n.n(F),q=n(593),H=n(33),Y=n(80),X=n(584),Z=n(135),V=function(e){function t(e,n,o,i,l,c,u,p,d,h,f,m,b,g,v,y,w,E,O,C,T,k,x){var j,P=arguments.length>23&&void 0!==arguments[23]?arguments[23]:[],L=arguments.length>24&&void 0!==arguments[24]?arguments[24]:Y.a.Public,_=arguments.length>25?arguments[25]:void 0;return Object(a.a)(this,t),(j=Object(r.a)(this,Object(s.a)(t).call(this))).id=e,j.postTypeId=n,j.creationDate=o,j.deleteDate=i,j.score=l,j.votes=c,j.viewCount=u,j.comments=p,j.body=d,j.ownerUserId=h,j.ownerDisplayName=f,j.ownerAvatar=m,j.lastEditDate=b,j.tags=g,j.commentCounter=v,j.image=y,j.imageFullPath=w,j.video=E,j.thumbnail=O,j.album=C,j.disableComments=T,j.disableSharing=k,j.deleted=x,j.accessUserList=P,j.permission=L,j.version=_,j}return Object(u.a)(t,e),t}(n(14).a),K=n(204),G=n(58),B=n.n(G),Q=n(0),J=n.n(Q),$=n(106),ee=n(61),te=n(718),ne=n.n(te),oe=n(22),ie=n(5),ae=n(46),re=n(19),se=n(39),le=n(539),ce=n(122),ue=n.n(ce);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var de=[{label:""},{label:""}];function he(e){return J.a.createElement(O.a,Object.assign({direction:"up"},e))}var fe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleSetImage=function(e,t){n.close()},n.getPermissionLabel=function(){var e=n.props.t,t=n.state.permission,o="";return t===Y.a.Public?o=e("permission.public"):t===Y.a.Circles?o=e("permission.circles"):t===Y.a.OnlyMe&&(o=e("permission.onlyMe")),o},n.handleChange=function(e){return function(t){var o=n.props.t,a=t.target.value,r=null;W.a.isEmpty(a)&&(r=o("album.".concat(e,"Error"))),n.setState((function(t,n){var o;return o={},Object(i.a)(o,e,a),Object(i.a)(o,"".concat(e,"Error"),r),Object(i.a)(o,"saveDisabled",!W.a.isEmpty(r)),o}))}},n.handleNext=function(){n.setState((function(e){return{activeStep:e.activeStep+1}}))},n.handleBack=function(){n.setState((function(e){return{activeStep:e.activeStep-1}}))},n.handleTogglePermission=function(){n.setState((function(e,t){return{permissionOpen:!e.permissionOpen}}))},n.handleAccessList=function(e,t){n.setState({accessUserList:e,permission:t,permissionOpen:!1})},n.closeDialog=function(){var e=n.props.onClose;e&&e()},n.saveAlbum=function(){var e=n.props,t=e.progress,a=e.post,r=e.t,s=e.currentUser,l=e.currentAlbum,c=n.state,u=c.accessUserList,p=c.permission,d=W.a.isEmpty(n.state.description)?"":n.state.description,h=W.a.isEmpty(n.state.albumName)?r("album.defaultAlbumName"):n.state.albumName,f=Object(o.a)(n.state.selectedPhotos),m=[],b=f.map((function(e){var n=t.getIn([e.fileName,"meta"],{url:""}),o=e.fileName.split(".")[0],i=new Z.a(o,0,0,n.url||URL.createObjectURL(e.file),n.url||URL.createObjectURL(e.file),e.fileName,"","",e.fileName,s.userId,0,"",0,0,"",!1,u,p);return m.push(i),{url:n.url,fileName:e.fileName,fileId:o}}));if(a&&s){var g={photos:b.slice(0,4),cover:b[0].url,coverId:b[0].fileId,count:b.length,title:h},v=g.photos.map((function(e){return e.url})),y=new X.a(v,g.cover,g.coverId,g.count,g.title);l?n.updateAlbum(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l),s,d,b[0].url,y,u,p,m):n.createAlbum(s,d,b[0].url,y,u,p,m)}},n.createAlbum=function(e,t,o,i,a,r,s){var l=n.props.post,c=new V("0",K.a.Album,B()().utc().valueOf(),0,0,{},0,{},t,e.userId,e.fullName,e.avatar,0,[],0,o,"","","",i,!1,!1,!1,a,r,oe.a.dataFormat.postVersion);l&&l(c,s)},n.updateAlbum=function(e,t,o,i,a,r,s,l){var c=n.props.post;e.body=o,e.image=i,e.album=a,e.accessUserList=r,e.permission=s,c&&c(e,l)},n.handleStepChange=function(e){n.setState({activeStep:e})},n.onFileChange=function(e){var t=n.props.uploadImage,i=Object(o.a)(n.state.selectedPhotos);if(t){for(var a=e.currentTarget.files,r=[],s=0;s<a.length;s++){var l=a[s],c=z.a.getExtension(l.name),u="".concat(ue()(),".").concat(c);r.push({file:URL.createObjectURL(l),fileName:u}),t(l,u)}var p=[].concat(Object(o.a)(i),r);n.setState({selectedPhotos:p}),e.currentTarget.value=null}},n.deleteSelectedPhoto=function(e){var t=Object(o.a)(n.state.selectedPhotos);t=t.filter((function(t){return t.fileName!==e})),n.setState({selectedPhotos:t})},n.close=function(){n.props.onClose()},n.imageList=function(){var e=n.props,t=e.classes,o=e.progress;return n.state.selectedPhotos.map((function(e){var i=o.getIn([e.fileName,"percent"],0),a=o.getIn([e.fileName,"visible"],!0);return J.a.createElement(b.a,{key:"album-dialog-tile-".concat(e.fileName)},J.a.createElement("img",{src:e.file,alt:"something"}),J.a.createElement(g.a,{title:a?J.a.createElement(y.a,{variant:"determinate",value:i,color:"secondary"}):"",actionIcon:a?"":J.a.createElement(v.a,{className:t.icon,onClick:function(){return n.deleteSelectedPhoto(e.fileName)}},J.a.createElement(I.a,null))}))}))},n.gridTile=function(){var e=n.props.classes;return J.a.createElement("div",{className:e.gridTileRoot},J.a.createElement(f.a,{cellHeight:180,className:e.gridList},J.a.createElement(b.a,{key:"Subheader",cols:2,style:{height:"auto"}}),n.imageList()))},n.state={acceptedFiles:[],rejectedFiles:[],activeStep:0,selectedPhotos:Object(o.a)(e.photos),nextDisabled:!0,description:e.currentAlbum&&e.currentAlbum.body?e.currentAlbum.body:"",descriptionError:"",albumName:e.currentAlbum&&e.currentAlbum.album&&e.currentAlbum.album.title?e.currentAlbum.album.title:"",saveDisabled:void 0===e.currentAlbum,albumNameError:"",accessUserList:e.currentAlbum&&e.currentAlbum.accessUserList?e.currentAlbum.accessUserList:[],permission:e.currentAlbum&&e.currentAlbum.permission?e.currentAlbum.permission:Y.a.Public,permissionOpen:!1},n.close=n.close.bind(Object(l.a)(n)),n.onFileChange=n.onFileChange.bind(Object(l.a)(n)),n.handleSetImage=n.handleSetImage.bind(Object(l.a)(n)),n.imageList=n.imageList.bind(Object(l.a)(n)),n.deleteSelectedPhoto=n.deleteSelectedPhoto.bind(Object(l.a)(n)),n.handleChange=n.handleChange.bind(Object(l.a)(n)),n.saveAlbum=n.saveAlbum.bind(Object(l.a)(n)),n.handleTogglePermission=n.handleTogglePermission.bind(Object(l.a)(n)),n.getPermissionLabel=n.getPermissionLabel.bind(Object(l.a)(n)),n.handleAccessList=n.handleAccessList.bind(Object(l.a)(n)),n.closeDialog=n.closeDialog.bind(Object(l.a)(n)),n.createAlbum=n.createAlbum.bind(Object(l.a)(n)),n.updateAlbum=n.updateAlbum.bind(Object(l.a)(n)),n}return Object(u.a)(t,e),Object(c.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){if(e.progress){for(var n=0;n<t.selectedPhotos.length;n++){var o=t.selectedPhotos[n];if(100!==e.progress.getIn([o.fileName,"percent"],0))return{nextDisabled:!0}}return{nextDisabled:!1}}return null}}]),Object(c.a)(t,[{key:"onDrop",value:function(e,t){this.setState({acceptedFiles:e,rejectedFiles:t})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.classes,o=e.theme,i=e.open,a=e.onClose,r=e.createAlbumRequestStatus,s=this.state,l=s.activeStep,c=s.nextDisabled,u=s.selectedPhotos,f=s.description,b=s.descriptionError,g=s.albumNameError,y=s.albumName,O=s.permissionOpen,C=s.permission,x=s.saveDisabled,P=de.length,_=r===re.a.Sent;return J.a.createElement(h.a,{id:"album-dialog-",open:i,classes:{paper:n.paper},onClose:a,TransitionComponent:he},J.a.createElement("input",{accept:"image/*",className:n.input,id:"album-dialog-button-file",multiple:!0,onChange:this.onFileChange,type:"file"}),J.a.createElement("div",{className:n.root},J.a.createElement(E.a,{square:!0,elevation:0,className:n.header},J.a.createElement(k.a,null,de[l].label),J.a.createElement(v.a,{color:"inherit",onClick:a,"aria-label":"Close"},J.a.createElement(L.a,null)),0===l?J.a.createElement("label",{htmlFor:"album-dialog-button-file"},J.a.createElement(p.a,{component:"span",color:"primary"},J.a.createElement(j.a,null),t("album.addPhotos"))):J.a.createElement(k.a,{variant:"h6"}," ",t("album.saveAlbum")," ")),J.a.createElement(ne.a,{axis:"rtl"===o.direction?"x-reverse":"x",index:this.state.activeStep,onChangeIndex:this.handleStepChange,enableMouseEvents:!0},this.gridTile(),J.a.createElement("div",{className:n.information},J.a.createElement(m.a,{onClick:this.handleTogglePermission,className:n.button},J.a.createElement(D.a,null),this.getPermissionLabel()),J.a.createElement("div",{style:{height:40}}),J.a.createElement(T.a,{autoFocus:1===l,value:y,onChange:this.handleChange("albumName"),placeholder:t("album.albumTitle"),error:!W.a.isEmpty(g),helperText:g}),J.a.createElement("div",{style:{height:40}}),J.a.createElement(T.a,{value:f,onChange:this.handleChange("description"),placeholder:t("album.description"),multiline:!0,rows:2,rowsMax:4,style:{fontWeight:400,fontSize:"14px",flexShrink:0,width:"initial",flexGrow:1},error:!W.a.isEmpty(b),helperText:b}))),J.a.createElement(w.a,{steps:P,position:"bottom",activeStep:l,className:n.mobileStepper,nextButton:l!==P-1?J.a.createElement(J.a.Fragment,null,J.a.createElement(p.a,{size:"small",disabled:c||!(u.length>0),onClick:this.handleNext},t("album.next")," ","rtl"===o.direction?J.a.createElement(M.a,null):J.a.createElement(R.a,null))):J.a.createElement("div",{className:n.wrapper},J.a.createElement(p.a,{size:"small",variant:"contained",disabled:_||x||!W.a.isEmpty(g)||!W.a.isEmpty(b),color:"secondary",onClick:this.saveAlbum},t("album.save")),_&&J.a.createElement(d.a,{size:24,className:n.buttonProgress})),backButton:J.a.createElement(p.a,{size:"small",onClick:this.handleBack,disabled:0===l},"rtl"===o.direction?J.a.createElement(R.a,null):J.a.createElement(M.a,null),t("album.back"))})),J.a.createElement(q.a,{onClose:this.handleTogglePermission,open:O,onAddAccessList:this.handleAccessList,access:C}))}}]),t}(Q.Component),me=Object($.c)("translations")(fe),be=Object(C.a)((function(e){return{fullPageXs:{},root:{flexGrow:1,overflow:"hidden"},gridTileRoot:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,maxHeight:380},icon:{color:"rgba(255, 255, 255, 0.54)"},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),marginBottom:20,backgroundColor:e.palette.background.default},paper:Object(i.a)({minHeight:"500px"},e.breakpoints.down("xs"),{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",borderRadius:0,margin:0}),information:{display:"flex",flexDirection:"column",padding:20},buttonProgress:{color:U.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"}}}),{withTheme:!0})(me);t.a=Object(ee.connect)((function(){var e=se.a.selectCurrentUser(),t=le.a.selectRequest();return function(n,o){var i=e(n).toJS(),a=W.a.createServerRequestId(H.a.GalleryCreateAlbum,i.userId),r=t(n,{requestId:a});return{currentUser:i,createAlbumRequestStatus:r?r.status:re.a.NoAction}}}),(function(e,t){return{post:function(t,n){return e(ae.dbCreateAlbum(t,n))},uploadImage:function(t,n){return e(ae.dbUploadImage(t,n))},deleteImage:function(t,n){return e(ae.dbDeleteImage(t,oe.a.data.imageFolderPath,n))},progressChange:function(t,n){return e(ie.progressChange(t,n))}}}))(be)}}]);