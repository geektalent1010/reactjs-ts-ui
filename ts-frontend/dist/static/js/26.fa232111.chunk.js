(this["webpackJsonptelar-social-engine"]=this["webpackJsonptelar-social-engine"]||[]).push([[26],{1180:function(e,t,a){"use strict";a.r(t),a.d(t,"PeopleComponent",(function(){return pe}));var l=a(1146),s=a(1170),r=a(1174),i=a(176),n=a(177),c=a(0),o=a.n(c),d=a(97),p=a(59),h=a(126),u=a(594),m=a(531),g=a(536),C=a(138),b=a(35),E=a(46);const f=e=>({loadPeople:(t,a)=>e(b.i(t,a)),increasePage:()=>e(b.p())}),v=()=>{const e=E.a.selectMoreFindPeople(),t=E.a.selectFindPeople(),a=E.a.selectFindPeoplePage();return l=>{const s=e(l);return{peopleInfo:t(l),hasMorePeople:s,page:a(l)}}};class x extends c.Component{constructor(e){super(e),this.nextPage=0,this.scrollLoad=()=>{const e=this.props,t=e.loadPeople,a=e.page,l=e.increasePage;t&&void 0!==a&&t&&l&&(t(a,10),l())},this.state={}}componentDidMount(){this.scrollLoad()}render(){const e=this.props,t=e.hasMorePeople,a=e.t,l=Object(C.b)(this.props.peopleInfo,"this.props.peopleInfo");return a?o.a.createElement("div",null,o.a.createElement(g.a,{dataLength:l?l.count():0,next:this.scrollLoad,hasMore:t||!1,endMessage:o.a.createElement("p",{style:{textAlign:"center"}}),loader:o.a.createElement(m.a,{key:"find-people-load-more-progress"})},o.a.createElement("div",{className:"tracks"},l&&l.count()>0?o.a.createElement("div",null,o.a.createElement("div",{className:"profile__title"},a("people.suggestionsForYouLabel")),o.a.createElement(u.a,{users:l}),o.a.createElement("div",{style:{height:"24px"}})):o.a.createElement("div",{className:"g__title-center"},a("people.nothingToShowLabel"))))):o.a.createElement("div",null)}}const w=Object(d.c)("translations")(x);var y,N=(y=w,Object(p.connect)(v,f)(y)),I=a(4);class S extends c.Component{constructor(e){super(e),this.state={}}render(){const e=this.props.t,t=this.props.followers;return o.a.createElement("div",null,t&&0!==t.keySeq().count()?o.a.createElement("div",null,o.a.createElement("div",{className:"profile__title"},e("people.followersLabel")),o.a.createElement(u.a,{users:t}),o.a.createElement("div",{style:{height:"24px"}})):o.a.createElement("div",{className:"g__title-center"},e("people.noFollowersLabel")))}}const O=Object(d.c)("translations")(S);var k=Object(p.connect)((e=>({followers:e.getIn(["circle","userTieds"],Object(I.Map)({}))})),(()=>({})))(O);class T extends c.Component{constructor(e){super(e),this.state={}}render(){const e=this.props.t,t=this.props.followingUsers;return o.a.createElement("div",null,t&&0!==t.keySeq().count()?o.a.createElement("div",null,o.a.createElement("div",{className:"profile__title"},e("people.followingLabel")),o.a.createElement(u.a,{users:t}),o.a.createElement("div",{style:{height:"24px"}})):o.a.createElement("div",{className:"g__title-center"},e("people.noFollowingLabel")))}}const j=Object(d.c)("translations")(T);var L=Object(p.connect)((e=>({uid:e.getIn(["authorize","uid"],0),circles:e.getIn(["circle","circleList"],{}),followingUsers:e.getIn(["circle","userTies"],{})})),(()=>({})))(j),B=a(471),P=a(828),F=a(961),R=a(1138),M=a(1140),D=a(1139),_=a(687),U=a(504),A=a(508),q=a(1137),W=a(511),z=a(510),H=a(1136),J=a(470),X=a(468),Y=a(15),G=a(502),K=a(534),Q=a.n(K),V=a(1058),Z=a.n(V),$=a(527),ee=a.n($),te=a(204),ae=a(94);class le extends c.Component{constructor(e){super(e),this.styles={userListItem:{backgroundColor:"#e2e2e2"},rightIconMenu:{display:"block",position:"absolute",top:"0px",right:"12px"},settingOverlay:{background:"rgba(0,0,0,0.12)"},settingContent:{maxWidth:"400px"},listMenu:{color:"rgba(0,0,0,0.87)",fontSize:"16px",marginRight:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},this.handleChangeCircleName=e=>{const t=e.target.value;this.setState({circleName:t,disabledSave:!t||""===t.trim()})},this.handleCloseMenu=()=>{this.setState({anchorElMenu:null})},this.handleOpenMenu=e=>{this.setState({anchorElMenu:e.currentTarget})},this.handleUpdateCircle=()=>{const e=this.state.circleName,t=this.props.updateCircle;t&&e&&""!==e.trim()&&t({name:e,id:this.props.id})},this.handleDeleteCircle=()=>{const e=this.props,t=e.deleteCircle,a=e.id;t&&t(a)},this.handleToggleCircle=()=>{this.setState({open:!this.state.open})},this.userList=()=>{const e=this.props,t=e.usersOfCircle,a=e.goTo,l=[];if(t&&a)return t.forEach(((e,t)=>{const s=e.get("fullName"),r=e.get("avatar","");l.push(o.a.createElement(A.a,{button:!0,key:"".concat(this.props.id,".").concat(t),style:this.styles.userListItem,onClick:()=>a("/".concat(t))},o.a.createElement(te.a,{fullName:s,fileName:r}),o.a.createElement(z.a,{inset:!0,primary:s})))})),l},this.state={open:!1,circleName:this.props.circle.get("name",""),disabledSave:!1,anchorElMenu:null},this.handleToggleCircle=this.handleToggleCircle.bind(this),this.handleDeleteCircle=this.handleDeleteCircle.bind(this),this.handleUpdateCircle=this.handleUpdateCircle.bind(this),this.handleChangeCircleName=this.handleChangeCircleName.bind(this)}render(){const e=this.props,t=e.circle,a=e.classes,l=e.t,s=this.state.anchorElMenu;if(!l)return o.a.createElement("div",null);const r=o.a.createElement("div",null,o.a.createElement(U.a,{"aria-owns":s?"circle-menu":"","aria-haspopup":"true",onClick:this.handleOpenMenu},o.a.createElement(ee.a,null)),o.a.createElement(X.a,{id:"current-user-menu-root",anchorEl:s,open:Boolean(s),onClose:this.handleCloseMenu,PaperProps:{style:{maxHeight:900,boxShadow:"0 1px 4px 0 rgba(0,0,0,0.14)"}}},o.a.createElement(J.a,{role:"menu"},o.a.createElement(H.a,{onClick:this.handleDeleteCircle}," ",l("circle.deleteCircleButton")," "),o.a.createElement(H.a,{onClick:this.props.openCircleSettings}," ",l("circle.settingLable")," "))));let i=this.props.circle.get("name");i="Following"===i?l("userBox.followingLabel"):i;const n=o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},o.a.createElement("div",{style:{paddingRight:"10px"}},o.a.createElement(Q.a,{onClick:this.props.closeCircleSettings,style:{cursor:"pointer"}})),o.a.createElement("div",{style:{color:"rgba(0,0,0,0.87)",flex:"1 1",font:"500 20px Roboto,RobotoDraft,Helvetica,Arial,sans-serif"}},l("circle.settingLable")),o.a.createElement("div",{style:{marginTop:"-9px"}},o.a.createElement(P.a,{color:"primary",disabled:this.state.disabledSave,onClick:this.handleUpdateCircle}," ",l("circle.saveButton")," "))),o.a.createElement(_.a,null));return o.a.createElement("div",null,o.a.createElement(A.a,{className:a.root,key:this.props.id+"-CircleComponent",onClick:this.handleToggleCircle},o.a.createElement(q.a,{className:a.icon},o.a.createElement(Z.a,null)),o.a.createElement(z.a,{inset:!0,primary:o.a.createElement("span",{style:this.styles},i)}),o.a.createElement(W.a,null,t.get("isSystem")?null:r)),o.a.createElement(F.a,{component:"li",in:this.state.open,timeout:"auto",unmountOnExit:!0},o.a.createElement(B.a,{disablePadding:!0},this.userList())),o.a.createElement(R.a,{PaperProps:{className:a.fullPageXs},key:this.props.id,open:this.props.openSetting||!1,onClose:this.props.closeCircleSettings,classes:{paper:a.dialogPaper}},o.a.createElement(D.a,null,n),o.a.createElement(M.a,null,o.a.createElement(G.a,{fullWidth:!0,autoFocus:!0,placeholder:l("circle.circleName"),label:l("circle.circleName"),onChange:this.handleChangeCircleName,value:this.state.circleName}))))}}const se=Object(d.c)("translations")(le);var re=Object(p.connect)(((e,t)=>{const a=e.getIn(["circle","userTies"]),l=t.circle.get("id");let s=Object(I.Map)({});return a.forEach(((e,a)=>{const l=e;l.getIn(["circleIdList"]).indexOf(t.id)>-1&&(s=s.set(a,l))})),{usersOfCircle:s,openSetting:e.getIn(["circle","openSetting",l],!1)}}),((e,t)=>({deleteCircle:t=>e(ae.h(t)),updateCircle:t=>e(ae.n(t)),closeCircleSettings:()=>e(ae.e(t.id)),openCircleSettings:()=>e(ae.p(t.id)),goTo:t=>e(Object(n.a)(t))})))(Object(Y.a)((e=>({root:{width:"100%",paddingRight:"0px",backgroundColor:e.palette.background.paper},popperOpen:{zIndex:10},popperClose:{pointerEvents:"none",zIndex:0},dialogPaper:{minWidth:400},fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}}})))(se));class ie extends c.Component{constructor(e){super(e),this.circleList=()=>{const e=this.props,t=e.circles,a=e.uid,l=[];return t&&t.forEach(((e,t)=>{t&&e&&a&&l.push(o.a.createElement(re,{key:t,circle:e,id:t,uid:a}))})),l},this.state={}}render(){const e=this.props.t,t=this.circleList();return o.a.createElement("div",{style:{maxWidth:"800px",margin:"40px auto"}},t&&0!==t.length?o.a.createElement("div",null,o.a.createElement("div",{className:"profile__title"},e("yourCircles.title")),o.a.createElement(B.a,null,t),o.a.createElement("div",{style:{height:"24px"}})):"")}}const ne=Object(d.c)("translations")(ie);var ce=Object(p.connect)((e=>({uid:e.getIn(["authorize","uid"]),circles:e.getIn(["circle","circleList"],{})})),(()=>({})))(ne),oe=a(5);const de=e=>o.a.createElement(i.a,{component:"div",style:{padding:24}},e.children);class pe extends c.Component{constructor(e){super(e),this.handleChangeTab=(e,t)=>{const a=this.props,l=a.goTo,s=a.setHeaderTitle,r=a.t;if(this.setState({tabIndex:t}),l&&s&&r)switch(t){case 0:l("/people"),s(r("header.peopleCaption"));break;case 1:l("/people/circles"),s(r("header.circlesCaption"));break;case 2:l("/people/followers"),s(r("header.followersCaption"))}},this.getTabIndexByNav=e=>{switch(e){case"circles":return 1;case"followers":return 2;default:return 0}};const t=this.props.match.params.tab;this.state={tabIndex:this.getTabIndexByNav(t)}}componentDidMount(){const e=this.props,t=e.setHeaderTitle,a=e.t,l=this.props.match.params.tab;if(t&&a)switch(l){case void 0:case"":t(a("header.peopleCaption"));break;case"circles":t(a("header.circlesCaption"));break;case"followers":t(a("header.followersCaption"))}}render(){const e=this.props,t=e.circlesLoaded,a=e.t,i=this.state.tabIndex;return a?o.a.createElement("div",{style:{margin:"0 auto"}},o.a.createElement(l.a,{position:"static",color:"default"},o.a.createElement(r.a,{indicatorColor:"secondary",onChange:this.handleChangeTab,value:i,centered:!0,textColor:"primary"},o.a.createElement(s.a,{label:a("people.findPeopleTab")}),o.a.createElement(s.a,{label:a("people.followingTab")}),o.a.createElement(s.a,{label:a("people.followersTab")}))),0===i&&o.a.createElement(de,null,t?o.a.createElement(N,null):""),1===i&&o.a.createElement(de,null,t?o.a.createElement(L,null):"",t?o.a.createElement(ce,null):""),2===i&&o.a.createElement(de,null,t?o.a.createElement(k,null):"")):o.a.createElement("div",null)}}const he=Object(d.c)("translations")(pe);t.default=Object(h.withRouter)(Object(p.connect)((e=>({uid:e.getIn(["authorize","uid"],0),circlesLoaded:e.getIn(["circle","loaded"])})),(e=>({goTo:t=>e(Object(n.a)(t)),setHeaderTitle:t=>e(oe.q(t))})))(he))},531:function(e,t,a){"use strict";var l=a(616),s=a(501),r=a(0),i=a.n(r);class n extends r.Component{render(){const e=this.props.theme;return i.a.createElement("div",{key:"load-more-progress",className:"g-load-more"},i.a.createElement(s.a,{size:30,thickness:5,style:{color:e.palette.primary.light}}))}}t.a=Object(l.a)(n)},594:function(e,t,a){"use strict";var l=a(310),s=a(15),r=a(150),i=a.n(r),n=a(595),c=a(204),o=a(177),d=a(0),p=a.n(d),h=a(97),u=a(59),m=a(46);class g extends d.Component{constructor(e){super(e),this.styles={followButton:{position:"absolute",bottom:"30px",left:0,right:0},dialog:{width:"",maxWidth:"280px",borderRadius:"4px"}},this.state={circleName:"",disabledCreateCircle:!0,disabledAddToCircle:!0,disabledDoneCircles:!0}}render(){const e=this.props,t=e.userId,a=e.classes,s=e.fullName,r=e.user,o=e.avatar,d=e.goTo;return d?p.a.createElement(l.a,{key:t,elevation:1,className:i()("grid-cell",a.paper)},p.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100%",position:"relative",paddingTop:20}},p.a.createElement("div",{onClick:()=>d("/".concat(t)),style:{cursor:"pointer"}},p.a.createElement(c.a,{fullName:s,fileName:o,size:90})),p.a.createElement("div",{onClick:()=>d("/".concat(t)),className:"people__name",style:{cursor:"pointer"}},p.a.createElement("div",null,this.props.fullName)),p.a.createElement("div",{style:this.styles.followButton},p.a.createElement(n.a,{userId:t,user:r&&r.toJS()})))):p.a.createElement("div",null)}}const C=Object(h.c)("translations")(g);var b=Object(u.connect)(((e,t)=>{const a=m.a.getUserProfileById(e,{userId:t.userId}).toJS();return{avatar:a.avatar||"",fullName:a.fullName||""}}),(e=>({goTo:t=>e(Object(o.a)(t))})))(Object(s.a)((e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},paper:{height:254,width:243,margin:10,textAlign:"center",minWidth:230,maxWidth:"257px"},dialogContent:{paddingTop:"5px",padding:"0px 5px 5px 5px"},circleName:{fontSize:"1rem"},space:{height:20},fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}}})))(C));class E extends d.Component{constructor(e){super(e),this.userList=()=>{const e=this.props.uid,t=this.props.users,a=[];return t&&t.forEach((t=>{const l=t.get("userId");e!==l&&a.push(p.a.createElement(b,{key:l,userId:l,user:t}))})),a},this.state={}}render(){return p.a.createElement("div",{className:"grid grid__1of4 grid__space-around"},this.userList())}}t.a=Object(u.connect)((e=>({uid:e.getIn(["authorize","uid"],0)})),(()=>({})))(E)},595:function(e,t,a){"use strict";var l=a(828),s=a(763),r=a(175),i=a(1138),n=a(1141),c=a(1140),o=a(687),d=a(504),p=a(471),h=a(508),u=a(511),m=a(510),g=a(15),C=a(502),b=a(514),E=a(590),f=a.n(E),v=a(43);var x=a(177),w=a(32),y=a(4),N=a(0),I=a.n(N),S=a(97),O=a(59),k=a(94),T=a(17),j=a(46);class L extends N.Component{constructor(e){super(e),this.handleDoneAddCircle=()=>{const e=this.props,t=e.userId,a=e.addUserToCircle,l=e.selectedCircles,s=e.deleteFollowingUser,r=e.avatar,i=e.fullName;!this.state.disabledDoneCircles&&l&&a&&s&&(l.count()>0?a(l,{avatar:r,userId:t,fullName:i}):s(t))},this.onFollowUser=e=>{e.preventDefault();const t=this.props,a=t.isFollowed,l=t.followUser,s=t.followingCircle,r=t.userId,i=t.followRequest,n=t.avatar,c=t.fullName;l&&s&&(i&&i.status===T.a.Sent||(a?this.onRequestOpenAddCircle():l(s?s.get("id"):r,{avatar:n,userId:r,fullName:c})))},this.onRequestCloseAddCircle=()=>{const e=this.props,t=e.setSelectedCircles,a=e.userId,l=e.userBelongCircles,s=e.closeSelectCircles;t&&l&&s&&(t(a,l),s(a),this.setState({circleName:"",disabledCreateCircle:!0,disabledAddToCircle:!0,disabledDoneCircles:!0}))},this.onRequestOpenAddCircle=()=>{const e=this.props,t=e.openSelectCircles,a=e.userId;e.followingCircle&&t&&t(a)},this.onCreateCircle=()=>{const e=this.state.circleName,t=this.props.createCircle;t&&e&&""!==e.trim()&&(t(this.state.circleName),this.setState({circleName:"",disabledCreateCircle:!0}))},this.handleChangeName=e=>{this.setState({circleName:e.target.value,disabledCreateCircle:void 0===e.target.value||""===e.target.value.trim()})},this.handleSelectCircle=(e,t,a)=>{const l=this.props,s=l.setSelectedCircles,r=l.selectedCircles,i=l.userId;if(!r||!s)return;let n=r;if(t)n=r.push(a);else{const e=r.indexOf(a);n=n.remove(e)}s(i,n),this.setState({disabledDoneCircles:!this.selectedCircleChange(n)})},this.circleList=()=>{const e=this.props,t=e.circles,a=e.userId,l=e.selectedCircles,r=e.classes,i=e.t,n=[];if(t)return t.forEach(((e,t)=>{const c=!!l&&l.indexOf(t)>-1,o=e.get("name");n.push(I.a.createElement(h.a,{key:"".concat(t,"-").concat(a),dense:!0,className:r.listItem},I.a.createElement(m.a,{className:r.circleName,primary:"Following"===o?i("userBox.followingLabel"):o}),I.a.createElement(u.a,null,I.a.createElement(s.a,{onChange:(e,a)=>this.handleSelectCircle(e,a,t),checked:c}))))})),n},this.selectedCircleChange=e=>{let t=!1;const a=this.props.userBelongCircles;if(a&&e){if(e.count()===a.count())for(let l=0;l<e.count();l++){const s=e.get(l,"");if(!(a.indexOf(s)>-1)){t=!0;break}}else t=!0;return t}},this.state={circleName:"",disabledCreateCircle:!0,disabledAddToCircle:!0,disabledDoneCircles:!0},this.handleChangeName=this.handleChangeName.bind(this),this.onCreateCircle=this.onCreateCircle.bind(this),this.handleDoneAddCircle=this.handleDoneAddCircle.bind(this),this.circleList=this.circleList.bind(this)}render(){const e=this.state.disabledDoneCircles,t=this.props,a=t.isFollowed,s=t.firstBelongCircle,g=t.belongCirclesCount,E=t.followRequest,v=t.userId,x=t.isSelecteCirclesOpen,w=t.addToCircleRequest,y=t.deleteFollowingUserRequest,N=t.classes,S=t.t;if(!S)return I.a.createElement("div",null);const O=a?(g||0)>1?S("userBox.numberOfCircleButton",{circlesCount:g}):s?s.get("name",S("userBox.followedLabel")):S("userBox.followButton"):S("userBox.followButton");return I.a.createElement(I.a.Fragment,null,I.a.createElement(l.a,{color:"primary",onClick:this.onFollowUser,disabled:!!E&&E.status===T.a.Sent||!!y&&y.status===T.a.Sent},"Following"===O?S("userBox.followingLabel"):O),I.a.createElement(i.a,{PaperProps:{className:N.fullPageXs},key:this.props.userId||0,open:!0===x,onClose:this.onRequestCloseAddCircle},I.a.createElement(c.a,{className:N.dialogContent},I.a.createElement(p.a,null,this.circleList(),I.a.createElement("div",{className:N.space}),I.a.createElement(o.a,null),I.a.createElement(h.a,{key:"'circleName'-".concat(v),dense:!0,className:N.listItem},I.a.createElement(m.a,{primary:I.a.createElement(C.a,{autoFocus:!0,placeholder:S("userBox.groupNamePlaceholder"),onChange:this.handleChangeName,value:this.state.circleName})}),I.a.createElement(u.a,null,I.a.createElement(d.a,{onClick:this.onCreateCircle,disabled:this.state.disabledCreateCircle},I.a.createElement(b.a,{title:S("userBox.createCircleTooltip")},I.a.createElement(f.a,null))))))),I.a.createElement(n.a,null,I.a.createElement(l.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:this.onRequestCloseAddCircle,style:{color:r.a[800]}},S("userBox.cancelButton")),I.a.createElement(l.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,disabled:e||!!w&&w.status===T.a.Sent,onClick:this.handleDoneAddCircle},S("userBox.doneButton")))))}}const B=Object(S.c)("translations")(L);t.a=Object(O.connect)(((e,t)=>{const a=e.getIn(["circle","circleList"],Object(y.Map)({})),l=e.getIn(["circle","userTies",t.userId,"circleIdList"],Object(y.List)()),s=l.count()>0,r=a.filter((e=>e.get("isSystem",!1)&&"Following"===e.get("name"))).toArray()[0][1],i=v.a.createServerRequestId(w.a.CircleFollowUser,t.userId),n=e.getIn(["server","request",i]),c=e.getIn(["circle","selectedCircles",t.userId],[]),o=e.getIn(["circle","ui","openSelecteCircles",t.userId],[]),d=j.a.getUserProfileById(e,{userId:t.userId}).toJS();return{isSelecteCirclesOpen:o,isFollowed:s,selectedCircles:c,circles:a,followingCircle:r,userBelongCircles:l,followRequest:n,belongCirclesCount:l.count()||0,firstBelongCircle:l?a.get(l.get(0),Object(y.Map)({})):Object(y.Map)({}),avatar:d.avatar||"",fullName:d.fullName||""}}),(e=>({createCircle:t=>e(k.g(t)),addUserToCircle:(t,a)=>e(k.o(t,a)),followUser:(t,a)=>e(k.j(t,a)),deleteFollowingUser:t=>e(k.i(t)),setSelectedCircles:(t,a)=>e(k.s(t,a)),removeSelectedCircles:t=>e(k.r(t)),openSelectCircles:t=>e(k.q(t)),closeSelectCircles:t=>e(k.f(t)),goTo:t=>e(Object(x.a)(t))})))(Object(g.a)((e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},paper:{height:254,width:243,margin:10,textAlign:"center",minWidth:230,maxWidth:"257px"},dialogContent:{paddingTop:"5px",padding:"0px 5px 5px 5px"},circleName:{fontSize:"1rem"},space:{height:20},fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}},followButton:{position:"absolute",bottom:"30px",left:0,right:0},dialog:{width:"",maxWidth:"280px",borderRadius:"4px"}})))(B))}}]);