(this["webpackJsonptelar-social-engine"]=this["webpackJsonptelar-social-engine"]||[]).push([[32],{1176:function(e,t,a){"use strict";a.r(t),a.d(t,"ConfigComponent",(function(){return K}));var n=a(1146),i=a(687),l=a(1148),o=a(1187),r=a(504),c=a(471),s=a(508),m=a(1137),d=a(510),p=a(15),h=a(1147),g=a(176),u=a(644),f=a.n(u),E=a(638),b=a.n(E),_=a(643),v=a.n(_),w=a(150),k=a.n(w),C=a(177),x=a(0),S=a.n(x),O=a(97),N=a(59),y=a(126),T=a(20),j=a(76),I=a(144),P=a(828),L=a(854),D=a(786),z=a(511),B=a(1150),M=a(310),U=a(1151);var W=a(4),A=a(26);const H=e=>e.getIn(["userSetting","entities"],Object(W.Map)({})),F=()=>Object(A.a)([H],(e=>e));let G;!function(e){e.send_email_on_like="send_email_on_like",e.send_email_on_follow="send_email_on_follow",e.send_email_on_comment_post="send_email_on_comment_post"}(G||(G={}));class J extends x.Component{static getDerivedStateFromProps(e,t){return!t.initialiazed&&e.notificationSetting.count()>0?{initialiazed:!0,checked:e.notificationSetting}:null}constructor(e){super(e),this.handleToggle=e=>()=>{let t=this.state.checked;const a=t.getIn([e,"value"],"false");t="true"==a?t.setIn([e,"value"],"false"):t.setIn([e,"value"],"true"),this.setState({checked:t})},this.state={checked:Object(W.Map)([]),initialiazed:!1},this.handleSaveChanges=this.handleSaveChanges.bind(this)}handleSaveChanges(){const e=this.state.checked,t=this.props.updateUserSetting;t&&t("notification",e)}render(){const e=this.props,t=e.classes,a=e.t,n=this.state.checked;return a?S.a.createElement(D.a,{container:!0,spacing:2,className:t.notification},S.a.createElement(D.a,{item:!0,sm:12,xs:12,md:3,lg:4,xl:4,className:t.headerCaption},S.a.createElement(g.a,{variant:"h6"}," ",a("config.notificationLabel")," "),S.a.createElement(g.a,{variant:"caption"}," ",a("config.notificationCaption")," ")),S.a.createElement(D.a,{item:!0,sm:12,xs:12,md:9,lg:8,xl:8},S.a.createElement("div",{className:"animate-bottom"},S.a.createElement(M.a,{className:t.root},S.a.createElement(c.a,{subheader:S.a.createElement(B.a,null,a("config.notificationLabel"))},S.a.createElement(s.a,null,S.a.createElement(d.a,{primary:a("config.notification.emailOnVote")}),S.a.createElement(z.a,null,S.a.createElement(U.a,{onChange:this.handleToggle(G.send_email_on_like),checked:"true"===n.getIn([G.send_email_on_like,"value"],"false")}))),S.a.createElement(s.a,null,S.a.createElement(d.a,{primary:a("config.notification.emailOnFollow")}),S.a.createElement(z.a,null,S.a.createElement(U.a,{onChange:this.handleToggle(G.send_email_on_follow),checked:"true"===n.getIn([G.send_email_on_follow,"value"],"false")}))),S.a.createElement(s.a,null,S.a.createElement(d.a,{primary:a("config.notification.emailOnComment")}),S.a.createElement(z.a,null,S.a.createElement(U.a,{onChange:this.handleToggle(G.send_email_on_comment_post),checked:"true"===n.getIn([G.send_email_on_comment_post,"value"],"false")})))),S.a.createElement(L.a,null,S.a.createElement(P.a,{color:"primary",onClick:this.handleSaveChanges},a("config.saveChangesButton")," ")))))):S.a.createElement("div",null)}}const R=Object(O.c)("translations")(J);var V=Object(y.withRouter)(Object(N.connect)((()=>{const e=F();return t=>({notificationSetting:e(t).get("notification",Object(W.Map)({}))})}),(e=>({updateUserSetting:(t,a)=>e(I.b(t,a))})))(Object(p.a)((e=>({root:{width:"100%",backgroundColor:e.palette.background.paper},notification:{[e.breakpoints.down("xs")]:{marginTop:25}},headerCaption:{marginLeft:10}})))(R)));let q;!function(e){e[e.ChangePassword=0]="ChangePassword",e[e.Notification=1]="Notification"}(q||(q={}));class K extends x.Component{constructor(e){super(e),this.handleChange=(e,t)=>{this.setState({selectedItem:e,selectedText:t})},this.handleDrawerToggle=()=>{this.setState({mobileOpen:!this.state.mobileOpen})},this.state={selectedItem:q.Notification,selectedText:"",mobileOpen:!1}}componentDidMount(){const e=this.props.getUserSetting;e&&e()}render(){const e=this.props,t=e.classes,a=e.t,p=e.homePage,u=e.theme,E=e.userSetting;if(!a||!p||!E)return S.a.createElement("div",null);const _=S.a.createElement("div",null,S.a.createElement(s.a,{button:!0,onClick:()=>this.handleChange(q.Notification,a("config.notificationLabel"))},S.a.createElement(m.a,null,S.a.createElement(v.a,null)),S.a.createElement(d.a,{primary:a("config.notificationLabel")})),S.a.createElement(s.a,{button:!0,onClick:()=>{p()}},S.a.createElement(m.a,null,S.a.createElement(f.a,null)),S.a.createElement(d.a,{primary:a("config.homeLabel")}))),w=this.state,C=w.selectedItem,x=w.selectedText,O=S.a.createElement(l.a,{variant:"permanent",classes:{paper:t.drawerPaper},anchor:"left"},S.a.createElement("div",{className:t.toolbar},S.a.createElement("img",{src:T.a.settings.logoHead,alt:T.a.settings.appName,className:t.logo})),S.a.createElement(i.a,null),S.a.createElement(c.a,null,_));return S.a.createElement("div",{className:t.root},S.a.createElement(n.a,{className:t.appBar,color:"secondary"},S.a.createElement(h.a,null,S.a.createElement(r.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t.navIconHide},S.a.createElement(b.a,null)),S.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0},C===q.ChangePassword?a("config.changePasswordLabel"):x))),S.a.createElement(o.a,{mdUp:!0},S.a.createElement(l.a,{variant:"temporary",anchor:"rtl"===u.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},O)),S.a.createElement(o.a,{smDown:!0,implementation:"css"},S.a.createElement(l.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper,root:t.rootDawer}},O)),S.a.createElement("main",{className:k()(t.content,t.fullBox)},S.a.createElement("div",{className:t.toolbar}),S.a.createElement("div",{className:k()(t.container,t.fullBox)},S.a.createElement("div",{style:{height:30}}),C===q.Notification?S.a.createElement(V,{userSetting:E}):S.a.createElement("div",null))))}}const Q=Object(O.c)("translations")(K);t.default=Object(y.withRouter)(Object(N.connect)((e=>({userSetting:e.get("userSetting")})),(e=>({login:(t,a)=>{e(j.c(t,a))},getUserSetting:()=>e(I.a()),loginWithOAuth:t=>e(j.d(t)),homePage:()=>{e(Object(C.a)("/"))}})))(Object(p.a)((e=>({root:{flexGrow:1,height:"100%",zIndex:1,overflow:"hidden",position:"relative",display:"flex",width:"100%"},appBar:{position:"absolute",marginLeft:240,[e.breakpoints.up("md")]:{width:"calc(100% - ".concat(240,"px)")}},navIconHide:{[e.breakpoints.up("md")]:{display:"none"}},toolbar:{backgroundColor:e.palette.secondary.main,padding:10,textAlign:"center"},drawerPaper:{width:240,[e.breakpoints.up("md")]:{position:"relative"}},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},appBarTitle:{fontSize:"x-large",textAlign:"center",marginLeft:15,fontWeight:300,paddingTop:"8%",color:e.palette.primary.main},container:{padding:"10px"},fullBox:{[e.breakpoints.down("xs")]:{padding:0,with:"100%",maxWidth:"100%"}},logo:{fill:"currentColor",height:"2em",display:"inline-block",fontSize:"17px",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",userSelect:"none",flexShrink:0},rootDawer:{height:"100%"}})),{withTheme:!0})(Q)))}}]);