(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[28],{501:function(e,t,a){"use strict";a.r(t);var n,r=a(15),i=a(8),o=a(43),c=a(49),s=a(45),l=a(86),m=a(48),p=a(800),u=a(521),d=a(547),h=a.n(d),f=a(307),b=a(309),g=a(780),E=a(524),x=a(305),v=a(786),N=a(313),y=a(308),C=a(16),S=a(178),j=a(154),O=a.n(j),V=a(576),w=a(179),k=a(9),D=a(0),R=a.n(D),A=a(1105),P=Object(A.a)(R.a,{useCssModules:!1}),z=a(550),I=a(1102),_=a(106),B=a(61),L=a(95),M=a(29),T=a(81),W=a(5);!function(e){e[e.EnterPhoneNumber=0]="EnterPhoneNumber",e[e.VerificationCode=1]="VerificationCode"}(n||(n={}));var F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e)))._authorizeService=void 0,a.handleInputChange=function(e){var t=a.props.t,n=e.target,r="checkbox"===n.type?n.checked:n.value,i=n.name,o=new I.a;if("phoneNumber"===i){var c="";if(r&&""!==r.trim()){var s=r;"0"===s[0]?c=t("smsVerification.validPhoneNumberError"):r="+"===s[0]?r:"+".concat(r)}else c=t("smsVerification.requiredPhoneNumberError");var l=o.input(r);r&&r.length>3&&!o.country&&(c=t("smsVerification.validPhoneNumberError"));var m=(o.country||"ir").toLocaleLowerCase();a.setState({phoneNumber:l,countryCode:m,phoneNumberError:c,isNextDisabled:void 0!==l&&""!==c||!l||void 0!==l&&!Object(I.b)(l)})}if("code"===i){var p="",u=r?r.trim():"";!r||r&&""===r.trim()?p=t("smsVerification.requiredCodeError"):r&&4!==r.trim().length&&(p=t("smsVerification.validCodeError")),a.setState({code:u,codeError:p,isVerifyDisabled:""!==p})}},a.handleNextPhoneNumber=function(){var e=a.state,t=e.phoneNumber,r=e.isCaptchaSuccess,i=e.captchaVerifier;if(t&&""!==t.trim()&&r){a.setState({loading:!0});var o=a.state.phoneNumber;a._authorizeService.sendSmsVerification("+".concat(o.replace(/\D/g,"")),i).then((function(e){a.setState({step:n.VerificationCode,verifyId:e,loading:!1})}))}},a.handleSuccessCaptcha=function(e){a.setState({captchaVerifier:e,isCaptchaSuccess:!0})},a.handleExpiredCaptcha=function(){var e=a.props;(0,e.showMessage)((0,e.t)("smsVerification.capthaExpiredMessage")),a.handleReset()},a.handleReset=function(){a.setState({phoneNumber:"",phoneNumberError:"",code:"",codeError:"",loading:!1,countryCode:"es",isNextDisabled:!0,isVerifyDisabled:!0,step:n.EnterPhoneNumber})},a.handleVerifyCode=function(){var e=a.state,t=e.code,n=e.verifyId,r=e.phoneNumber,i=a.props,o=i.home,c=i.showMessage,s=i.login;a.setState({loading:!0}),a._authorizeService.confirmVerificationPhone(t,n,"+".concat(r.replace(/\D/g,""))).then((function(e){s(e),o()})).catch((function(e){c(e.message),a.handleReset()}))},a.handleErrorCapthaRender=function(){var e=a.props;(0,e.showMessage)((0,e.t)("smsVerification.capthaRenderErrorMessage")),a.handleReset()},a._authorizeService=M.a.get(k.a.AuthorizeService),a.state={phoneNumber:"",phoneNumberError:"",code:"",codeError:"",countryCode:"vn",isNextDisabled:!0,isVerifyDisabled:!0,verifyId:"",loading:!1,step:n.EnterPhoneNumber,isCaptchaSuccess:!1,captchaVerifier:null},a.handleNextPhoneNumber=a.handleNextPhoneNumber.bind(Object(l.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,i=e.logout,o=this.state,c=o.phoneNumber,s=o.countryCode,l=o.phoneNumberError,m=o.isNextDisabled,d=o.step,h=o.code,C=o.codeError,j=o.isVerifyDisabled,w=o.loading,k=o.isCaptchaSuccess;return R.a.createElement(g.a,{container:!0,spacing:2},R.a.createElement(g.a,{item:!0,xs:12,className:t.contain},R.a.createElement("div",{className:"animate-bottom"},R.a.createElement(y.a,{className:t.paper,elevation:1},R.a.createElement("div",{className:t.boxRoot},R.a.createElement("div",{style:{paddingLeft:"40px",paddingRight:"40px"}},R.a.createElement("h2",{className:"zoomOutLCorner animated g__paper-title"},a("smsVerification.title"))),R.a.createElement("div",{className:O()(Object(r.a)({},t.noDisplay,d!==n.EnterPhoneNumber))},R.a.createElement(f.a,{className:t.formControl,error:""!==l,"aria-describedby":"phone-number-error-text"},R.a.createElement(N.a,{htmlFor:"phone-number"},a("smsVerification.phoneNumberLabel")),R.a.createElement(x.a,{type:"tel",id:"phone-number",value:c,name:"phoneNumber",onChange:this.handleInputChange,autoFocus:!0,endAdornment:R.a.createElement(v.a,{position:"end"},R.a.createElement(E.a,null,R.a.createElement(P,{code:s})))}),R.a.createElement(b.a,{id:"phone-number-error-text"},l)),R.a.createElement("span",{className:t.phoneExample}," ex. +34665432110 "),R.a.createElement("br",null),R.a.createElement("br",null),R.a.createElement(V.a,{onSuccess:this.handleSuccessCaptcha,onExpired:this.handleExpiredCaptcha,onRenderError:this.handleErrorCapthaRender}),R.a.createElement("div",{className:"settings__button-box"},R.a.createElement("div",null,R.a.createElement(p.a,{className:t.logoutButton,onClick:i},a("smsVerification.logoutButton"))),R.a.createElement("div",{className:t.wrapper},R.a.createElement(p.a,{variant:"contained",color:"primary",className:t.nextButton,disabled:m||!k||w,onClick:this.handleNextPhoneNumber},a("smsVerification.verifyButton")," "),w&&R.a.createElement(u.a,{size:24,className:t.buttonProgress}))),R.a.createElement(S.a,{className:t.caption,variant:"caption",component:"p"},a("smsVerification.phoneNumberDescription"))),R.a.createElement("div",{className:O()(Object(r.a)({},t.noDisplay,d!==n.VerificationCode))},R.a.createElement(f.a,{className:t.formControl,error:""!==C,"aria-describedby":"code-error-text"},R.a.createElement(N.a,{htmlFor:"code"},a("smsVerification.codeLabel")),R.a.createElement(x.a,{type:"tel",id:"code",value:h,name:"code",onChange:this.handleInputChange,autoFocus:!0}),R.a.createElement(b.a,{id:"code-error-text"},C)),R.a.createElement("br",null),R.a.createElement("br",null),R.a.createElement("div",{className:"settings__button-box"},R.a.createElement("div",null,R.a.createElement(p.a,{onClick:i},a("smsVerification.resetButton"))),R.a.createElement("div",null,R.a.createElement("div",{className:t.wrapper},R.a.createElement(p.a,{variant:"contained",color:"primary",className:t.nextButton,disabled:j||w,onClick:this.handleVerifyCode},a("smsVerification.verifyButton")," "),w&&R.a.createElement(u.a,{size:24,className:t.buttonProgress})))),R.a.createElement(S.a,{className:t.caption,variant:"caption",component:"p"},a("smsVerification.codeVerifyDescription"))))))),R.a.createElement(z.a,null))}}]),t}(D.Component),H=Object(_.c)("translations")(F),G=Object(L.withRouter)(Object(B.connect)((function(e,t){return{}}),(function(e,t){return{logout:function(){return e(T.dbLogout())},home:function(){return e(Object(w.a)("/"))},showMessage:function(t){return e(W.showMessage(t))},login:function(t){return e(T.login(t))}}}))(Object(C.a)((function(e){return{textField:{minWidth:280,marginTop:20},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:h.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},caption:{marginTop:30},formControl:{minWidth:280},noDisplay:{display:"none"},loading:{position:"absolute",top:"45%",left:"45%"},contain:{margin:"0 auto"},boxRoot:{padding:"20px 40px 36px"},paper:{minHeight:370,maxWidth:450,minWidth:337,textAlign:"center",display:"block",margin:"auto"},logoutButton:{margin:8},phoneExample:{display:"inline-grid",textAlign:"left",fontSize:11,color:"darkgrey"}}}))(H)));t.default=G},550:function(e,t,a){"use strict";var n=a(8),r=a(43),i=a(49),o=a(45),c=a(48),s=a(780),l=a(16),m=a(0),p=a.n(m),u=a(106),d=a(61),h=a(180),f=a(22),b=a(15),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t;return p.a.createElement("div",{className:t.root},p.a.createElement("div",{className:t.content},p.a.createElement(s.a,{item:!0,xs:12,sm:9,md:9,lg:9},p.a.createElement("nav",{className:t.nav},p.a.createElement("ul",{className:t.list},p.a.createElement("li",{className:t.item},p.a.createElement(h.a,{to:"/terms"},a("terms.privacyTitle"))),p.a.createElement("li",{className:t.item},p.a.createElement("a",{href:"mailto:".concat(f.a.settings.supportEmail,"?Subject=Hola"),target:"_top"},a("footer.supportEmail")))))),p.a.createElement("span",{className:t.companyName},"\xa9 ",(new Date).getFullYear()," ",f.a.settings.companyName)))}}]),t}(m.Component),E=Object(u.c)("translations")(g),x=Object(d.connect)((function(){return{}}),(function(e,t){return{}}))(Object(l.a)((function(e){return{root:{backgroundColor:"#fafafa",order:5,padding:"0 20px",alignItems:"stretch",display:"flex",flexDirection:"column",flexShrink:0,margin:0,position:"relative",width:"100%"},content:Object(b.a)({fontSize:"12px",fontWeight:500,display:"flex",margin:"0 auto",textTransform:"uppercase",width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column",textAlign:"center",justifyContent:"center",alignItems:"center"}),nav:{alignItems:"stretch",display:"flex",flex:1,flexDirection:"column",flexShrink:0,margin:0,padding:0,position:"relative"},list:Object(b.a)({flexGrow:1,marginBottom:"3px",marginRight:"16px"},e.breakpoints.down("xs"),{maxWidth:"100%",textAlign:"center"}),item:{display:"inline-block",marginBottom:"7px",marginRight:"16px",fontWeight:500,whiteSpace:"nowrap"},companyName:{color:"#999",lineHeight:3,whiteSpace:"nowrap"},getAppRoot:{alignItems:"stretch",display:"flex",flexDirection:"column",flexShrink:0,margin:0,padding:0,position:"relative",marginTop:"15px"},getApp:{color:"#262626",fontSize:"14px",lineHeight:"18px",margin:"10px 20px",textAlign:"center"},getAppIconRoot:{flexDirection:"row",justifyContent:"center",margin:"10px 0",alignItems:"stretch",boxSizing:"border-box",display:"flex",flexShrink:0,padding:0,position:"relative"},iosAppLink:{marginRight:"8px",lineHeight:"85px"},appStoreIcon:{height:"40px"},googlePlayIcon:{height:"56px"}}}))(E));t.a=x},576:function(e,t,a){"use strict";var n=a(8),r=a(43),i=a(49),o=a(45),c=a(48),s=a(16),l=a(9),m=a(0),p=a.n(m),u=a(575),d=a(61),h=a(29),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).captchaRef=void 0,a._authorizeService=void 0,a.setCaptchaRef=function(e){},a._authorizeService=h.a.get(l.a.AuthorizeService),a.state={},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onExpired,n=t.onSuccess;return p.a.createElement("div",{className:"recaptcha"},p.a.createElement(u.a,{ref:function(t){return e.setCaptchaRef(t)},sitekey:"6LcO1EUUAAAAAK7tBHxyT1iNF0Oa_VbG6WSMnGyL",onChange:n,onExpired:a}))}}]),t}(m.Component),b=Object(d.connect)((function(e,t){return{}}),(function(e,t){return{}}))(Object(s.a)((function(e){return{dialogTitle:{padding:0}}}))(f));t.a=b}}]);