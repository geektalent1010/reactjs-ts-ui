(this["webpackJsonptelar-social-engine"]=this["webpackJsonptelar-social-engine"]||[]).push([[8],{10:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_USERS="ADD_USERS",e.ADD_USER_INFO="ADD_USER_INFO",e.ADD_PLAIN_USER_INFO="ADD_PLAIN_USER_INFO",e.UPDATE_USER_INFO="UPDATE_USER_INFO",e.USER_INFO="USER_INFO",e.SET_USER_SEARCH_KEY="SET_USER_SEARCH_KEY",e.CLEAR_ALL_DATA_USER="CLEAR_ALL_DATA_USER",e.OPEN_EDIT_PROFILE="OPEN_EDIT_PROFILE",e.CLOSE_EDIT_PROFILE="CLOSE_EDIT_PROFILE",e.ADD_PROFILE_LIST_POST="ADD_PROFILE_LIST_POST",e.HAS_MORE_DATA_PROFILE="HAS_MORE_DATA_PROFILE",e.NOT_MORE_DATA_PROFILE="NOT_MORE_DATA_PROFILE",e.ADD_PROFILE_LIST_ALBUM="ADD_PROFILE_LIST_ALBUM",e.INCREASE_PAGE_ALBUM="INCREASE_PAGE_ALBUM",e.HAS_MORE_DATA_ALBUM="HAS_MORE_DATA_ALBUM",e.DB_GET_ALBUM_POST_BY_USER_ID="DB_GET_ALBUM_POST_BY_USER_ID",e.NOT_MORE_DATA_ALBUM="NOT_MORE_DATA_ALBUM",e.REQUEST_PAGE_ALBUM="REQUEST_PAGE_ALBUM",e.LAST_POST_ALBUM="LAST_POST_ALBUM",e.REQUEST_PAGE_PROFILE="REQUEST_PAGE_PROFILE",e.LAST_POST_PROFILE="LAST_POST_PROFILE",e.ADD_PEOPLE_INFO="ADD_PEOPLE_INFO",e.ADD_USER_SEARCH="ADD_USER_SEARCH",e.ADD_FIND_PEOPLE="ADD_FIND_PEOPLE",e.HAS_MORE_FIND_PEOPLE="HAS_MORE_FIND_PEOPLE",e.NOT_MORE_FIND_PEOPLE="NOT_MORE_FIND_PEOPLE",e.HAS_MORE_PEOPLE_SEARCH="HAS_MORE_PEOPLE_SEARCH",e.NOT_MORE_PEOPLE_SEARCH="NOT_MORE_PEOPLE_SEARCH",e.SET_FIND_PEOPLE_PAGE="SET_FIND_PEOPLE_PAGE",e.INCREASE_FIND_PEOPLE_PAGE="INCREASE_FIND_PEOPLE_PAGE",e.LAST_USER_PEOPLE="LAST_POST_PEOPLE",e.DB_FETCH_USER_PROFILE="DB_FETCH_USER_PROFILE",e.DB_FETCH_FIND_PEOPLE="DB_FETCH_FIND_PEOPLE",e.DB_FETCH_USER_SEARCH="DB_FETCH_USER_SEARCH",e.DB_FETCH_USER_PROFILE_BY_ID="DB_FETCH_USER_PROFILE_BY_ID",e.INCREASE_SHARE_COUNT_USER="INCREASE_SHARE_COUNT_USER",e.DECREASE_SHARE_COUNT_USER="DECREASE_SHARE_COUNT_USER",e.INCREASE_FOLLOWING_COUNT_USER="INCREASE_FOLLOWING_COUNT_USER",e.DECREASE_FOLLOWING_COUNT_USER="DECREASE_FOLLOWING_COUNT_USER",e.INCREASE_VOTE_COUNT_USER="INCREASE_VOTE_COUNT_USER",e.DECREASE_VOTE_COUNT_USER="DECREASE_VOTE_COUNT_USER",e.INCREASE_POST_COUNT_USER="INCREASE_POST_COUNT_USER",e.DECREASE_POST_COUNT_USER="DECREASE_POST_COUNT_USER"}(r||(r={}))},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(43),n=a(17);class s{constructor(e,t,a,r=n.a.Sent){this.type=e,this.id=t,this.metadata=a,this.status=r}getKey(){return r.a.createServerRequestId(this.type,this.id)}}},108:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.Abkhazian="ab",e.Afar="aa",e.Afrikaans="af",e.Akan="ak",e.Albanian="sq",e.Amharic="am",e.Arabic="ar",e.Aragonese="an",e.Armenian="hy",e.Assamese="as",e.Avaric="av",e.Avestan="ae",e.Aymara="ay",e.Azerbaijani="az",e.Bambara="bm",e.Bashkir="ba",e.Basque="eu",e.Belarusian="be",e.BengaliBangla="bn",e.Bihari="bh",e.Bislama="bi",e.Bosnian="bs",e.Breton="br",e.Bulgarian="bg",e.Burmese="my",e.Catalan="ca",e.Chamorro="ch",e.Chechen="ce",e.ChichewaChewaNyanja="ny",e.Chinese="zh",e.ChineseSimplified="zh-Hans",e.ChineseTraditional="zh-Hant",e.Chuvash="cv",e.Cornish="kw",e.Corsican="co",e.Cree="cr",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.DivehiDhivehiMaldivian="dv",e.Dutch="nl",e.Dzongkha="dz",e.English="en",e.Esperanto="eo",e.Estonian="et",e.Ewe="ee",e.Faroese="fo",e.Fijian="fj",e.Finnish="fi",e.French="fr",e.FulaFulahPulaarPular="ff",e.Galician="gl",e.GaelicScottish="gd",e.GaelicManx="gv",e.Georgian="ka",e.German="de",e.Greek="el",e.Greenlandic="kl",e.Guarani="gn",e.Gujarati="gu",e.HaitianCreole="ht",e.Hausa="ha",e.Hebrew="he",e.Herero="hz",e.Hindi="hi",e.HiriMotu="ho",e.Hungarian="hu",e.Icelandic="is",e.Ido="io",e.Igbo="ig",e.Indonesian="in",e.Interlingua="ia",e.Interlingue="ie",e.Inuktitut="iu",e.Inupiak="ik",e.Irish="ga",e.Italian="it",e.Japanese="ja",e.Javanese="jv",e.KalaallisutGreenlandic="kl",e.Kannada="kn",e.Kanuri="kr",e.Kashmiri="ks",e.Kazakh="kk",e.Khmer="km",e.Kikuyu="ki",e.KinyarwandaRwanda="rw",e.Kirundi="rn",e.Kyrgyz="ky",e.Komi="kv",e.Kongo="kg",e.Korean="ko",e.Kurdish="ku",e.Kwanyama="kj",e.Lao="lo",e.Latin="la",e.LatvianLettish="lv",e.LimburgishLimburger="li",e.Lingala="ln",e.Lithuanian="lt",e.LugaKatanga="lu",e.LugandaGanda="lg",e.Luxembourgish="lb",e.Manx="gv",e.Macedonian="mk",e.Malagasy="mg",e.Malay="ms",e.Malayalam="ml",e.Maltese="mt",e.Maori="mi",e.Marathi="mr",e.Marshallese="mh",e.Moldavian="mo",e.Mongolian="mn",e.Nauru="na",e.Navajo="nv",e.Ndonga="ng",e.NorthernNdebele="nd",e.Nepali="ne",e.Norwegian="no",e["Norwegianbokm\xe5l"]="nb",e.NorwegianNynorsk="nn",e.Nuosu="ii",e.Occitan="oc",e.Ojibwe="oj",e.OldChurchSlavonicOldBulgarian="cu",e.Oriya="or",e.OromoAfaanOromo="om",e.Ossetian="os",e["P\u0101li"]="pi",e.PashtoPushto="ps",e.PersianFarsi="fa",e.Polish="pl",e.Portuguese="pt",e.PunjabiEastern="pa",e.Quechua="qu",e.Romansh="rm",e.Romanian="ro",e.Russian="ru",e.Sami="se",e.Samoan="sm",e.Sango="sg",e.Sanskrit="sa",e.Serbian="sr",e.SerboCroatian="sh",e.Sesotho="st",e.Setswana="tn",e.Shona="sn",e.SichuanYi="ii",e.Sindhi="sd",e.Sinhalese="si",e.Siswati="ss",e.Slovak="sk",e.Slovenian="sl",e.Somali="so",e.SouthernNdebele="nr",e.Spanish="es",e.Sundanese="su",e.SwahiliKiswahili="sw",e.Swati="ss",e.Swedish="sv",e.Tagalog="tl",e.Tahitian="ty",e.Tajik="tg",e.Tamil="ta",e.Tatar="tt",e.Telugu="te",e.Thai="th",e.Tibetan="bo",e.Tigrinya="ti",e.Tonga="to",e.Tsonga="ts",e.Turkish="tr",e.Turkmen="tk",e.Twi="tw",e.Uyghur="ug",e.Ukrainian="uk",e.Urdu="ur",e.Uzbek="uz",e.Venda="ve",e.Vietnamese="vi",e["Volap\xfck"]="vo",e.Wallon="wa",e.Welsh="cy",e.Wolof="wo",e.WesternFrisian="fy",e.Xhosa="xh",e.Yiddish="yi",e.Yoruba="yo",e.ZhuangChuang="za",e.Zulu="zu"}(r||(r={}))},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(43),n=a(32),s=a(65),c=a(17);const o={createLoginRequest:e=>{const t=r.a.createServerRequestId(n.a.AuthLogin,e);return new s.a(n.a.AuthLogin,t,"",c.a.Sent)},createSignupRequest:e=>{const t=r.a.createServerRequestId(n.a.AuthSignup,e);return new s.a(n.a.AuthSignup,t,"",c.a.Sent)},storeTokenId:e=>{localStorage.setItem("red-gold.scure.token",e)},getTokenId:()=>{localStorage.getItem("red-gold.scure.token")},createCookie:(e,t,a)=>{let r="";if(a){const e=new Date;e.setTime(e.getTime()+24*a*60*60*1e3),r="; expires="+e.toUTCString()}else r="";document.cookie=e+"="+t+r+"; path=/"},readCookie:e=>{const t=e+"=",a=document.cookie.split(";");for(let r=0;r<a.length;r++){let e=a[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},eraseCookie:e=>{document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;Domain=.".concat(document.domain.split(".").splice(1).join("."))}}},111:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={ValidYoutubeURL:/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,ValidateURL:/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,ValidEmail:/^(([^<>()\[\]\\.,:\s@"]+(\.[^<>()\[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,YoutubUrlCode:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,IsMobileA:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,IsMobileB:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i}},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(26);const n=e=>e.getIn(["global","progress"]),s=e=>e.getIn(["global","sendFeedbackStatus"]),c=(e,t)=>e.getIn(["global","dialog",t.type,"open"],!1),o=e=>e.get("global"),i={getCaller:e=>e.getIn(["global","temp","caller"]),getGlobal:o,getFeedbackStatus:s,getProgress:n,selectDialogState:()=>Object(r.a)([c],(e=>e)),selectProgress:()=>Object(r.a)([n],(e=>e)),selectFeedbackStatus:()=>Object(r.a)([s],(e=>e)),selectGlobal:()=>Object(r.a)([o],(e=>e))}},122:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));class r{}},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(75);class n{constructor(e,t,a,n,s,c,o,i,u,p,d,l,E=0,_=0,O="",b=!1,h=[],m=r.a.Public){this.objectId=e,this.deletedDate=t,this.created_date=a,this.thumbnail=n,this.url=s,this.fullPath=c,this.caption=o,this.directory=i,this.fileName=u,this.ownerUserId=p,this.last_updated=d,this.albumId=l,this.height=E,this.width=_,this.meta=O,this.deleted=b,this.accessUserList=h,this.permission=m}}},130:function(e,t,a){"use strict";var r=a(200),n=a(273),s=a.n(n),c=a(274),o=a.n(c),i=a(97);r.a.use(o.a).use(s.a).use(i.b).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",preload:["en","zh","vi"],backend:{loadPath:"".concat("locales","/{{ns}}/enjson_{{lng}}.json")},debug:!1,interpolation:{escapeValue:!1},react:{wait:!0,useSuspense:!1}}),t.a=r.a},136:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(122);class n extends r.a{constructor(e,t,a,r,n,s){super(),this.userId=e,this.creationDate=t,this.fullName=a,this.avatar=r,this.approved=n,this.circleIdList=s}}},138:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var r=a(14);const n=(e,t)=>{if(!e)throw new r.a("null"+t,t+" is null!");return e},s=(e,t)=>e||t},14:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));class r extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.isError=void 0,this.isError=!0}}},143:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return i}));var r=a(61);const n=(e,t)=>({type:r.a.ASYNC_ADD_NEW_VOTE,payload:{postId:e,ownerPostUserId:t}}),s=(e,t)=>({type:r.a.ASYNC_DELETE_VOTE,payload:{postId:e,ownerPostUserId:t}}),c=e=>({type:r.a.ADD_VOTE,payload:e}),o=(e,t)=>({type:r.a.DELETE_VOTE,payload:{userId:e,postId:t}}),i=()=>({type:r.a.CLEAR_ALL_DATA_VOTE})},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o}));var r=a(67);const n=()=>({type:r.a.DB_FETCH_USER_SETTING}),s=(e,t)=>({type:r.a.DB_UPDATE_USER_SETTING,payload:{type:e,setting:t}}),c=e=>({type:r.a.SET_USER_SETTING,payload:e}),o=(e,t)=>({type:r.a.UPDATE_USER_SETTING,payload:{key:e,data:t}})},145:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(26);const n=e=>e.getIn(["circle","userTies"]),s={getFollowingUsers:n,selectFollowingIds:()=>Object(r.a)([n],(e=>e.keySeq().toArray()))}},147:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return O}));var r=a(8),n=a(57),s=(a(4),a(51),a(9)),c=a(28),o=a(5);a(18);const i=c.a.get(s.a.NotificationService),u=()=>({type:n.a.DB_FETCH_NOTIFICATIONS}),p=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]);return i.deleteNotification(e,r).then((()=>{t(E(e))})).catch((e=>t(o.s(e.message))))},d=e=>(t,a)=>{const n=a(),s=n.getIn(["authorize","uid"]),c=n.getIn(["notify","userNotifies",e]),u=Object(r.a)(Object(r.a)({},c.toJS()),{},{notifyRecieverUserId:s,isSeen:!0});return i.setSeenNotification(e,s,u).then((()=>{t(_(e))})).catch((e=>t(o.s(e.message))))},l=e=>({type:n.a.ADD_NOTIFY_LIST,payload:e}),E=e=>({type:n.a.DELETE_NOTIFY,payload:e}),_=e=>({type:n.a.SEEN_NOTIFY,payload:e}),O=()=>({type:n.a.CLEAR_ALL_DATA_NOTIFY})},16:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_IMAGE="ADD_IMAGE",e.ADD_VIDEO_GALLERY="ADD_VIDEO_GALLERY",e.DELETE_ALBUM="DELETE_ALBUM",e.DB_CREATE_ALBUM="DB_CREATE_ALBUM",e.ADD_IMAGE_LIST="ADD_IMAGE_LIST",e.HAS_MORE_DATA_ALBUM_IMAGE="HAS_MORE_DATA_ALBUM_IMAGE",e.NO_MORE_DATA_ALBUM_IMAGE="NO_MORE_DATA_ALBUM_IMAGE",e.LAST_ALBUM_IMAGE_ID="LAST_ALBUM_IMAGE_ID",e.ADD_ALBUM_ID_LIST="ADD_ALBUM_ID_LIST",e.DB_FETCH_ALBUM_IMAGES="DB_FETCH_ALBUM_IMAGES",e.DB_FETCH_AVATAR_IMAGES="DB_FETCH_AVATAR_IMAGES",e.DB_FETCH_COVER_IMAGES="DB_FETCH_COVER_IMAGES",e.DB_DELETE_IMAGE="DB_DELETE_IMAGE",e.ADD_ALBUM_IMAGE_LIST="ADD_ALBUM_IMAGE_LIST",e.ADD_AVATAR_IMAGE_LIST="ADD_AVATAR_IMAGE_LIST",e.ADD_COVER_IMAGE_LIST="ADD_COVER_IMAGE_LIST",e.ADD_VIDEO_LIST_GALLERY="ADD_VIDEO_LIST_GALLERY",e.CLEAT_ALL_DATA_IMAGE_GALLERY="CLEAT_ALL_DATA_IMAGE_GALLERY",e.ADD_UPLOADING_PHOTO="ADD_UPLOADING_PHOTO",e.DELETE_UPLOADING_PHOTO="DELETE_UPLOADING_PHOTO",e.CLEAR_UPLOADING_PHOTO="CLEAR_UPLOADING_PHOTO",e.DELETE_IMAGE="DELETE_IMAGE",e.DELETE_VIDEO="DELETE_VIDEO",e.SET_IMAGE_URL="SET_IMAGE_URL",e.SEND_IMAGE_REQUEST="SEND_IMAGE_REQUEST",e.DB_FETCH_IMAGE_GALLERY="DB_FETCH_IMAGE_GALLERY",e.DB_FETCH_VIDEO_GALLERY="DB_FETCH_VIDEO_GALLERY",e.DB_UPLOAD_VIDEO="DB_UPLOAD_VIDEO",e.DB_UPLOAD_IMAGE="DB_UPLOAD_IMAGE",e.DB_UPLOAD_AVATAR="DB_UPLOAD_AVATAR",e.DB_UPLOAD_COVER="DB_UPLOAD_COVER",e.DB_DELETE_VIDEO="DB_DELETE_VIDEO"}(r||(r={}))},162:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));class r{constructor(e){this._fileURL=e}get fileURL(){return this._fileURL}}},17:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.Sent="Sent",e.NoAction="NoAction",e.OK="OK",e.Error="Error"}(r||(r={}))},179:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e[e.Album=0]="Album",e[e.PostWrite=1]="PostWrite"}(r||(r={}))},18:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(46),n=a(26);const s=e=>{const t=e.getIn(["authorize","uid"]);return r.a.getUserProfileById(e,{userId:t})},c=e=>e.getIn(["authorize"]),o=e=>e.getIn(["authorize","ui","signupStep"],0),i=e=>e.getIn(["authorize","ui","registerToken"],""),u=e=>e.getIn(["authorize","ui","accessToken"],""),p={getCurrentUser:s,getAuthedUser:c,getSignupStep:o,getUserRegisterToken:i,getAccessToken:u,selectCurrentUser:()=>Object(n.a)([s],(e=>e)),selectSignupStep:()=>Object(n.a)([o],(e=>e)),selectUserRegisterToken:()=>Object(n.a)([i],(e=>e)),selectAccessToken:()=>Object(n.a)([u],(e=>e)),selectAuthedtUser:()=>Object(n.a)([c],(e=>e))}},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(47),n=a(4),s=a(26);const c=e=>e.getIn(["imageGallery","entities"],Object(n.Map)({})),o=(e,t)=>e.getIn(["imageGallery","album",t.albumId,"hasMoreData"],!0),i=(e,t)=>e.getIn(["imageGallery","album",t.albumId,"list"],Object(n.Map)({})),u=(e,t)=>e.getIn(["imageGallery","avatar",t.userId,"list"],Object(n.Map)({})),p=(e,t)=>e.getIn(["imageGallery","cover",t.userId,"list"],Object(n.Map)({})),d=(e,t)=>e.getIn(["imageGallery","album",t.albumId,"lastImageId"],""),l={getImages:c,hasMoreImages:o,getAlbumImages:i,selectImages:()=>Object(s.a)([c],(e=>e)),getAlbumLastImageId:d,selectLastImageId:()=>Object(s.a)([d],(e=>e)),selectMoreImages:()=>Object(s.a)([o],(e=>e)),selectAlbumImages:()=>Object(s.a)([i,c],((e,t)=>{let a=Object(n.List)([]);return e.forEach(((e,r)=>{if(e){let e=t.get(r);e&&(e=e.set("original",e.get("url")),e=e.set("src",e.get("url")),e=e.set("title",e.get("caption","")),e=e.set("description",""),a=a.push(e))}})),a.isEmpty()?Object(n.List)([]):r.a.sortImuObjectsDate(a)})),selectAvatarImages:()=>Object(s.a)([u,c],((e,t)=>{let a=Object(n.List)([]);if(e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty())return Object(n.List)([]);return r.a.sortImuObjectsDate(a)})),selectCoverImages:()=>Object(s.a)([p,c],((e,t)=>{let a=Object(n.List)([]);return e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty()?Object(n.List)([]):r.a.sortImuObjectsDate(a)}))}},19:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_CHAT_ROOM_MESSAGES="ADD_CHAT_ROOM_MESSAGES",e.ADD_PLAIN_CHAT_ROOM_MESSAGES="ADD_PLAIN_CHAT_ROOM_MESSAGES",e.DB_CREATE_CHAT_MESSAGE="DB_CREATE_CHAT_MESSAGE",e.DB_CREATE_CHAT_ROOM="DB_CREATE_CHAT_ROOM",e.DB_FETCH_CHAT_ROOMS="DB_FETCH_CHAT_ROOMS",e.DB_FETCH_PEER_CHAT_ROOMS="DB_FETCH_PEER_CHAT_ROOMS",e.DB_SUBSCRIBE_CHAT_MESSAGE="DB_SUBSCRIBE_CHAT_MESSAGE",e.DB_FETCH_CHAT_MESSAGE_ONCE="DB_FETCH_CHAT_MESSAGE_ONCE",e.DB_SET_CHAT_LANGUAGE="DB_SET_CHAT_LANGUAGE",e.SET_CURRENT_CHAT="SET_CURRENT_CHAT",e.ACTIVE_PEER_CHAT_ROOM="ACTIVE_PEER_CHAT_ROOM",e.WS_CONNECT="WS_CONNECT",e.ASYNC_CREATE_CHAT_REQUEST="ASYNC_CREATE_CHAT_REQUEST",e.ASYNC_CANCEL_CHAT_REQUEST="ASYNC_CANCEL_CHAT_REQUEST",e.ASYNC_IGNORE_CHAT_REQUEST="ASYNC_IGNORE_CHAT_REQUEST",e.ASYNC_ACCEPT_CHAT_REQUEST="ASYNC_ACCEPT_CHAT_REQUEST",e.ASYNC_JOIN_CHAT_ROOM="ASYNC_JOIN_CHAT_ROOM",e.CLEAR_ALL_CHAT_MESSAGE="CLEAR_ALL_CHAT_MESSAGE",e.CLOSE_CHAT="CLOSE_CHAT",e.REMOVE_CHAT_HISTORY="REMOVE_CHAT_HISTORY",e.DB_REMOVE_CHAT_HISTORY="DB_REMOVE_CHAT_HISTORY",e.OPEN_CHAT="OPEN_CHAT",e.CLOSE_RECENT_CHAT="CLOSE_RECENT_CHAT",e.UPDATE_CHAT_ROOM="UPDATE_CHAT_ROOM",e.OPEN_RECENT_CHAT="OPEN_RECENT_CHAT",e.ADD_CHAT_REQUEST="ADD_CHAT_REQUEST",e.REMOVE_CHAT_REQUEST="REMOVE_CHAT_REQUEST",e.ADD_CHAT_CONNECT="ADD_CHAT_CONNECT",e.REMOVE_CHAT_CONNECT="REMOVE_CHAT_CONNECT",e.ADD_CHAT_CALLING="ADD_CHAT_CALLING",e.REMOVE_CHAT_CALLING="REMOVE_CHAT_CALLING",e.SET_USER_OFFLINE="SET_USER_OFFLINE"}(r||(r={}))},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var r=a(4);class n{constructor(e,t,a,r,n,s,c,o){this.id=e,this.isCurrentUser=t,this.receiverUser=a,this.type=r,this.data=n,this.creationDate=s,this.translateMessage=c,this.loading=o}}var s=a(26),c=a(18),o=a(46);const i=e=>e.getIn(["chat","calling"],Object(r.Map)({})),u=e=>e.getIn(["chat","requests"],Object(r.Map)({})),p=e=>e.getIn(["chat","connect"],Object(r.Map)({})),d=e=>e.getIn(["chat","currentChat"]),l=e=>e.getIn(["chat","messages"],Object(r.Map)({})),E={getChatRequests:u,getCallingUsers:i,getChatConnections:p,selectCurrentReceiver:()=>Object(s.a)([d,o.a.getUsers],((e,t)=>t.get(e,Object(r.Map)({})))),selectCurrentMessages:()=>Object(s.a)([l,d,p,c.a.getAuthedUser,o.a.getUserProfileById],((e,t,a,s,c)=>{const o=a.getIn([t,"roomId"]);return e.get(o,Object(r.List)()).valueSeq().map((e=>new n(e.get("id"),e.get("senderId")===s.get("uid"),c.toJS(),e.get("type"),e.get("message"),e.get("creationDate"),e.get("translateMessage"),e.get("loading")))).sort(((e,t)=>e.creationDate-t.creationDate))})),selectCurrentChatRoom:()=>Object(s.a)([d,p],((e,t)=>t.getIn([e,"roomId"]))),selectCurrentChat:()=>Object(s.a)([d],(e=>e)),selectCallingUsers:()=>Object(s.a)([i],(e=>e)),selectChatRequests:()=>Object(s.a)([u],(e=>e)),selectChatConnections:()=>Object(s.a)([p],(e=>e))}},20:function(e,t,a){"use strict";var r=a(8),n=a(108);let s;!function(e){e[e.Phone=0]="Phone",e[e.Email=1]="Email",e[e.Provide=2]="Provide",e[e.None=3]="None"}(s||(s={}));const c={firebase:{apiKey:"AIzaSyBtlAw6mYUMqaoqIa6WyXoMKWLwhTe7ZK0",authDomain:"resume-web-app.firebaseapp.com",databaseURL:"https://resume-web-app.firebaseio.com",projectId:"resume-web-app",storageBucket:"resume-web-app.appspot.com",messagingSenderId:"236906995600",appId:"1:236906995600:web:17d5a305b14c04082cdd15"},algolia:{appId:"TOS20M7VT1",apiKey:"c283440030db1f9446e8b410f7352479"},websocket:{url:"http://social.example.com:3001"},data:{imageFolderPath:"images",avatarFolderPath:"avatar",coverFolderPath:"cover",videoFolderPath:"videos",thumbnailFolderPath:"thumbnail",videoThumbnailPath:"video_thumbnail",locale:"https://raw.githubusercontent.com/red-gold/react-social-locales/master/src/social"},dataFormat:{postVersion:"1.0.0"},exteranlSocial:{instagramClientId:"04cd49f9331643aeae1ad6df6e2b83f0"},settings:{enabledOAuthLogin:!0,appName:"React Social",supportEmail:"amir.gholzam@live.com",appIcon:a(223),logo:a(224),defaultLanguage:n.a.English,defaultVideoThumbnails:a(225),verificationType:s.Email,companyName:"Red Gold",defaultProfileCover:a(226),publicCover:a(227),raisedLogo:a(228),loginCover:a(229),signupCover:a(230),logoHead:a(231),androidAppLink:"https://github.com/Qolzam/react-mobile-social",iosAppLink:"https://github.com/Qolzam/react-mobile-social",api:"/",gateway:window.GATEWAY,prettyURL:!0,maxVideoFileSize:20,maxGalley:10},gateway:{base_href:"/function/web/",gateway_url:"http://faas.example.com:31112/function"},rewrites:{profile:"auth/profile"},header:{title:"React Social",meta:[{name:"description",content:"The React Social Network is an open source project relying on React a powerful javascript library for building the user interface. In this project, I tried to show some features of react/react components as a social network. The structure of this project give the ability to developer to develop their project on their own idea and environment."}]}},o=(a(223),a(224),n.a.English,a(225),s.Email,a(226),a(227),a(228),a(229),a(230),a(231),c);t.a=Object(r.a)(Object(r.a)({},{}),o)},204:function(e,t,a){"use strict";var r=a(8),n=a(15),s=a(505);var c=a(0),o=a.n(c),i=a(59);class u extends c.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.fileName,a=e.fullName,n=e.style,c=e.size,i=e.onClick,u=e.className,p=e.theme;return o.a.createElement("div",{style:{display:"inherit"}},t&&""!==t&&"noImage"!==t?o.a.createElement(s.a,{variant:"rounded",className:u||"",src:t||" ",style:Object(r.a)(Object(r.a)({},n),{},{backgroundColor:p.palette.common.white,width:c||36,height:c||36}),onClick:i}):o.a.createElement(s.a,{variant:"rounded",className:u||"",style:Object(r.a)(Object(r.a)({},n),{},{width:c||36,height:c||36}),onClick:i},a?a.slice(0,1):""))}}const p=Object(n.a)((()=>({})),{withTheme:!0})(u);t.a=Object(i.connect)((e=>({avatarURL:e.getIn(["imageGallery","imageURLList"]),imageRequests:e.getIn(["imageGallery","imageRequests"])})),(()=>({})))(p)},206:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e[e.Text=0]="Text",e[e.Photo=1]="Photo",e[e.Video=2]="Video",e[e.PhotoGallery=3]="PhotoGallery",e[e.Album=4]="Album"}(r||(r={}))},21:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_IMAGE_POST="ADD_IMAGE_POST",e.HAS_MORE_DATA_STREAM="HAS_MORE_DATA_STREAM",e.HAS_MORE_POST_SEARCH="HAS_MORE_POST_SEARCH",e.NO_MORE_POST_SEARCH="NO_MORE_POST_SEARCH",e.NOT_MORE_DATA_STREAM="NOT_MORE_DATA_STREAM",e.SET_PAGE_STREAM="SET_PAGE_STREAM",e.INCREASE_PAGE_STREAM="INCREASE_PAGE_STREAM",e.LAST_POST_STREAM="LAST_POST_STREAM",e.LAST_POST_SEARCH="LAST_POST_SEARCH",e.HAS_MORE_DATA_PROFILE="HAS_MORE_DATA_PROFILE",e.NOT_MORE_DATA_PROFILE="NOT_MORE_DATA_PROFILE",e.REQUEST_PAGE_PROFILE="REQUEST_PAGE_PROFILE",e.LAST_POST_PROFILE="LAST_POST_PROFILE",e.ADD_VIDEO_POST="ADD_VIDEO_POST",e.ADD_POST="ADD_POST",e.DB_GET_POST="DB_GET_POST",e.DB_SEARCH_POST="DB_SEARCH_POST",e.DB_GET_POST_BY_USER_ID="DB_GET_POST_BY_USER_ID",e.DB_GET_POST_SEARCH_KEY="DB_GET_POST_SEARCH_KEY",e.SET_POST_SEARCH_KEY="SET_POST_SEARCH_KEY",e.UPDATE_POST="UPDATE_POST",e.UPDATE_POST_COMMENTS="UPDATE_POST_COMMENTS",e.UPDATE_POST_VOTES="UPDATE_POST_VOTES",e.DELETE_POST="DELETE_POST",e.ADD_LIST_POST="ADD_LIST_POST",e.ADD_LIST_STREAM_POST="ADD_LIST_STREAM_POST",e.ADD_LIST_SEARCH_POST="ADD_LIST_SEARCH_POST",e.ADD_LIST_POST_INSTAGRAM="ADD_LIST_POST_INSTAGRAM",e.CLEAR_ALL_DATA_POST="CLEAR_ALL_DATA_POST"}(r||(r={}))},22:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.PROGRESS_CHANGE="PROGRESS_CHANGE",e.PROGRESS_CHANGE_WITH_KEY="PROGRESS_CHANGE_WITH_KEY",e.DEFAULT_DATA_DISABLE="DEFAULT_DATA_DISABLE",e.DEFAULT_DATA_ENABLE="DEFAULT_DATA_ENABLE",e.LOADING="LOADING",e.HIDE_MESSAGE_GLOBAL="HIDE_MESSAGE_GLOBAL",e.SHOW_MESSAGE_GLOBAL="SHOW_MESSAGE_GLOBAL",e.HIDE_MESSAG_BY_REFERENCE="HIDE_MESSAG_BY_REFERENCE",e.SHOW_MESSAGE_BY_REFERENCE="SHOW_MESSAGE_BY_REFERENCE",e.SET_HEADER_TITLE="SET_HEADER_TITLE",e.SHOW_TOP_LOADING="SHOW_TOP_LOADING",e.HIDE_TOP_LOADING="HIDE_TOP_LOADING",e.SHOW_MASTER_LOADING="SHOW_MASTER_LOADING",e.HIDE_MASTER_LOADING="HIDE_MASTER_LOADING",e.SHOW_SEND_FEEDBACK="SHOW_SEND_FEEDBACK",e.HIDE_SEND_FEEDBACK="HIDE_SEND_FEEDBACK",e.TEMP="TEMP",e.OPEN_DIALOG="OPEN_DIALOG",e.CLOSE_DIALOG="CLOSE_DIALOG",e.CLEAR_ALL_GLOBAL="CLEAR_ALL_GLOBAL",e.OPEN_POST_WRITE="OPEN_POST_WRITE",e.CLOSE_POST_WRITE="CLOSE_POST_WRITE",e.INIT_LOCALE="INIT_LOCALE",e.CLEAR_LOADED_DATA="CLEAR_LOADED_DATA",e.LOAD_INITIAL_DATA="LOAD_INITIAL_DATA",e.LOAD_TWITTER_MEDIA="LOAD_TWITTER_MEDIA",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY"}(r||(r={}))},223:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/appIcon.8a908a95.png"},224:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.f9a88f3a.png"},225:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/defaultVideoThumbnails.04bfa3fe.png"},226:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/coversocial.bd290e9a.png"},227:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/public-cover.45c897e2.jpg"},228:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/raised-logo.67161d63.png"},229:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/login-cover.cf38cc15.jpg"},230:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/signup-cover.540e1ff7.jpg"},231:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo-head.d7c2b41f.png"},24:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_CIRCLE="ADD_CIRCLE",e.DELETE_CIRCLE="DELETE_CIRCLE",e.UPDATE_CIRCLE="UPDATE_CIRCLE",e.ADD_LIST_CIRCLE="ADD_LIST_CIRCLE",e.CLEAR_ALL_CIRCLES="CLEAR_ALL_CIRCLES",e.OPEN_CIRCLE_SETTINGS="OPEN_CIRCLE_SETTINGS",e.CLOSE_CIRCLE_SETTINGS="CLOSE_CIRCLE_SETTINGS",e.ADD_FOLLOWING_USER="ADD_FOLLOWING_USER",e.DELETE_FOLLOWING_USER="DELETE_FOLLOWING_USER",e.UPDATE_USER_TIE="UPDATE_USER_TIE",e.ADD_USER_TIE_LIST="ADD_USER_TIE_LIST",e.ADD_USER_TIED_LIST="ADD_USER_TIED_LIST",e.DELETE_USER_FROM_CIRCLE="DELETE_USER_FROM_CIRCLE",e.SHOW_SELECT_CIRCLE_BOX="SHOW_SELECT_CIRCLE_BOX",e.HIDE_SELECT_CIRCLE_BOX="HIDE_SELECT_CIRCLE_BOX",e.DB_FETCH_CIRCLES="DB_FETCH_CIRCLES",e.DB_FETCH_USER_TIES="DB_FETCH_USER_TIES",e.DB_FETCH_USER_TIEDS="DB_FETCH_USER_TIEDS",e.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT="SET_SELECTED_CIRCLES_USER_BOX_COMPONENT",e.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT="REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT",e.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT="OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT",e.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT="CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT",e.SHOW_FOLLOWING_USER_LOADING="SHOW_FOLLOWING_USER_LOADING",e.HIDE_FOLLOWING_USER_LOADING="HIDE_FOLLOWING_USER_LOADING"}(r||(r={}))},240:function(e,t,a){"use strict";var r=a(8),n=a(51),s=a.n(n),c=a(111),o=a(472),i=a(463);const u=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};t.a={logger:(e,...t)=>{const a=u();window.console.log("\n\n%c =======  ".concat(e," ======= %c").concat(s()().format("HH:mm:ss SSS")," \n"),"color:".concat(a,";font-size:15"),"color:".concat(u(),";font-size:15")),window.console.log(""),window.console.log("    ",t),window.console.log("\n =========================================")},getRandomColor:u,updateObject:(e,t)=>Object(r.a)(Object(r.a)({},e),t),getStateSlice:e=>e.toJS().locale,sortImmutable:e=>e.sort(((e,t)=>parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10))),sortImmutableV2:e=>e.sort(((e,t)=>parseInt(t.get("created_date"),10)-parseInt(e.get("created_date"),10))),isMobile:()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return c.a.IsMobileA.test(e)||c.a.IsMobileA.test(e.substr(0,4))},removeNil:e=>o.a(i.a,e)}},261:function(e,t,a){"use strict";var r=a(174),n=a(0),s=a.n(n),c=a(59),o=a(126);class i extends n.Component{render(){const e=this.props,t=e.authed,a=e.component,n=Object(r.a)(e,["authed","component"]);return s.a.createElement(o.Route,Object.assign({},n,{render:e=>t?s.a.createElement(a,e):s.a.createElement(o.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}))}}t.a=Object(c.connect)((e=>({authed:e.getIn(["authorize","authed"])})))(i)},262:function(e,t,a){"use strict";var r=a(174),n=a(0),s=a.n(n),c=a(59),o=a(126);class i extends n.Component{render(){const e=this.props,t=e.authed,a=e.component,n=Object(r.a)(e,["authed","component"]);return s.a.createElement(o.Route,Object.assign({},n,{render:e=>t?s.a.createElement(o.Redirect,{to:{pathname:"/"}}):s.a.createElement(a,e)}))}}t.a=Object(c.connect)((e=>({authed:e.getIn(["authorize","authed",!1])})))(i)},27:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(8),n=a(81),s=a(4);const c=e=>({type:n.a.ADD_REQUEST,payload:{request:Object(s.Map)(Object(r.a)({},e))}})},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return dt}));var r,n,s,c,o,i=a(9),u=a(2),p=a.n(u),d=a(12),l=a(40),E=a(41),_=(a(68),a(25)),O=a(20),b=a(113),h=a.n(b),m=a(14),S=a(29);let f=(r=Object(_.injectable)(),n=Object(_.inject)(i.a.PermissionService),r((c=class{constructor(){Object(l.a)(this,"_permissionService",o,this),this.get=this.get.bind(this),this.post=this.post.bind(this)}get(e){return Object(d.a)(p.a.mark((function t(){var a,r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,r="".concat(O.a.gateway.gateway_url,"/").concat(a),t.next=4,h.a.get(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})))()}post(e,t){return Object(d.a)(p.a.mark((function a(){var r,n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,a.next=3,h.a.post("".concat(O.a.gateway.gateway_url,"/").concat(r),t);case 3:return n=a.sent,a.abrupt("return",n.data);case 5:case"end":return a.stop()}}),a)})))()}postFile(e,t,a,r){return Object(d.a)(p.a.mark((function n(){var s,c,o,i,u;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,c={onUploadProgress:function(e){const t=Math.round(100*e.loaded/e.total);r(t,!0,a)}},n.prev=2,n.next=5,h.a.post("".concat(O.a.gateway.gateway_url,"/").concat(s),t,c);case 5:return o=n.sent,n.abrupt("return",o.data);case 9:throw n.prev=9,n.t0=n.catch(2),S.a.error(n.t0),i=new m.a("HttpService/WrongSetting","Error happened!"),n.t0.response?(S.a.error(n.t0.response.data),S.a.error(n.t0.response.status),S.a.error(n.t0.response.headers),(u=n.t0.response.data).isError?(i.code=u.code,i.message=u.message):413==n.t0.response.status?(i.code="HttpService/LargeFile",i.message="The file is too large."):(i.code="HttpService/PostFile/Error",i.message="The request was made and the server responded with a status code that falls out of the range of 2xx")):n.t0.request?(S.a.error(n.t0.request),i.code="HttpService/NoResponse",i.message="\n            The request was made but no response was received\n            error.request is an instance of XMLHttpRequest in the browser and an instance of\n            http.ClientRequest in node.js\n            "):(S.a.error("Error",n.t0.message),i.code="HttpService/PostFile/Unexpected",i.message="\n            Something happened in setting up the request that triggered an Error\n            "),S.a.error(n.t0.config),i;case 16:case"end":return n.stop()}}),n,null,[[2,9]])})))()}put(e,t){return Object(d.a)(p.a.mark((function a(){var r,n,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,n="".concat(O.a.gateway.gateway_url,"/").concat(r),a.next=4,h.a.put(n,t);case 4:return s=a.sent,a.abrupt("return",s.data);case 6:case"end":return a.stop()}}),a)})))()}delete(e){return Object(d.a)(p.a.mark((function t(){var a,r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,r="".concat(O.a.gateway.gateway_url,"/").concat(a),t.next=4,h.a.delete(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})))()}getWithoutAuth(e){var t=this;return Object(d.a)(p.a.mark((function a(){var r,n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._permissionService.getIdToken();case 2:return r=O.a.settings.prettyURL?e:O.a.rewrites[e]||e,a.next=5,h.a.get("".concat(O.a.gateway.gateway_url,"/").concat(r));case 5:return n=a.sent,a.abrupt("return",n.data);case 7:case"end":return a.stop()}}),a)})))()}postWithoutAuth(e,t){return Object(d.a)(p.a.mark((function a(){var r,n,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.post("".concat(O.a.gateway.gateway_url,"/").concat(e),t);case 3:return r=a.sent,a.abrupt("return",r.data);case 7:throw a.prev=7,a.t0=a.catch(0),S.a.error(a.t0),n=new m.a("HttpService/WrongSetting","Error happened!"),a.t0.response?(S.a.error(a.t0.response.data),S.a.error(a.t0.response.status),S.a.error(a.t0.response.headers),(s=a.t0.response.data).isError?(n.code=s.code,n.message=s.message):(n.code="HttpService/PostWithoutAuth",n.message="The request was made and the server responded with a status code that falls out of the range of 2xx")):a.t0.request?(S.a.error(a.t0.request),n.code="HttpService/postWithoutAuth/NoResponse",n.message="\n                The request was made but no response was received\n                error.request is an instance of XMLHttpRequest in the browser and an instance of\n                http.ClientRequest in node.js\n                "):(S.a.error("Error",a.t0.message),n.code="HttpService/postWithoutAuth/WrongSetting",n.message="\n                Something happened in setting up the request that triggered an Error\n                "),S.a.error(a.t0.config),n;case 14:case"end":return a.stop()}}),a,null,[[0,7]])})))()}},o=Object(E.a)(c.prototype,"_permissionService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c))||s);var g,I=a(240);let A=Object(_.injectable)()(g=class{constructor(){this.addGraph=()=>" Not implemented!",this.updateGraph=()=>" Not implemented!",this.getGraphs=()=>" Not implemented!",this.deleteGraphByNodeId=()=>" Not implemented!",this.deleteGraph=()=>" Not implemented!",this.getGraphsQuery=()=>" Not implemented!"}})||g;var T,v,x,j,C,D=a(4);let L=(T=Object(_.injectable)(),v=Object(_.inject)(i.a.Httpervice),T((j=class{constructor(){var e=this;Object(l.a)(this,"_httpService",C,this),this.addVote=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.post("votes",a);case 3:return r=t.sent,t.abrupt("return",r.objectId);case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getVotes=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("votes?postId=".concat(a,"&page=").concat(r,"&limit=").concat(n));case 3:return s=t.sent,c=Object(D.Map)({}),s.forEach((e=>{const t={id:e.objectId,creationDate:e.created_date};c=c.set(e.objectId,Object(D.Map)(t))})),t.abrupt("return",c);case 9:throw t.prev=9,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.deleteVote=function(){var t=Object(d.a)(p.a.mark((function t(a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("votes/post/".concat(r));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}()}},C=Object(E.a)(j.prototype,"_httpService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=j))||x);var R,w,N,y,P,U=a(8),M=a(206);let k=(R=Object(_.injectable)(),w=Object(_.inject)(i.a.Httpervice),R((y=class{constructor(){var e=this;Object(l.a)(this,"_httpService",P,this),this.addPost=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.post("posts",Object(U.a)(Object(U.a)({},a),{},{objectId:a.id}));case 3:return r=t.sent,t.abrupt("return",r.objectId);case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.updatePost=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.votes||delete a.votes,a.comments||delete a.comments,t.next=5,e._httpService.put("posts",a);case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.deletePost=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("posts/".concat(a));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),this.getPostById=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("posts/".concat(a));case 3:return r=t.sent,t.abrupt("return",Object(U.a)(Object(U.a)({},r),{},{id:r.objectId,creationDate:r.created_date}));case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getSearchKey=this.getSearchKey.bind(this),this.searchPosts=this.searchPosts.bind(this),this.getAlbumPosts=this.getAlbumPosts.bind(this),this.getPostsByUserId=this.getPostsByUserId.bind(this)}getPostsByUserId(e,t,a,r){var n=this;return Object(d.a)(p.a.mark((function t(){var s,c,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n._httpService.get("posts?owner=".concat(e,"&page=").concat((a||0)+1,"&limit=").concat(r));case 3:return s=t.sent,c=s?s.length:0,o=Object(D.Map)({}),i=Object(D.Map)({}),s&&s.forEach((e=>{let t=0;e.votes&&Object.keys(e.votes).forEach((a=>{e.votes[a]&&t++})),o=o.set(e.objectId,Object(D.fromJS)(Object(U.a)(Object(U.a)({},e),{},{id:e.objectId,creationDate:e.created_date,score:t}))),i=i.set(e.objectId,!0)})),t.abrupt("return",{posts:o,ids:i,newLastPostId:c>0?s[0].objectId:"",hasMore:!(c<(r||10))});case 11:throw t.prev=11,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}getAlbumPosts(e,t,a,r){var n=this;return Object(d.a)(p.a.mark((function e(){var t,s,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n._httpService.get("posts?type=".concat(M.a.Album,"&page=").concat((a||0)+1,"&limit=").concat(r));case 3:return t=e.sent,s=t?t.length:0,c=Object(D.Map)({}),o=Object(D.Map)({}),t&&t.forEach((e=>{let t=0;e.votes&&Object.keys(e.votes).forEach((a=>{e.votes[a]&&t++})),c=c.set(e.objectId,Object(D.fromJS)(Object(U.a)(Object(U.a)({},e),{},{id:e.objectId,creationDate:e.created_date,score:t}))),o=o.set(e.objectId,!0)})),e.abrupt("return",{posts:c,ids:o,newLastPostId:s>0?t[0].objectId:"",hasMore:!(s<(r||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new m.a(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}searchPosts(e,t,a,r,n){var s=this;return Object(d.a)(p.a.mark((function a(){var c,o,i,u;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s._httpService.get("posts?search=".concat(e,"&page=").concat((r||0)+1,"&limit=").concat(n,"&owner=").concat(t));case 3:return c=a.sent,o=c?c.length:0,i=Object(D.Map)({}),u=Object(D.Map)({}),c&&c.forEach((e=>{let t=0;e.votes&&Object.keys(e.votes).forEach((a=>{e.votes[a]&&t++})),i=i.set(e.objectId,Object(D.fromJS)(Object(U.a)(Object(U.a)({},e),{},{id:e.objectId,creationDate:e.created_date,score:t}))),u=u.set(e.objectId,!0)})),a.abrupt("return",{posts:i,ids:u,newLastPostId:o>0?c[0].objectId:"",hasMore:!(o<(n||10))});case 11:throw a.prev=11,a.t0=a.catch(0),new m.a(a.t0.code,a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}getSearchKey(){return Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})))()}},P=Object(E.a)(y.prototype,"_httpService",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=y))||N);var G,F,H,B,V,Y=a(162);let q=(G=Object(_.injectable)(),F=Object(_.inject)(i.a.Httpervice),G((B=class{constructor(){Object(l.a)(this,"_httpService",V,this),this.uploadFile=(e,t,a,r,n,s)=>{const c=new FormData;c.append("file",t),this._httpService.postFile("storage/".concat(e),c,a,r).then((function(e){r(100,!1,a),S.a.info(e);const t=e.payload.url;n(new Y.a(t),{url:t})})).catch((function(e){s(e),S.a.error("========== Upload Image ============"),S.a.error(e),S.a.error("====================================")}))},this.deleteFile=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})))}},V=Object(E.a)(B.prototype,"_httpService",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=B))||H);var K,W,z,Q,J;let X=(K=Object(_.injectable)(),W=Object(_.inject)(i.a.Httpervice),K((Q=class{constructor(){Object(l.a)(this,"_httpService",J,this),this.getTwitterMedia=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implementd!");case 1:case"end":return e.stop()}}),e)}))),this.addFeed=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implementd!");case 1:case"end":return e.stop()}}),e)})))}},J=Object(E.a)(Q.prototype,"_httpService",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Q))||z);var $,Z,ee,te,ae;let re=($=Object(_.injectable)(),Z=Object(_.inject)(i.a.Httpervice),$((te=class{constructor(){var e=this;Object(l.a)(this,"_httpService",ae,this),this.addComment=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.post("comments",a);case 3:return r=t.sent,t.abrupt("return",r.objectId);case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getComments=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s,c,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("comments?postId=".concat(a,"&page=").concat(r+1,"&limit=").concat(n));case 3:return s=t.sent,c=s?s.length:0,o=Object(D.Map)({}),i=Object(D.Map)({}),s&&s.forEach((e=>{o=o.set(e.objectId,Object(D.fromJS)(Object(U.a)(Object(U.a)({},e),{},{id:e.objectId,creationDate:e.created_date}))),i=i.set(e.objectId,!0)})),t.abrupt("return",{comments:o,ids:i,newLastCommentId:c>0?s[0].objectId:"",hasMore:!(c<(n||10))});case 11:throw t.prev=11,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.updateComment=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.put("comments",Object(U.a)(Object(U.a)({},a),{},{objectId:a.id}));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),this.deleteComment=function(){var t=Object(d.a)(p.a.mark((function t(a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("comments/id/".concat(a,"/post/").concat(r));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}()}},ae=Object(E.a)(te.prototype,"_httpService",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=te))||ee);var ne,se,ce,oe,ie;let ue=(ne=Object(_.injectable)(),se=Object(_.inject)(i.a.Httpervice),ne((oe=class{constructor(){var e=this;Object(l.a)(this,"_httpService",ie,this),this.getUserProfile=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("profile/id/".concat(a));case 3:return r=t.sent,t.abrupt("return",Object(U.a)(Object(U.a)({},r),{},{userId:r.objectId,creationDate:r.created_date}));case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/getUserProfile :"+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getCurrentUserProfile=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("profile/my");case 3:return a=t.sent,t.abrupt("return",Object(U.a)(Object(U.a)({},a),{},{userId:a.objectId,creationDate:a.created_date}));case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/getUserProfile :"+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),this.updateUserProfile=function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,s,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._httpService.put("auth/profile",Object(U.a)({},r)),t.next=3,n;case 3:return s=e._httpService.put("posts/profile"),c=e._httpService.put("comments/profile"),t.next=7,Promise.all([c,s]);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.increaseShareCount=()=>" Not implemented!",this.decreaseShareCount=()=>" Not implemented!",this.increaseFollowCount=()=>" Not implemented!",this.initUserStatus=()=>" Not implemented!",this.decreaseFollowCount=()=>" Not implemented!",this.getUsersProfile=()=>"Not implemented",this.getSearchKey=this.getSearchKey.bind(this),this.searchUser=this.searchUser.bind(this)}searchUser(e,t,a,r){var n=this;return Object(d.a)(p.a.mark((function s(){var c,o,i,u;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,n._httpService.get("profile?search=".concat(e,"&page=").concat(a+1,"&limit=").concat(r));case 3:return c=s.sent,o=c?c.length:0,i=Object(D.Map)({}),u=Object(D.Map)({}),c&&c.forEach((e=>{e.objectId!==t&&(i=i.set(e.objectId,Object(D.fromJS)(Object(U.a)(Object(U.a)({},e),{},{userId:e.objectId,creationDate:e.created_date}))),u=u.set(e.objectId,!0))})),s.abrupt("return",{users:i,ids:u,newLastPostId:o>0?c[0].objectId:"",hasMore:!(o<(r||10))});case 11:throw s.prev=11,s.t0=s.catch(0),new m.a(s.t0.code,s.t0.message);case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()}getSearchKey(){return Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})))()}},ie=Object(E.a)(oe.prototype,"_httpService",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=oe))||ce);var pe,de,le,Ee,_e,Oe=a(109),be=a(107),he=a.n(be);let me=(pe=Object(_.injectable)(),de=Object(_.inject)(i.a.Httpervice),pe((Ee=class{constructor(){var e=this;Object(l.a)(this,"_httpService",_e,this),this.login=()=>" Not implemented!",this.isLoggedin=()=>null!==this.getUserAuthCookie(),this.getUserAuthCookie=()=>{const e=Oe.a.readCookie("pa");return e||null},this.getUserAuth=()=>{const e=this.getUserAuthCookie();return e?he()("_.".concat(e,"._")):null},this.logout=()=>{Oe.a.eraseCookie("pa")},this.getUserRegisterToken=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.getAccessToken=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("actions/room/access-key");case 3:return a=t.sent,t.abrupt("return",a.accessKey);case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),this.verifyUserRegisterCode=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.registerUser=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.updatePassword=()=>" Not implemented!",this.getUserClaim=()=>" Not implemented!",this.onAuthStateChanged=()=>" Not implemented!",this.resetPassword=()=>" Not implemented!",this.sendEmailVerification=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.loginWithOAuth=()=>" Not implemented!",this.sendSmsVerification=()=>" Not implemented!",this.sendResetPasswordVerification=()=>" Not implemented!",this.confirmVerificationPhone=()=>" Not implemented!",this.confirmVerificationEmail=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.confirmResetPassword=()=>" Not implemented!",this.storeUserInformation=()=>" Not implemented!",this.storeUserProviderData=()=>" Not implemented!"}loginByToken(){return Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})))()}isUserUserVerified(){return" Not implemented!"}},_e=Object(E.a)(Ee.prototype,"_httpService",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=Ee))||le);var Se,fe,ge,Ie,Ae;let Te=(Se=Object(_.injectable)(),fe=Object(_.inject)(i.a.Httpervice),Se((Ie=class{constructor(){var e=this;Object(l.a)(this,"_httpService",Ae,this),this.addCircle=function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={name:r.name},t.next=4,e._httpService.post("circles",n);case 4:return s=t.sent,t.abrupt("return",s.objectId);case 8:throw t.prev=8,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}(),this.updateCircle=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.put("circles",n);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.deleteCircle=function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e._httpService.delete("circles/".concat(r)),s=e._httpService.delete("user-rels/circle/".concat(r)),t.next=5,Promise.all([n,s]);case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),this.getCircles=Object(d.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("circles/my");case 3:return a=t.sent,r=Object(D.Map)({}),a.forEach((e=>{const t={id:e.objectId,creationDate:e.created_date,ownerId:e.ownerUserId,name:e.name,isSystem:e.isSystem};r=r.set(e.objectId,Object(D.Map)(t))})),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))}},Ae=Object(E.a)(Ie.prototype,"_httpService",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Ie))||ge);var ve=a(75);class xe{constructor(e,t,a,r,n,s,c,o,i,u,p,d,l=0,E=0,_="",O=!1,b=[],h=ve.a.Public){this.objectId=e,this.deletedDate=t,this.created_date=a,this.thumbnail=r,this.url=n,this.fullPath=s,this.caption=c,this.directory=o,this.fileName=i,this.ownerUserId=u,this.last_updated=p,this.albumId=d,this.height=l,this.width=E,this.meta=_,this.deleted=O,this.accessUserList=b,this.permission=h}}var je,Ce,De,Le,Re,we,Ne,ye,Pe,Ue=a(114),Me=a.n(Ue);let ke=(je=Object(_.injectable)(),Ce=Object(_.inject)(i.a.StorageService),De=Object(_.inject)(i.a.PostService),Le=Object(_.inject)(i.a.Httpervice),je((we=class{constructor(){var e=this;Object(l.a)(this,"_storageService",Ne,this),Object(l.a)(this,"_postService",ye,this),Object(l.a)(this,"_httpService",Pe,this),this.getGallery=function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,s,c,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("media/dir/".concat(r));case 3:return n=t.sent,s=Object(D.Map)({}),c=Object(D.Map)({}),o=n&&n.length&&n.length>0,i=o?n[0].objectId:"",o&&n.forEach((e=>{const t=Object(U.a)(Object(U.a)({},e),{},{id:e.objectId,creationDate:e.created_date});c=c.set(e.objectId,Object(D.Map)(t)),s=s.set(e.objectId,!0)})),t.abrupt("return",{mappedImages:c,ids:s,newLastImageId:i});case 12:throw t.prev=12,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),this.saveImages=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[],n.forEach((e=>{e.objectId=Me.a.v4(),s.push(new xe(e.objectId,0,0,e.thumbnail,e.url,"",e.caption,r,e.fileName,e.ownerUserId,0,""===e.albumId?"00000000-0000-0000-0000-000000000000":e.albumId,e.height,e.width,e.meta,!1,e.accessUserList,e.permission))})),t.prev=2,t.next=5,e._httpService.post("media/list",{list:s});case 5:return t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(2),new m.a(t.t0.code,t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.setPhotoAlbum=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n,s){var c,o,i,u,d,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Me.a.v4(),n.id=c,o=e._postService.addPost(n),s.forEach((e=>{e.albumId=c})),i=e.saveImages(a,r,s),t.next=7,Promise.all([o,i]);case 7:return u=Object(D.Map)({}),d=Object(D.Map)({}),s.forEach((e=>{const t=Object(D.fromJS)(Object(U.a)({},e));d=d.set(e.objectId,t),u=u.set(e.objectId,!0)})),l=(l=Object(D.fromJS)(Object(U.a)({},n))).set("album",Object(D.fromJS)(Object(U.a)({},n.album))),t.abrupt("return",{newAlbum:l,imageIds:u,images:d});case 13:case"end":return t.stop()}}),t)})));return function(e,a,r,n){return t.apply(this,arguments)}}(),this.fetchAlbumImages=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n,s=10){var c,o,i,u,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._httpService.get("posts?album=".concat(r,"&page=").concat(n+1,"&limit=").concat(s));case 2:return c=t.sent,o=Object(D.Map)({}),i=c&&c.length&&c.length>0,u=i?c[0].objectId:"",d=Object(D.Map)({}),i&&c.forEach((e=>{o=o.set(e.objectId,Object(D.fromJS)(e)),d=d.set(e.objectId,!0)})),t.abrupt("return",{mappedImages:o,ids:d,newLastImageId:u});case 9:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}(),this.saveFile=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.directory=n,r.albumId=""===r.albumId?"00000000-0000-0000-0000-000000000000":r.albumId,t.next=5,e._httpService.post("media",r);case 5:return s=t.sent,t.abrupt("return",s.objectId);case 9:throw t.prev=9,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.deleteImage=function(){var t=Object(d.a)(p.a.mark((function t(a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._storageService.deleteFile(a,r);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.deleteFile=function(){var t=Object(d.a)(p.a.mark((function t(a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("media/id/".concat(r));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}(),this.uploadFile=(e,t,a,r,n,s)=>{this._storageService.uploadFile(e,t,a,r,n,s)},this.downloadFile=()=>"Not implemented!",this.uploadFile=this.uploadFile.bind(this)}},Ne=Object(E.a)(we.prototype,"_storageService",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(E.a)(we.prototype,"_postService",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Object(E.a)(we.prototype,"_httpService",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=we))||Re);var Ge,Fe,He,Be,Ve;let Ye=(Ge=Object(_.injectable)(),Fe=Object(_.inject)(i.a.Httpervice),Ge((Be=class{constructor(){var e=this;Object(l.a)(this,"_httpService",Ve,this),this.addNotification=()=>" Not implemented!",this.getNotifications=(e,t)=>{this._httpService.get("notifications?page=1").then((e=>{let a=Object(D.Map)({});e&&e.length&&e.length>0&&(e.forEach((e=>{a=a.set(e.objectId,Object(D.Map)(e))})),t(a))})).catch((e=>{throw new m.a(e.code,e.message)}))},this.deleteNotification=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("notifications/id/".concat(a));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),this.setSeenNotification=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.put("notifications/seen/".concat(a));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}},Ve=Object(E.a)(Be.prototype,"_httpService",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Be))||He);const qe={GraphService:Symbol("GraphService")};var Ke,We,ze,Qe,Je,Xe=a(136);let $e=(Ke=Object(_.injectable)(),We=Object(_.inject)(i.a.Httpervice),Ke((Qe=class{constructor(){var e=this;Object(l.a)(this,"_httpService",Je,this),this.tieUseres=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s,c,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={userId:a.userId,fullName:a.fullName,avatar:a.avatar},c={userId:r.userId,fullName:r.fullName,avatar:r.avatar},o={left:s,right:c,rel:[r.userId,a.userId],circleIds:n},t.next=6,e._httpService.post("user-rels/follow",o);case 6:return i=t.sent,t.abrupt("return",i.objectId);case 10:throw t.prev=10,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/tieUseres :"+t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.updateUsersTie=function(){var t=Object(d.a)(p.a.mark((function t(a,r,n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={circleIds:n,rightId:r.userId},t.next=4,e._httpService.put("user-rels/circles",s);case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/updateUsersTie :"+t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,a,r){return t.apply(this,arguments)}}(),this.removeUsersTie=function(){var t=Object(d.a)(p.a.mark((function t(a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.delete("user-rels/unfollow/".concat(r));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/removeUsersTie :"+t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}(),this.getUserTies=Object(d.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("user-rels/following");case 3:if(a=t.sent,r=Object(D.Map)({}),a&&a.length>0){t.next=7;break}return t.abrupt("return",r);case 7:return a.forEach((e=>{const t=e.created_date,a=e.circleIds,n=e.right,s=n.userId,c=n.fullName,o=n.avatar,i=new Xe.a(s,t,c,o,!0,a);r=r.set(i.userId,Object(D.Map)(Object(U.a)(Object(U.a)({},i),{},{circleIdList:a?Object(D.List)(a):Object(D.List)([])})))})),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/getUserTies :"+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),this.getUserTieSender=Object(d.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("user-rels/followers");case 3:if(a=t.sent,r=Object(D.Map)({}),a&&a.length>0){t.next=7;break}return t.abrupt("return",r);case 7:return a.forEach((e=>{const t=e.created_date,a=e.circleIds,n=e.left,s=n.userId,c=n.fullName,o=n.avatar,i=new Xe.a(s,t,c,o,!0,a);r=r.set(i.userId,Object(D.Map)(Object(U.a)(Object(U.a)({},i),{},{circleIdList:Object(D.List)([])})))})),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t.catch(0),new m.a(t.t0.code,"firestore/getUserTieSender :"+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}},Je=Object(E.a)(Qe.prototype,"_httpService",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Qe))||ze);var Ze,et,tt,at,rt;let nt=(Ze=Object(_.injectable)(),et=Object(_.inject)(i.a.Httpervice),Ze((at=class{constructor(){var e=this;Object(l.a)(this,"_httpService",rt,this),this.updateUserSetting=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.put("setting",a);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),this.getUserSettings=Object(d.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._httpService.get("setting");case 3:return a=t.sent,r=Object(D.Map)({}),Object.keys(a).forEach((e=>{const t=a[e];let n=Object(D.Map)({});t.forEach((e=>{n=n.set(e.name,Object(D.Map)(e))})),r=r.set(e,n)})),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(0),new m.a(t.t0.code,t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))}},rt=Object(E.a)(at.prototype,"_httpService",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=at))||tt);var st,ct=a(271),ot=a.n(ct);let it=Object(_.injectable)()(st=class{constructor(){this.socket=null,this.wsConnect=(e,t,a,r)=>(this.socket=ot()(e,{query:"accessKey=".concat(t,"&uid=").concat(a)}),this.socket.on("connect",(()=>{S.a.info("ws is connected."),r({signal:"status",data:"Connected"})})),this.socket.on("disconnect",(()=>{S.a.info("ws is disconnected."),r({signal:"status",data:"Disconnected"})})),this.socket.on("reconnect",(e=>{S.a.info("reconnecting #".concat(e," ...")),r({signal:"status",data:"Reconnecting"})})),this.socket.on("dispatch",(e=>{if(S.a.info("dispatch: ",e),!e)throw new m.a("emptyActionError","Empty action fired on dispatch from websocket server!");r({signal:"dispatch",data:e})})),this.socket.on("dispatch-list",(e=>{if(S.a.info("dispatch action list: ",e),!e||!e.length)throw new m.a("emptyActionListError","Empty action list fired on dispatch from websocket server!");for(let t=0;t<e.length;t++){const a=e[t];r({signal:"dispatch",data:a})}})),this.socket.close),this.createChatRquest=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("request-chat",{recUserId:e})},this.cancelChatRquest=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("cancel-chat",{recUserId:e})},this.ignoreChatRquest=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("ignore-chat",{reqUserId:e})},this.acceptChatRquest=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("accept-chat",{reqUserId:e})},this.closeChat=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("close-chat",{userId:e})},this.joinChatRoom=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("join-chat",{roomId:e})},this.createChatMessage=e=>{if(!this.socket)throw new m.a("nullSocketError","There is no connection bound to socket!");this.socket.emit("chatroom-message",{message:e})},this.createChatRoom=()=>"Not implemented",this.getPeerChatRoom=()=>"Not implemented",this.setChatLangauge=()=>"Not implemented",this.subscribeChatMessages=()=>"Not implemented",this.getChatMessages=()=>"Not implemented",this.removeHistoryRoom=this.removeHistoryRoom.bind(this),this.removeMessagesByBatch=this.removeMessagesByBatch.bind(this),this.romveMessages=this.romveMessages.bind(this)}removeHistoryRoom(){return p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))()}removeMessagesByBatch(){return p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))()}romveMessages(){return p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))()}})||st;var ut;let pt=Object(_.injectable)()(ut=class{constructor(){this.getIdToken=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.getIdToken=this.getIdToken.bind(this)}})||ut;window.console.trace=I.a.logger;const dt=new _.Container;dt.bind(i.a.Httpervice).to(f),(e=>{e.bind(i.a.PermissionService).to(pt),e.bind(i.a.AuthorizeService).to(me),e.bind(i.a.CircleService).to(Te),e.bind(i.a.CommentService).to(re),e.bind(i.a.CommonService).to(X).inSingletonScope(),e.bind(i.a.ImageGalleryService).to(ke),e.bind(i.a.StorageService).to(q),e.bind(i.a.NotificationService).to(Ye),e.bind(i.a.PostService).to(k),e.bind(i.a.UserService).to(ue),e.bind(i.a.VoteService).to(L),e.bind(qe.GraphService).to(A),e.bind(i.a.UserTieService).to($e),e.bind(i.a.UserSettingService).to(nt),e.bind(i.a.ChatService).to(it)})(dt)},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={info:(e,...t)=>{console.log("[TELAR][INFO]",e,...t)},warn:(e,...t)=>{console.log("[TELAR][WARN]",e,...t)},error:(e,...t)=>{console.log("[TELAR][ERROR]",e,...t)}}},32:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.CircleAddToCircle="CircleAddToCircle",e.CircleFollowUser="CircleFollowUser",e.CircleCreateTieUser="CircleCreateTieUser",e.CircleDeleteFollowingUser="CircleDeleteFollowingUser",e.CommonSendFeedback="CommonSendFeedback",e.CommentGetComments="CommentGetComments",e.StreamGetPosts="StreamGetPosts",e.SearchPosts="SearchPosts",e.ProfileGetPosts="ProfileGetPosts",e.ProfileGetAlbums="ProfileGetAlbums",e.AuthLogin="AuthLogin",e.AuthSignup="AuthSignup",e.UserFetchRequest="UserFetchRequest",e.GalleryCreateAlbum="GalleryCreateAlbum"}(r||(r={}))},35:function(e,t,a){"use strict";a.d(t,"j",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"l",(function(){return d})),a.d(t,"e",(function(){return l})),a.d(t,"i",(function(){return E})),a.d(t,"o",(function(){return _})),a.d(t,"a",(function(){return O})),a.d(t,"x",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"w",(function(){return g})),a.d(t,"h",(function(){return I})),a.d(t,"d",(function(){return A})),a.d(t,"c",(function(){return T})),a.d(t,"u",(function(){return v})),a.d(t,"v",(function(){return x})),a.d(t,"t",(function(){return j})),a.d(t,"s",(function(){return C})),a.d(t,"p",(function(){return D})),a.d(t,"q",(function(){return L})),a.d(t,"m",(function(){return R})),a.d(t,"r",(function(){return w})),a.d(t,"n",(function(){return N}));var r=a(10),n=a(9),s=a(28),c=a(5),o=a(46);const i=s.a.get(n.a.UserService),u=()=>({type:r.a.DB_FETCH_USER_PROFILE}),p=(e,t)=>({type:r.a.DB_FETCH_USER_PROFILE_BY_ID,payload:{uid:e,callerKey:t}}),d=e=>(t,a)=>{const r=a(),n=r.getIn(["authorize","uid"]);let s=o.a.getUserProfileById(r,{userId:n});return e.avatar&&(s=s.set("avatar",e.avatar)),e.banner&&(s=s.set("banner",e.banner)),e.email&&(s=s.set("email",e.email)),e.fullName&&(s=s.set("fullName",e.fullName)),e.tagLine&&(s=s.set("tagLine",e.tagLine)),e.birthday&&(s=s.set("birthday",e.birthday)),e.companyName&&(s=s.set("companyName",e.companyName)),e.webUrl&&(s=s.set("webUrl",e.webUrl)),s=e.twitterId?s.set("twitterId",e.twitterId):s.set("twitterId",""),s=e.facebookId?s.set("facebookId",e.facebookId):s.set("facebookId",""),e.creationDate&&(s=s.set("creationDate",e.creationDate)),e.permission&&(s=s.set("permission",e.permission)),e.accessUserList&&(s=s.set("accessUserList",e.accessUserList)),t(c.w()),i.updateUserProfile(n,s.toJS()).then((()=>{t(c.j()),t(S(n,s)),t(I())})).catch((e=>{t(c.j()),t(c.s(e.message))}))},l=(e,t)=>({type:r.a.ADD_USER_INFO,payload:{uid:e,info:t}}),E=(e=0,t=10)=>({type:r.a.DB_FETCH_FIND_PEOPLE,payload:{page:e,limit:t}}),_=(e="",t=0,a=10)=>({type:r.a.DB_FETCH_USER_SEARCH,payload:{query:e,page:t,limit:a}}),O=e=>({type:r.a.ADD_FIND_PEOPLE,payload:{userIds:e}}),b=e=>({type:r.a.SET_USER_SEARCH_KEY,payload:{searchKey:e}}),h=(e,t)=>({type:r.a.ADD_USER_SEARCH,payload:{userIds:e},meta:{overwrite:t}}),m=e=>({type:r.a.ADD_PEOPLE_INFO,payload:e}),S=(e,t)=>({type:r.a.UPDATE_USER_INFO,payload:{uid:e,info:t}}),f=()=>({type:r.a.CLEAR_ALL_DATA_USER}),g=()=>({type:r.a.OPEN_EDIT_PROFILE}),I=()=>({type:r.a.CLOSE_EDIT_PROFILE}),A=(e,t)=>({type:r.a.ADD_PROFILE_LIST_POST,payload:{postIds:t,userId:e}}),T=(e,t)=>({type:r.a.ADD_PROFILE_LIST_ALBUM,payload:{postIds:t,userId:e}}),v=()=>({type:r.a.NOT_MORE_FIND_PEOPLE}),x=()=>({type:r.a.NOT_MORE_PEOPLE_SEARCH}),j=e=>({type:r.a.NOT_MORE_DATA_ALBUM,payload:{userId:e}}),C=(e,t)=>({type:r.a.LAST_POST_ALBUM,payload:{userId:e,lastPostId:t}}),D=()=>({type:r.a.INCREASE_FIND_PEOPLE_PAGE}),L=e=>({type:r.a.INCREASE_FOLLOWING_COUNT_USER,payload:{userId:e}}),R=e=>({type:r.a.DECREASE_FOLLOWING_COUNT_USER,payload:{userId:e}}),w=e=>({type:r.a.INCREASE_POST_COUNT_USER,payload:{userId:e}}),N=e=>({type:r.a.DECREASE_POST_COUNT_USER,payload:{userId:e}})},37:function(e,t,a){"use strict";a.d(t,"g",(function(){return b})),a.d(t,"m",(function(){return h})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return S})),a.d(t,"l",(function(){return f})),a.d(t,"k",(function(){return g})),a.d(t,"i",(function(){return I})),a.d(t,"u",(function(){return A})),a.d(t,"b",(function(){return T})),a.d(t,"v",(function(){return x})),a.d(t,"w",(function(){return j})),a.d(t,"c",(function(){return D})),a.d(t,"e",(function(){return L})),a.d(t,"d",(function(){return R})),a.d(t,"a",(function(){return w})),a.d(t,"f",(function(){return N})),a.d(t,"s",(function(){return y})),a.d(t,"t",(function(){return P})),a.d(t,"n",(function(){return U})),a.d(t,"q",(function(){return M})),a.d(t,"p",(function(){return k})),a.d(t,"r",(function(){return G})),a.d(t,"o",(function(){return F}));var r=a(8),n=a(21),s=a(75),c=a(4),o=a(51),i=a.n(o),u=a(20),p=a(9),d=a(28),l=a(5),E=a(35),_=a(46);const O=d.a.get(p.a.PostService),b=(e,t)=>(a,n)=>{const o=n(),p=o.getIn(["authorize","uid"]),d=_.a.getUserProfileById(o,{userId:p}).toJS(),b={postTypeId:e.postTypeId||0,creationDate:i()().utc().valueOf(),deleteDate:0,score:0,viewCount:0,body:e.body,ownerUserId:p,ownerDisplayName:d.fullName,ownerAvatar:d.avatar,lastEditDate:0,album:e.album&&e.album,tags:e.tags||[],commentCounter:0,image:e.image||"",imageFullPath:e.imageFullPath||"",video:e.video||"",thumbnail:e.thumbnail||"",disableComments:!!e.disableComments&&e.disableComments,disableSharing:!!e.disableSharing&&e.disableSharing,accessUserList:e.accessUserList?e.accessUserList:[],permission:e.permission?e.permission:s.a.Public,deleted:!1,version:u.a.dataFormat.postVersion};return O.addPost(b).then((e=>{a(T(Object(c.fromJS)(Object(r.a)(Object(r.a)({},b),{},{id:e})))),a(L(Object(c.Map)({[e]:!0}))),a(E.r(p)),t()})).catch((e=>a(l.s(e.message))))},h=(e,t)=>a=>(a(l.w()),O.updatePost(e.toJS()).then((()=>{a(v(e)),t(),a(l.j())})).catch((e=>{a(l.s(e.message)),a(l.j())}))),m=e=>(t,a)=>{t(l.w());const r=a().getIn(["authorize","uid"]);return O.deletePost(e).then((()=>{t(C(r,e)),t(l.j()),t(E.n(r))})).catch((e=>{t(l.s(e.message)),t(l.j())}))},S=(e=0,t=10)=>({type:n.a.DB_GET_POST,payload:{page:e,limit:t}}),f=(e="",t=0,a=10)=>({type:n.a.DB_SEARCH_POST,payload:{query:e,page:t,limit:a}}),g=(e,t=0,a=10)=>({type:n.a.DB_GET_POST_BY_USER_ID,payload:{userId:e,page:t,limit:a}}),I=(e,t)=>a=>{if(e)return O.getPostById(t).then((e=>{a(T(Object(c.fromJS)(e)))})).catch((e=>{a(l.s(e.message))}))},A=e=>({type:n.a.SET_POST_SEARCH_KEY,payload:{searchKey:e}}),T=e=>({type:n.a.ADD_POST,payload:{post:e}}),v=e=>({type:n.a.UPDATE_POST,payload:{post:e}}),x=e=>({type:n.a.UPDATE_POST_COMMENTS,payload:{post:e}}),j=e=>({type:n.a.UPDATE_POST_VOTES,payload:{post:e}}),C=(e,t)=>({type:n.a.DELETE_POST,payload:{uid:e,id:t}}),D=e=>({type:n.a.ADD_LIST_POST,payload:{entities:e}}),L=e=>({type:n.a.ADD_LIST_STREAM_POST,payload:{postIds:e}}),R=(e,t)=>({type:n.a.ADD_LIST_SEARCH_POST,payload:{postIds:e},meta:{overwrite:t}}),w=e=>({type:n.a.ADD_LIST_POST_INSTAGRAM,payload:{posts:e}}),N=()=>({type:n.a.CLEAR_ALL_DATA_POST}),y=()=>({type:n.a.NOT_MORE_DATA_STREAM}),P=()=>({type:n.a.NO_MORE_POST_SEARCH}),U=()=>({type:n.a.INCREASE_PAGE_STREAM}),M=e=>({type:n.a.LAST_POST_STREAM,payload:{lastPostId:e}}),k=e=>({type:n.a.LAST_POST_SEARCH,payload:{lastPostId:e}}),G=e=>({type:n.a.NOT_MORE_DATA_PROFILE,payload:{userId:e}}),F=(e,t)=>({type:n.a.LAST_POST_PROFILE,payload:{userId:e,lastPostId:t}})},389:function(e,t){},39:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_COMMENT="ADD_COMMENT",e.ADD_COMMENT_LIST="ADD_COMMENT_LIST",e.DELETE_COMMENT="DELETE_COMMENT",e.CLEAR_ALL_DATA_COMMENT="CLEAR_ALL_DATA_COMMENT",e.UPDATE_COMMENT="UPDATE_COMMENT",e.CLOSE_COMMENT_EDITOR="CLOSE_COMMENT_EDITOR",e.OPEN_COMMENT_EDITOR="OPEN_COMMENT_EDITOR",e.DB_FETCH_COMMENTS="DB_FETCH_COMMENTS",e.ASYNC_ADD_NEW_COMMENT="ASYNC_ADD_NEW_COMMENT",e.ASYNC_UPDATE_COMMENT="ASYNC_UPDATE_COMMENT",e.ASYNC_DELETE_COMMENT="ASYNC_DELETE_COMMENT",e.HAS_MORE_COMMENTS="HAS_MORE_COMMENTS",e.NO_MORE_COMMENTS="NO_MORE_COMMENTS"}(r||(r={}))},392:function(e,t,a){},42:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.LOGIN="LOGIN",e.SUBSCRIBE_AUTH_STATE_CHANGE="SUBSCRIBE_AUTH_STATE_CHANGE",e.SET_LOGIN="SET_LOGIN",e.ASYNC_SET_LOGIN="ASYNC_SET_LOGIN",e.ASYNC_FETCH_USER_REGISTER_TOKEN="ASYNC_FETCH_USER_REGISTER_TOKEN",e.ASYNC_FETCH_ACCESS_TOKEN="ASYNC_FETCH_ACCESS_TOKEN",e.ASYNC_VERITY_USER_REGISTER_CODE="ASYNC_VERITY_USER_REGISTER_CODE",e.SET_USER_REGISTER_TOKEN="SET_USER_REGISTER_TOKEN",e.SET_ACCESS_TOKEN="SET_ACCESS_TOKEN",e.LOGOUT="LOGOUT",e.SIGNUP="SIGNUP",e.UPDATE_PASSWORD="UPDATE_PASSWORD",e.SET_SIGNUP_STEP="SET_SIGNUP_STEP"}(r||(r={}))},43:function(e,t,a){"use strict";var r=a(111);const n=e=>{const t=e.match(r.a.YoutubUrlCode);return!(!t||11!==t[7].length)&&t[7]};t.a={isValidEmail:e=>r.a.ValidEmail.test(e),queryString:function(e,t=window.location.href){e=e.replace(/[[]]/g,"\\$&");const a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},createServerRequestId:(e,t)=>"".concat(e,":").concat(t),getYoutubeCodeUrl:n,getYoutubetThumbnails:e=>"//img.youtube.com/vi/".concat(n(e),"/0.jpg"),validateYoutubeUrl:e=>{const t=e.match(r.a.ValidYoutubeURL);return t&&11===t[2].length},validateUrl:e=>r.a.ValidateURL.test(e),getNumberOfLines:e=>e.split("\n").length,isEmpty:e=>!e||/^\s*$/.test(e)||0===e.length||!e.trim()}},44:function(e,t,a){"use strict";a.d(t,"o",(function(){return O})),a.d(t,"p",(function(){return b})),a.d(t,"u",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"q",(function(){return S})),a.d(t,"j",(function(){return f})),a.d(t,"t",(function(){return g})),a.d(t,"r",(function(){return I})),a.d(t,"s",(function(){return A})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return v})),a.d(t,"n",(function(){return x})),a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return C})),a.d(t,"b",(function(){return D})),a.d(t,"c",(function(){return L})),a.d(t,"i",(function(){return R})),a.d(t,"g",(function(){return N})),a.d(t,"x",(function(){return y})),a.d(t,"v",(function(){return P})),a.d(t,"e",(function(){return U})),a.d(t,"f",(function(){return M})),a.d(t,"w",(function(){return k})),a.d(t,"h",(function(){return G}));var r=a(16),n=a(124),s=a(51),c=a.n(s),o=a(20),i=a(9),u=a(28),p=a(5),d=a(114),l=a.n(d),E=a(75);const _=u.a.get(i.a.ImageGalleryService),O=()=>({type:r.a.DB_FETCH_IMAGE_GALLERY}),b=()=>({type:r.a.DB_FETCH_VIDEO_GALLERY}),h=(e,t,a)=>({type:r.a.DB_UPLOAD_VIDEO,payload:{file:e,fileName:t,thumbnail:a}}),m=e=>({type:r.a.DB_DELETE_VIDEO,payload:{videoId:e}}),S=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]),s=new n.a(l.a.v4(),0,c.a.utc().valueOf(),e,e,e,"",o.a.data.avatarFolderPath,e,r,0,"",0,0,"",!1,[],E.a.Public);return _.saveFile(r,s,o.a.data.imageFolderPath).then((e=>{s.objectId=e,t(w(s))})).catch((e=>{t(p.s(e.message))}))},f=(e,t,a)=>({type:r.a.DB_DELETE_IMAGE,payload:{fileId:e,folderName:t,fileName:a}}),g=(e,t)=>({type:r.a.DB_UPLOAD_IMAGE,payload:{file:e,fileName:t}}),I=(e,t)=>({type:r.a.DB_UPLOAD_AVATAR,payload:{file:e,fileName:t}}),A=(e,t)=>({type:r.a.DB_UPLOAD_COVER,payload:{file:e,fileName:t}}),T=(e,t)=>({type:r.a.DB_FETCH_ALBUM_IMAGES,payload:{userId:e,albumId:t}}),v=e=>({type:r.a.DB_FETCH_AVATAR_IMAGES,payload:{userId:e}}),x=e=>({type:r.a.DB_FETCH_COVER_IMAGES,payload:{userId:e}}),j=e=>({type:r.a.ADD_IMAGE_LIST,payload:{entities:e}}),C=(e,t)=>({type:r.a.ADD_ALBUM_IMAGE_LIST,payload:{albumId:e,imageIds:t}}),D=(e,t)=>({type:r.a.ADD_AVATAR_IMAGE_LIST,payload:{imageIds:t,userId:e}}),L=(e,t)=>({type:r.a.ADD_COVER_IMAGE_LIST,payload:{imageIds:t,userId:e}}),R=(e,t)=>({type:r.a.DB_CREATE_ALBUM,payload:{albumPost:e,images:t}}),w=e=>({type:r.a.ADD_IMAGE,payload:{image:e}}),N=e=>({type:r.a.NO_MORE_DATA_ALBUM_IMAGE,payload:{albumId:e}}),y=(e,t)=>({type:r.a.LAST_ALBUM_IMAGE_ID,payload:{albumId:e,imageId:t}}),P=e=>({type:r.a.DELETE_IMAGE,payload:{imageId:e}}),U=e=>({type:r.a.ADD_VIDEO_GALLERY,payload:e}),M=e=>({type:r.a.ADD_VIDEO_LIST_GALLERY,payload:e}),k=e=>({type:r.a.DELETE_VIDEO,payload:e}),G=()=>({type:r.a.CLEAT_ALL_DATA_IMAGE_GALLERY})},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(4),n=a(26),s=a(47);const c=(e,{userId:t})=>{let a=e.getIn(["user","entities",t],Object(r.Map)({}));const n=a.get("id");return n&&(a=a.set("userId",n)),a},o=e=>e.getIn(["user","entities"],Object(r.Map)({})),i=e=>e.getIn(["user","findPeople","list"],Object(r.Map)({})),u=e=>e.getIn(["user","search","list"],Object(r.Map)({})),p=e=>e.getIn(["user","findPeople","hasMoreData"],!0),d=e=>e.getIn(["user","findPeople","page"],0),l=e=>e.getIn(["user","search","hasMoreData"],!0),E=(e,t)=>e.getIn(["user","album",t.userId,"list"],Object(r.Map)({})),_=e=>e.getIn(["post","entities"],Object(r.Map)({})),O=(e,t)=>e.getIn(["user","album",t.userId,"hasMoreData"],!0),b=(e,t)=>e.getIn(["user","album",t.userId,"lastPageRequest"],0),h={getUserProfileById:c,getSearchKey:e=>e.getIn(["user","searchKey"]),getAlbumLastPageRequest:b,getUsers:o,getAlbumLatPostId:(e,t)=>e.getIn(["user","album",t.userId,"lastPostId"],""),selectAlbumPosts:()=>Object(n.a)([E,_],((e,t)=>{let a=Object(r.List)([]);return e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty()?Object(r.List)([]):s.a.sortImuObjectsDate(a)})),selectLastAlbumPage:()=>Object(n.a)([b],(e=>e)),selectMoreAlbum:()=>Object(n.a)([O],(e=>e)),selectUserProfileById:()=>Object(n.a)([c],(e=>e)),selectMoreFindPeople:()=>Object(n.a)([p],(e=>e)),selectFindPeople:()=>Object(n.a)([i,o],((e,t)=>{let a=Object(r.List)([]);return e.forEach(((e,r)=>{e&&(a=a.push(t.get(r)))})),a.isEmpty()?Object(r.List)([]):s.a.sortImuObjectsDate(a)})),selectMoreSearchPeople:()=>Object(n.a)([l],(e=>e)),selectSearchPeople:()=>Object(n.a)([u,o],((e,t)=>{let a=Object(r.List)([]);return e.forEach(((e,r)=>{e&&(a=a.push(t.get(r)))})),a.isEmpty()?Object(r.List)([]):s.a.sortImuObjectsDate(a)})),getFindPeoplePage:d,selectUsers:()=>Object(n.a)([o],(e=>e)),selectFindPeoplePage:()=>Object(n.a)([d],(e=>e))}},462:function(e,t,a){"use strict";a.r(t);a(318);var r=a(28),n=(a(392),a(130)),s=(a(418),a(289)),c=a(500),o=a(276),i=a.n(o),u=a(277),p=a.n(u);const d={typography:{},palette:{primary:i.a,secondary:p.a},shadows:["none","0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)","0 1px 4px 0 rgba(0,0,0,0.14)","0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)","0 1px 8px rgba(0,0,0,.3)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)","0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)","0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)","0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)","0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)","0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)","0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)","0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)","0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)","0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)","0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)","0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)","0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)","0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)","0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)"]};var l=a(89),E=a(512),_=a(513),O=a(0),b=a.n(O),h=a(278),m=a(80),S=a(8),f=a(501),g=a(504),I=a(310),A=a(15),T=a(502),v=a(514),x=a(260),j=a.n(x),C=a(43),D=a(150),L=a.n(D),R=a(32);class w{constructor(e,t,a,r){this.id=e,this.text=t,this.feedType=a,this.user=r}}let N;!function(e){e.Awesome="Awesome",e.Happy="Happy",e.Acceptable="Acceptable",e.Sad="Sad",e.Bug="Bug"}(N||(N={}));var y=a(97),P=a(59),U=a(5),M=a(17),k=a(46);class G extends O.Component{constructor(e){super(e),this.handleFeedText=e=>{const t=e?e.target:{},a=t?t.value:"";a&&this.setState({feedText:a})},this.handleSendFeed=e=>{const t=this.props,a=t.sendFeed,r=t.currentUser,n=this.state.feedText;a&&a(new w("",n,e,r))},this.mainForm=()=>{const e=this.props.t;return b.a.createElement("div",{className:"main-box"},b.a.createElement(T.a,{placeholder:e("feedback.textareaPlaceholder"),multiline:!0,onChange:this.handleFeedText,rows:2,rowsMax:4,autoFocus:!0,fullWidth:!0}),b.a.createElement("br",null),b.a.createElement("div",{className:"buttons"},b.a.createElement(v.a,{title:e("feedback.sadTooltip"),placement:"bottom-start"},b.a.createElement(g.a,{className:"flaticon-sad-2 icon__svg",onClick:()=>this.handleSendFeed(N.Sad)})),b.a.createElement(v.a,{title:e("feedback.acceptableTooltip"),placement:"bottom-start"},b.a.createElement(g.a,{className:"flaticon-neutral icon__svg",onClick:()=>this.handleSendFeed(N.Acceptable)})),b.a.createElement(v.a,{title:e("feedback.happyTooltip"),placement:"bottom-start"},b.a.createElement(g.a,{className:"flaticon-happy-2 icon__svg",onClick:()=>this.handleSendFeed(N.Happy)})),b.a.createElement(v.a,{title:e("feedback.awesomeTooltip"),placement:"bottom-start"},b.a.createElement(g.a,{className:"flaticon-happy icon__svg",onClick:()=>this.handleSendFeed(N.Awesome)}))))},this.loadingForm=()=>{const e=this.props,t=e.t,a=e.theme;return b.a.createElement("div",{className:"loading"},b.a.createElement("p",null,t("feedback.sendingMessage")),b.a.createElement("div",{className:"icon"},b.a.createElement(f.a,{style:{color:a.palette.primary.light},color:"secondary",size:50,variant:"determinate",value:50})))},this.successForm=()=>{const e=this.props.t;return b.a.createElement("div",{className:"success"},e("feedback.appreciateMessage"))},this.errorForm=()=>{const e=this.props.t;return b.a.createElement("div",{className:"error"},e("feedback.errorMessage"))},this.getFeedbackForm=()=>{const e=this.props.sendFeedbackRequestType;if(!e)return this.mainForm();switch(e){case M.a.Sent:return this.loadingForm();case M.a.OK:return this.successForm();case M.a.Error:return this.errorForm();default:return this.mainForm()}},this.state={feedText:""},this.handleFeedText=this.handleFeedText.bind(this),this.getFeedbackForm=this.getFeedbackForm.bind(this),this.mainForm=this.mainForm.bind(this),this.loadingForm=this.loadingForm.bind(this),this.successForm=this.successForm.bind(this),this.errorForm=this.errorForm.bind(this)}render(){const e=this.props,t=e.hideFeedback,a=e.classes;return t?b.a.createElement("div",{className:L()("sendFeedback__content","animate__up",a.fullPageXs)},b.a.createElement(I.a,{className:"paper"},b.a.createElement("div",{className:"close"},b.a.createElement(v.a,{title:"Cancel",placement:"bottom-start"},b.a.createElement(g.a,{onClick:()=>t()},b.a.createElement(j.a,null)))),this.getFeedbackForm())):b.a.createElement("div",null)}}const F=Object(y.c)("translations")(G);var H=Object(P.connect)((e=>{const t=e.getIn(["authorize","uid"]),a=C.a.createServerRequestId(R.a.CommonSendFeedback,t),r=Object(S.a)(Object(S.a)({},k.a.getUserProfileById(e,{userId:t}).toJS()),{},{userId:t}),n=e.getIn(["global","sendFeedbackStatus"]),s=e.getIn(["server","request",a]);return{sendFeedbackStatus:n,sendFeedbackRequestType:s?s.status:M.a.NoAction,currentUser:r}}),(e=>({sendFeed:t=>e(U.d(t)),hideFeedback:()=>e(U.i())})))(Object(A.a)((e=>({fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}}})),{withTheme:!0})(F)),B=a(20),V=a(91),Y=a.n(V),q=a(126),K=a(261),W=a(262);const z=Y()({loader:()=>Promise.all([a.e(0),a.e(5),a.e(11),a.e(20)]).then(a.bind(null,1171)),loading:m.a}),Q=Y()({loader:()=>Promise.all([a.e(0),a.e(22)]).then(a.bind(null,1181)),loading:m.a}),J=Y()({loader:()=>Promise.all([a.e(0),a.e(23)]).then(a.bind(null,1184)),loading:m.a}),X=Y()({loader:()=>Promise.all([a.e(0),a.e(24)]).then(a.bind(null,1185)),loading:m.a}),$=Y()({loader:()=>Promise.all([a.e(0),a.e(27)]).then(a.bind(null,1182)),loading:m.a}),Z=Y()({loader:()=>Promise.all([a.e(5),a.e(19),a.e(32)]).then(a.bind(null,1176)),loading:m.a}),ee=Y()({loader:()=>Promise.all([a.e(5),a.e(12),a.e(36)]).then(a.bind(null,1173)),loading:m.a}),te=[{path:"/signup",component:Q},{path:"/emailVerification",component:J},{path:"/smsVerification",component:Y()({loader:()=>Promise.all([a.e(0),a.e(15),a.e(28)]).then(a.bind(null,1186)),loading:m.a}),privateAuth:!0},{path:"/settings",component:Z,privateAuth:!0},{path:"/resetPassword",component:X},{path:"/terms",component:ee},{path:"/login",component:$,publicAuth:!0},{path:"/newPassword",component:Y()({loader:()=>Promise.all([a.e(0),a.e(29)]).then(a.bind(null,1152)),loading:m.a}),privateAuth:!0},{component:z,defaultPath:!0}];class ae extends O.Component{render(){return b.a.createElement(q.Switch,null,te.map(((e,t)=>e.privateAuth?b.a.createElement(K.a,{key:"master-route-private-".concat(t),path:e.path,component:e.component}):e.publicAuth?b.a.createElement(W.a,{key:"master-route-public-".concat(t),path:e.path,component:e.component}):e.defaultPath?b.a.createElement(q.Route,{key:"master-route-default-".concat(t),component:e.component}):b.a.createElement(q.Route,{key:"master-route-".concat(t),path:e.path,component:e.component}))))}}var re=Object(q.withRouter)(ae),ne=a(290),se=a(471),ce=a(508),oe=a(511),ie=a(510),ue=a(509),pe=a(132),de=a.n(pe),le=a(506),Ee=a(507),_e=a(204),Oe=a(286),be=a.n(Oe);const he=Object(le.a)((()=>Object(Ee.a)({root:{maxWidth:400},avatar:{width:50,height:50},content:{maxHeight:80,padding:0},listRoot:{paddingTop:0}})));var me=function(e){let t;const a=e.avatarURL,r=e.title,n=e.subtitle,s=e.userId,c=e.onClose,o=e.onConnect,i=e.soundURL,u=Object(O.useState)(!1),p=Object(ne.a)(u,2),d=p[0],l=p[1];Object(O.useEffect)((()=>{if(!d){try{const e="audio"+(new Date).valueOf().toString();t=document.createElement("audio"),t.setAttribute("id",e),t.setAttribute("src",i),document.body.appendChild(t),t.loop=!0,t.play()}catch(e){}l(!0)}return()=>{t.pause()}}),[]);const E=he();return b.a.createElement(_.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,className:E.root,ContentProps:{classes:{message:E.content}},message:b.a.createElement(se.a,{className:E.listRoot},b.a.createElement(ce.a,{button:!0,onClick:()=>{o(s)}},b.a.createElement(ue.a,null,b.a.createElement(_e.a,{className:L()("calling",E.avatar),fullName:r,size:50,fileName:a})),b.a.createElement(ie.a,{primary:r,secondary:b.a.createElement("span",{style:{color:"white"}},n)}),b.a.createElement(oe.a,null))),action:b.a.createElement(g.a,{"aria-label":"comments",onClick:()=>{c(s)}},b.a.createElement(be.a,{style:{color:de.a[500]}}))})},Se=a(18),fe=a(62),ge=a(121),Ie=a(196);const Ae=e=>({defaultDataDisable:()=>{e(U.e())},defaultDataEnable:()=>{e(U.f())},closeMessage:()=>{e(U.h())},loadDataGuest:()=>{e(U.l())},cancelCalling:t=>e(fe.e(t)),cancelChatRequest:t=>e(fe.c(t)),acceptChat:t=>e(fe.b(t)),showMasterLoading:()=>e(U.r()),hideMasterLoading:()=>e(U.g()),hideMessage:()=>e(U.h())}),Te=()=>{const e=Se.a.selectAuthedtUser(),t=ge.a.selectProgress(),a=ge.a.selectFeedbackStatus(),r=Ie.a.selectCallingUsers(),n=Ie.a.selectChatRequests(),s=ge.a.selectGlobal(),c=k.a.selectUsers();return o=>{const i=e(o),u=i.get("uid"),p=i.get("guest"),d=i.get("authed"),l=t(o),E=a(o),_=r(o),O=n(o);return{sendFeedbackStatus:E,progress:l,guest:p,uid:u,authed:d,global:s(o),callingUsers:_,chatRequests:O,users:c(o)}}};var ve=a(29);class xe extends O.Component{constructor(e){super(e),this.handleMessage=()=>{this.props.closeMessage()},this.getChatRequestsElms=()=>{const e=[],t=this.props,a=t.chatRequests,r=t.users,n=t.cancelChatRequest;return a&&r&&n&&a.forEach(((t,a)=>{e.push(b.a.createElement(me,{key:"chat-request-".concat(a),avatarURL:r.getIn([a,"avatar"],""),title:r.getIn([a,"fullName"]),subtitle:"Dialing ...",onClose:e=>{n(e)},userId:a,soundURL:"https://raw.githubusercontent.com/red-gold/red-gold-web/master/website/static/media/notification_sound.mp3",onConnect:()=>{}}))})),e},this.getCallingUsersElms=()=>{const e=[],t=this.props,a=t.callingUsers,r=t.users,n=t.cancelCalling,s=t.acceptChat;return a&&r&&n&&s&&a.forEach(((t,a)=>{e.push(b.a.createElement(me,{key:"chat-request-".concat(a),avatarURL:r.getIn([a,"avatar"],""),title:r.getIn([a,"fullName"]),subtitle:"Calling ...",onClose:e=>{n(e)},userId:a,soundURL:"https://raw.githubusercontent.com/red-gold/red-gold-web/master/website/static/media/notification_sound.mp3",onConnect:e=>{s(e)}}))})),e},this.state={loading:!0,authed:!1,dataLoaded:!1,isVerifide:!1},this.handleMessage=this.handleMessage.bind(this)}componentDidCatch(e,t){ve.a.info("===========Catched by React componentDidCatch=============="),ve.a.info(e,t),ve.a.info("====================================")}componentDidMount(){this.props.authed||(window.location.href=B.a.gateway.gateway_url+"/auth/login")}render(){const e=this.props,t=e.progress,a=e.global,r=e.uid,n=e.sendFeedbackStatus,s=e.hideMessage,c=b.a.createElement(h.Helmet,null,b.a.createElement("meta",{charSet:"utf-8"}),b.a.createElement("title",null,B.a.header.title),B.a.header.meta&&B.a.header.meta.length>0?B.a.header.meta.map((e=>b.a.createElement("meta",{key:e.name,name:e.name,content:e.content}))):"");return b.a.createElement("div",{id:"master"},c,n?b.a.createElement(H,null):"",b.a.createElement("div",{className:"master__progress",style:{display:t.get("visible")?"block":"none"}},b.a.createElement(E.a,{variant:"determinate",value:t.get("percent",0)})),b.a.createElement("div",{className:"master__loading animate-fading2",style:{display:a.get("showTopLoading")?"flex":"none"}},b.a.createElement("div",{className:"title"},"Loading ... ")),t.visible?b.a.createElement(m.a,null):"",b.a.createElement(re,{data:{uid:r}}),this.getCallingUsersElms(),this.getChatRequestsElms(),b.a.createElement(_.a,{open:this.props.global.get("messageOpen"),message:this.props.global.get("message"),onClose:s,autoHideDuration:4e3,style:{left:"1%",transform:"none"}}))}}xe.isPrivate=!0;var je,Ce=(je=xe,Object(q.withRouter)(Object(P.connect)(Te,Ae)(je))),De=a(33),Le=a.n(De),Re=a(287),we=a.n(Re),Ne=a(76),ye=a(66),Pe=a(4),Ue=a(107),Me=a.n(Ue),ke=a(78),Ge=a(134),Fe=a(173),He=a(54),Be=a(135),Ve=a(288),Ye=a(42);class qe{constructor(){this.uid=0,this.authed=!1,this.isVerifide=!1,this.updatePassword=!1,this.guest=!1}}const Ke=(e=Object(Pe.Map)(new qe),t)=>{const a=t.payload;switch(t.type){case Ye.a.LOGIN:return e.update((()=>a));case Ye.a.LOGOUT:return e.set("uid",0).set("authed",!1).set("guest",!0).set("isVerifide",!1);case Ye.a.SIGNUP:return e.set("uid",a.userId);case Ye.a.SET_USER_REGISTER_TOKEN:return e.setIn(["ui","registerToken"],a.token);case Ye.a.SET_ACCESS_TOKEN:return e.setIn(["ui","accessToken"],a.token);case Ye.a.SET_LOGIN:return e.setIn(["ui","isLoggedin"],a.status);case Ye.a.SET_SIGNUP_STEP:return e.setIn(["ui","signupStep"],a.step);default:return e}};var We=a(24);class ze{constructor(){this.userTies=Object(Pe.Map)({}),this.userTieds=Object(Pe.Map)({}),this.circleList=Object(Pe.Map)({}),this.selectCircleStatus=void 0,this.followingLoadingStatus=void 0,this.selectedCircles=Object(Pe.Map)({}),this.openSelecteCircles=void 0,this.loaded=!1,this.openSetting=void 0}}const Qe=(e=Object(Pe.Map)(new ze),t)=>{const a=t.payload;switch(t.type){case We.a.CLEAR_ALL_CIRCLES:return Object(Pe.Map)(new ze);case We.a.ADD_CIRCLE:return((e,t)=>{const a=t.circle;return e.setIn(["circleList",a.get("id")],t.circle)})(e,a);case We.a.UPDATE_CIRCLE:return((e,t)=>{const a=t.circle;return e.setIn(["openSetting",a.get("id")],!1).setIn(["circleList",a.get("id")],t.circle)})(e,a);case We.a.DELETE_CIRCLE:return e.deleteIn(["circleList",a.circleId]);case We.a.ADD_LIST_CIRCLE:return e.set("loaded",!0).mergeIn(["circleList"],a.circleList);case We.a.ADD_FOLLOWING_USER:const t=a.userTie;return e.setIn(["userTies",t.get("userId")],a.userTie).setIn(["selectedCircles",t.get("userId")],t.get("circleIdList"));case We.a.UPDATE_USER_TIE:return e.setIn(["userTies",a.userTie.user.userId],a.userTie);case We.a.ADD_USER_TIE_LIST:return e.mergeIn(["userTies"],a.userTies).set("selectedCircles",Je(a.userTies));case We.a.ADD_USER_TIED_LIST:return e.mergeIn(["userTieds"],a.userTieds);case We.a.DELETE_USER_FROM_CIRCLE:return e.deleteIn(["userTies",a.userTie.user.userId,"circleIdList",a.circleId]);case We.a.DELETE_FOLLOWING_USER:return e.deleteIn(["userTies",a.userId]).deleteIn(["selectedCircles",a.userId]);case We.a.CLOSE_CIRCLE_SETTINGS:return e.setIn(["openSetting",a.circleId],!1);case We.a.OPEN_CIRCLE_SETTINGS:return e.setIn(["openSetting",a.circleId],!0);case We.a.SHOW_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",a.userId],!0);case We.a.HIDE_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",a.userId],!1);case We.a.SHOW_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",a.userId],!0);case We.a.HIDE_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",a.userId],!1);case We.a.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",a.userId],a.circleList);case We.a.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",a.userId],[]);case We.a.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",a.userId],!0);case We.a.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",a.userId],!1);default:return e}},Je=e=>{if(e.isEmpty())return Object(Pe.Map)({});let t=Object(Pe.Map)({});return e.forEach((e=>{t=t.set(e.get("userId"),e.get("circleIdList"))})),t};var Xe=a(39);class $e{constructor(){this.postComments=Object(Pe.Map)({}),this.editorStatus=Object(Pe.Map)({}),this.loaded=!1}}const Ze=(e=Object(Pe.Map)(new $e),t)=>{const a=t.payload;switch(t.type){case Xe.a.ADD_COMMENT:return e.setIn(["postComments",a.get("postId"),a.get("id")],a);case Xe.a.ADD_COMMENT_LIST:return e.mergeIn(["postComments",a.postId],a.entities).set("loaded",!0);case Xe.a.UPDATE_COMMENT:const t=a.comment;return e.updateIn(["postComments",t.get("postId"),t.get("id"),"text"],(()=>t.get("text")));case Xe.a.DELETE_COMMENT:return e.deleteIn(["postComments",a.postId,a.id]);case Xe.a.CLOSE_COMMENT_EDITOR:return e.setIn(["editorStatus",a.postId,a.id],!1);case Xe.a.OPEN_COMMENT_EDITOR:return e.setIn(["editorStatus",a.postId,a.id],!0);case Xe.a.HAS_MORE_COMMENTS:return e.setIn(["ui","posts",a.postId,"hasMoreData"],!0);case Xe.a.NO_MORE_COMMENTS:return e.setIn(["ui","posts",a.postId,"hasMoreData"],!1);case Xe.a.CLEAR_ALL_DATA_COMMENT:return Object(Pe.Map)(new $e);default:return e}};var et=a(22);class tt{constructor(){this.progress=Object(Pe.Map)({percent:0,visible:!1}),this.loadingStatus=!0,this.sendFeedbackStatus=!1,this.defaultLoadDataStatus=!1,this.messageOpen=!1,this.message="",this.windowWidth=0,this.windowHeight=0,this.headerTitle="",this.showTopLoading=!1,this.topLoadingQueue=0,this.showMasterLoading=!0,this.masterLoadingQueue=0,this.temp=Object(Pe.Map)({caller:Object(Pe.List)()})}}const at=(e=Object(Pe.Map)(new tt),t)=>{const a=t.payload;switch(t.type){case et.a.PROGRESS_CHANGE:return((e,t)=>e.setIn(["progress","percent"],t.percent).setIn(["progress","visible"],t.visible))(e,a);case et.a.PROGRESS_CHANGE_WITH_KEY:return((e,t)=>e.setIn(["progress",t.progressKey,"percent"],t.percent).setIn(["progress",t.progressKey,"visible"],t.visible).setIn(["progress",t.progressKey,"meta"],t.meta))(e,a);case et.a.DEFAULT_DATA_DISABLE:return e.set("defaultLoadDataStatus",!1);case et.a.DEFAULT_DATA_ENABLE:return e.set("defaultLoadDataStatus",!0);case et.a.SHOW_MESSAGE_GLOBAL:return((e,t)=>{const a=t.payload.message;return e.set("message",a).set("messageOpen",!0)})(e,t);case et.a.HIDE_MESSAGE_GLOBAL:return(e=>e.set("message","").set("messageOpen",!1))(e);case et.a.SHOW_MESSAGE_BY_REFERENCE:return((e,t)=>{const a=t.payload,r=a.refrenceKey,n=a.message;return r&&void 0!==r&&null!==r?e.setIn(["messageByRef",r],n).setIn(["messageByRefeOpen",r],!0):e})(e,t);case et.a.HIDE_MESSAG_BY_REFERENCE:return((e,t)=>{const a=t.payload.refrenceKey;return a&&void 0!==a&&null!==a?e.setIn(["messageByRef",a],"").setIn(["messageByRefeOpen",a],!1):e})(e,t);case et.a.SET_HEADER_TITLE:return e.set("headerTitle",t.payload);case et.a.OPEN_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!0);case et.a.CLOSE_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!1);case et.a.SHOW_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!0);case et.a.HIDE_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!1);case et.a.HIDE_TOP_LOADING:const r=Number(e.get("topLoadingQueue"))>0?Number(e.get("topLoadingQueue"))-1:0;return e.set("topLoadingQueue",r).set("showTopLoading",r>0);case et.a.SHOW_TOP_LOADING:return e.set("topLoadingQueue",Number(e.get("topLoadingQueue"))+1).set("showTopLoading",!0);case et.a.HIDE_MASTER_LOADING:const n=Number(e.get("masterLoadingQueue"))>0?Number(e.get("masterLoadingQueue"))-1:0;return e.set("masterLoadingQueue",n).set("showMasterLoading",n>0);case et.a.SHOW_MASTER_LOADING:return e.set("masterLoadingQueue",Number(e.get("masterLoadingQueue"))+1).set("showMasterLoading",!0);case et.a.TEMP:return e.mergeIn(["temp","caller"],Object(Pe.fromJS)([a.caller]));case et.a.CLEAR_ALL_GLOBAL:return e.set("sendFeedbackStatus",!1);default:return e}};var rt=a(16);class nt{constructor(){this.status=!1,this.images=Object(Pe.List)(),this.selectImage="",this.selectURL="",this.loaded=!1,this.imageURLList={},this.imageRequests={}}}const st=(e=Object(Pe.Map)(new nt),t)=>{const a=t.payload;switch(t.type){case rt.a.ADD_IMAGE:return e.setIn(["entities",a.image.get("id")],a.image);case rt.a.ADD_IMAGE_LIST:return e.mergeDeepIn(["entities"],a.entities).set("loaded",!0);case rt.a.ADD_ALBUM_IMAGE_LIST:return e.mergeDeepIn(["album",a.albumId,"list"],a.imageIds).set("loaded",!0);case rt.a.ADD_AVATAR_IMAGE_LIST:return e.mergeDeepIn(["avatar",a.userId,"list"],a.imageIds).set("loaded",!0);case rt.a.ADD_COVER_IMAGE_LIST:return e.mergeDeepIn(["cover",a.userId,"list"],a.imageIds).set("loaded",!0);case rt.a.HAS_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",a.albumId,"hasMoreData"],!0);case rt.a.NO_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",a.albumId,"hasMoreData"],!1);case rt.a.LAST_ALBUM_IMAGE_ID:return e.setIn(["album",a.albumId,"lastImageId"],a.imageId);case rt.a.ADD_ALBUM_ID_LIST:return e.mergeDeepIn(["album-todo","entities"],a.entities).set("loaded",!0);case rt.a.DELETE_IMAGE:return e.deleteIn(["entities",a.imageId]);case rt.a.SET_IMAGE_URL:return e.setIn(["imageURLList",a.name],a.url);case rt.a.ADD_VIDEO_GALLERY:return e.update("videos",(e=>e.push(a)));case rt.a.ADD_VIDEO_LIST_GALLERY:return e.set("videos",Object(Pe.List)(a)).set("loaded",!0);case rt.a.DELETE_VIDEO:return e.update("videos",(e=>e.filter((e=>e.id!==a))));case rt.a.SEND_IMAGE_REQUEST:return e.mergeIn(["imageRequests"],a);case rt.a.CLEAT_ALL_DATA_IMAGE_GALLERY:return Object(Pe.Map)(new nt);default:return e}};var ct=a(57);class ot{constructor(){this.userNotifies=Object(Pe.Map)({}),this.loaded=!1}}const it=(e=Object(Pe.Map)(new ot),t)=>{const a=t.payload;switch(t.type){case ct.a.ADD_NOTIFY:return e;case ct.a.ADD_NOTIFY_LIST:return e.set("userNotifies",a).set("loaded",!0);case ct.a.ADD_PLAIN_NOTIFY_LIST:return((e,t)=>{let a=Object(Pe.Map)({});return Object.keys(t).forEach((e=>{a=a.set(e,Object(Pe.Map)(Object(S.a)({},t[e])))})),e.mergeIn(["userNotifies"],a).set("loaded",!0)})(e,a);case ct.a.SEEN_NOTIFY:return e.setIn(["userNotifies",a,"isSeen"],!0).set("loaded",!0);case ct.a.DELETE_NOTIFY:return e.deleteIn(["userNotifies",a]);case ct.a.CLEAR_ALL_DATA_NOTIFY:return Object(Pe.Map)(new ot);default:return e}};var ut=a(21);class pt{constructor(){this.userPosts=Object(Pe.Map)({}),this.loaded=!1,this.stream=Object(Pe.Map)({list:Object(Pe.Map)({})}),this.profile=Object(Pe.Map)({})}}const dt=(e=Object(Pe.Map)(new pt),t)=>{const a=t.payload;switch(t.type){case ut.a.CLEAR_ALL_DATA_POST:return Object(Pe.Map)(new pt);case ut.a.SET_POST_SEARCH_KEY:return e.set("searchKey",a.searchKey);case ut.a.ADD_IMAGE_POST:case ut.a.ADD_POST:return e.setIn(["entities",a.post.get("id")],a.post);case ut.a.UPDATE_POST:return((e,t)=>{const a=t.post,r=a.get("id");return e.setIn(["entities",r],a)})(e,a);case ut.a.UPDATE_POST_COMMENTS:return((e,t)=>{const a=t.post,r=a.get("objectId");return e.setIn(["entities",r,"comments"],a.get("comments")).setIn(["entities",r,"commentCounter"],a.get("commentCounter"))})(e,a);case ut.a.UPDATE_POST_VOTES:return((e,t)=>{const a=t.post,r=a.get("id");return e.setIn(["entities",r,"votes"],a.get("votes")).setIn(["entities",r,"score"],a.get("score"))})(e,a);case ut.a.DELETE_POST:return e.deleteIn(["entities",a.id]);case ut.a.ADD_LIST_POST:return e.mergeIn(["entities"],a.entities).set("loaded",!0);case ut.a.ADD_LIST_STREAM_POST:return e.mergeIn(["stream","list"],a.postIds).set("loaded",!0);case ut.a.ADD_LIST_SEARCH_POST:return((e,t)=>{const a=t.meta,r=t.payload;return a&&a.overwrite?e.setIn(["search","list"],r.postIds).set("loaded",!0):e.mergeDeepIn(["search","list"],r.postIds).set("loaded",!0)})(e,t);case ut.a.HAS_MORE_POST_SEARCH:return e.setIn(["search","hasMoreData"],!0);case ut.a.NO_MORE_POST_SEARCH:return e.setIn(["search","hasMoreData"],!1);case ut.a.ADD_LIST_POST_INSTAGRAM:return e.mergeDeepIn(["instagram"],a.posts);case ut.a.HAS_MORE_DATA_STREAM:return e.setIn(["stream","hasMoreData"],!0);case ut.a.NOT_MORE_DATA_STREAM:return e.setIn(["stream","hasMoreData"],!1);case ut.a.SET_PAGE_STREAM:return e.setIn(["stream","lastPageRequest"],a.page);case ut.a.INCREASE_PAGE_STREAM:return e.setIn(["stream","lastPageRequest"],e.getIn(["stream","lastPageRequest"],0)+1);case ut.a.LAST_POST_STREAM:return e.setIn(["stream","lastPostId"],a.lastPostId);case ut.a.LAST_POST_SEARCH:return e.setIn(["search","lastPostId"],a.lastPostId);default:return e}};var lt=a(10);const Et="@@redux-cache/INVALIDATE_CACHE",_t="cacheUntil";const Ot=(bt=(e,t)=>{ve.a.info("redux-cache: %s: %s",e,t.join(", ")||"none found")},ht=(e,...t)=>{ve.a.info("redux-cache: ".concat(e),...t)},(e,t,a)=>{const r=a.log,n=void 0!==r&&r,s=a.cacheKey,c=void 0===s?_t:s,o=Object(S.a)({},t),i=Object.keys(o),u=e.filter((e=>{const t=-1!==i.indexOf(e);return!t&&n&&ht("Did not match %s reducer to the state tree",e),t}));n&&bt("matchedReducers",u);const p=u.filter((e=>o&&o[e]&&o[e][c]));n&&bt("cacheEnabledReducers",p);const d=p.reduce(((e,t)=>Object(S.a)(Object(S.a)({},e),{},{[t]:Object(S.a)(Object(S.a)({},e[t]),{},{[c]:null})})),o);return n&&(p.length>0?ht("Set %s to null for following reducers: %s",c,p.join(", ")):ht("No cached reducers to update")),d});var bt,ht;const mt=(St=(e,t)=>(a,r)=>{const n=e(a,r);if(r.type!==Et)return n;const s=r.payload&&r.payload.reducers||[];return Ot(s,n,t)},(e={})=>t=>(a,r,n)=>{const s=t(St(a,e),r,n);return Object(S.a)(Object(S.a)({},s),{},{replaceReducer:t=>s.replaceReducer(St(t,e))})});var St;const ft=(e=6e5)=>Date.now()+e;class gt{constructor(){this.info=Object(Pe.Map)({}),this.loaded=!1,this.openEditProfile=!1,this.people=Object(Pe.Map)({hasMoreData:!0,lastPageRequest:0,lastUserId:""})}}const It=(e=Object(Pe.Map)(Object(S.a)(Object(S.a)({},new gt),{},{[_t]:null})),t)=>{const a=t.payload;switch(t.type){case lt.a.SET_USER_SEARCH_KEY:return e.set("searchKey",a.searchKey);case lt.a.USER_INFO:return e.setIn(["entities",a.uid],a.info);case lt.a.ADD_USER_INFO:return e.setIn(["entities",a.uid],a.info).setIn(["entities",a.uid,_t],ft()).set("loaded",!0);case lt.a.ADD_PLAIN_USER_INFO:return e.mergeIn(["entities",a.uid],Object(Pe.Map)(Object(S.a)(Object(S.a)({},a.info),{},{userId:a.uid}))).setIn(["entities",a.uid,_t],ft());case lt.a.ADD_PROFILE_LIST_POST:return e.mergeDeepIn(["post",a.userId,"list"],a.postIds).set("loaded",!0);case lt.a.ADD_PEOPLE_INFO:return e.mergeIn(["entities"],a);case lt.a.ADD_USER_SEARCH:return((e,t)=>{const a=t.payload,r=t.meta;return r&&r.overwrite?e.setIn(["search","list"],a.userIds):e.mergeIn(["search","list"],a.userIds)})(e,t);case lt.a.ADD_FIND_PEOPLE:return e.mergeIn(["findPeople","list"],a.userIds);case lt.a.UPDATE_USER_INFO:return e.mergeIn(["entities",a.uid],a.info);case lt.a.CLEAR_ALL_DATA_USER:return Object(Pe.Map)(new gt);case lt.a.HAS_MORE_DATA_PROFILE:return e.setIn(["post",a.userId,"hasMoreData"],!0);case lt.a.NOT_MORE_DATA_PROFILE:return e.setIn(["post",a.userId,"hasMoreData"],!1);case lt.a.REQUEST_PAGE_PROFILE:return e.setIn(["post",a.userId,"lastPageRequest"],a.page);case lt.a.LAST_POST_PROFILE:return e.setIn(["post",a.userId,"lastPostId"],a.lastPostId);case lt.a.ADD_PROFILE_LIST_ALBUM:return e.mergeDeepIn(["album",a.userId,"list"],a.postIds).set("loaded",!0);case lt.a.INCREASE_PAGE_ALBUM:return e.setIn(["album",a.userId,"lastPageRequest"],e.getIn(["album",a.userId,"lastPageRequest"],0)+1);case lt.a.HAS_MORE_DATA_ALBUM:return e.setIn(["album",a.userId,"hasMoreData"],!0);case lt.a.NOT_MORE_DATA_ALBUM:return e.setIn(["album",a.userId,"hasMoreData"],!1);case lt.a.REQUEST_PAGE_ALBUM:return e.setIn(["album",a.userId,"lastPageRequest"],a.page);case lt.a.LAST_POST_ALBUM:return e.setIn(["album",a.userId,"lastPostId"],a.lastPostId);case lt.a.CLOSE_EDIT_PROFILE:return e.set("openEditProfile",!1);case lt.a.OPEN_EDIT_PROFILE:return e.set("openEditProfile",!0);case lt.a.HAS_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!0);case lt.a.NOT_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!1);case lt.a.HAS_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!0);case lt.a.NOT_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!1);case lt.a.SET_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],a.page);case lt.a.INCREASE_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],e.getIn(["findPeople","page"],0)+1);case lt.a.LAST_USER_PEOPLE:return e.setIn(["findPeople","lastUserId"],a.lastUserId);case lt.a.INCREASE_FOLLOWING_COUNT_USER:return At(e,a,"followCount");case lt.a.DECREASE_FOLLOWING_COUNT_USER:return Tt(e,a,"followCount");case lt.a.INCREASE_VOTE_COUNT_USER:return At(e,a,"voteCount");case lt.a.DECREASE_VOTE_COUNT_USER:return Tt(e,a,"voteCount");case lt.a.INCREASE_POST_COUNT_USER:return At(e,a,"postCount");case lt.a.DECREASE_POST_COUNT_USER:return Tt(e,a,"postCount");case lt.a.INCREASE_SHARE_COUNT_USER:return At(e,a,"shareCount");case lt.a.DECREASE_SHARE_COUNT_USER:return Tt(e,a,"shareCount");default:return e}},At=(e,t,a)=>{const r=e.getIn(["entities",t.userId,a],0)+1;return e.setIn(["entities",t.userId,a],r)},Tt=(e,t,a)=>{const r=e.getIn(["entities",t.userId,a],0)-1;return e.setIn(["entities",t.userId,a],r)};var vt=a(61);class xt{constructor(){this.postVotes=Object(Pe.Map)({}),this.loaded=!1}}const jt=(e=Object(Pe.Map)(new xt),t)=>{const a=t.payload;switch(t.type){case vt.a.ADD_VOTE:return e.setIn(["postVotes",a.get("postId"),a.get("ownerUserId")],a);case vt.a.ADD_VOTE_LIST:return e.set("postVotes",a).set("loaded",!0);case vt.a.DELETE_VOTE:return e.deleteIn(["postVotes",a.postId,a.userId]);case vt.a.CLEAR_ALL_DATA_VOTE:return Object(Pe.Map)(new xt);default:return e}};var Ct=a(81);class Dt{constructor(){this.request=Object(Pe.Map)({})}}const Lt=(e=Object(Pe.Map)(new Dt),t)=>{const a=t.payload;switch(t.type){case Ct.a.ADD_REQUEST:return e.setIn(["request",a.request.get("id","no-id")],a.request);case Ct.a.DELETE_REQUEST:return e.deleteIn(["request",a.request.get("id","no-id")]);case Ct.a.ERROR_REQUEST:return e.setIn(["request",a.request.get("id","no-id"),"status"],M.a.Error);case Ct.a.OK_REQUEST:return e.setIn(["request",a.request.get("id","no-id"),"status"],M.a.OK);case Ct.a.CLEAR_ALL_DATA_REQUEST:return Object(Pe.Map)(new Dt);default:return e}};var Rt=a(67);const wt=(e=Object(Pe.Map)({}),t)=>{const a=t.payload;switch(t.type){case Rt.a.SET_USER_SETTING:return e.set("entities",a);case Rt.a.UPDATE_USER_SETTING:return e.setIn(["entities",a.key],a.data);case Rt.a.CLEAR_ALL_USER_SETTING:return Object(Pe.Map)({});default:return e}};var Nt=a(19);const yt=(e=Object(Pe.Map)({chatOpen:!1,recentChatOpen:!1}),t)=>{const a=t.payload;switch(t.type){case Nt.a.ADD_CHAT_ROOM_MESSAGES:const t=a.messages,r=a.chatRoomId;return e.mergeIn(["messages",r],t);case Nt.a.ADD_PLAIN_CHAT_ROOM_MESSAGES:return((e,t)=>{let a=Object(Pe.Map)({});const r=t.messages,n=t.roomId;return r&&r.length&&r.forEach((e=>{a=a.set(e.id,Object(Pe.Map)(Object(S.a)({},e)))})),e.mergeIn(["messages",n],a)})(e,a);case Nt.a.REMOVE_CHAT_HISTORY:const n=a.roomId;return e.removeIn(["messages",n]);case Nt.a.OPEN_CHAT:return e.set("chatOpen",!0);case Nt.a.CLOSE_CHAT:return e.set("chatOpen",!1);case Nt.a.OPEN_RECENT_CHAT:return e.set("recentChatOpen",!0);case Nt.a.CLOSE_RECENT_CHAT:return e.set("recentChatOpen",!1);case Nt.a.ADD_CHAT_REQUEST:return e.setIn(["requests",a.userId],!0);case Nt.a.REMOVE_CHAT_REQUEST:return e.deleteIn(["requests",a.userId]);case Nt.a.ADD_CHAT_CALLING:return e.setIn(["calling",a.userId],!0);case Nt.a.REMOVE_CHAT_CALLING:return e.deleteIn(["calling",a.userId]);case Nt.a.ADD_CHAT_CONNECT:return e.setIn(["connect",a.userId],Object(Pe.Map)(a.room));case Nt.a.REMOVE_CHAT_CONNECT:return e.deleteIn(["connect",a.userId]);case Nt.a.SET_CURRENT_CHAT:return((e,t)=>{const a=t.userId;return e.setIn(["currentChat"],a).set("chatOpen",!0)})(e,a);case Nt.a.CLEAR_ALL_CHAT_MESSAGE:return Object(Pe.Map)({});default:return e}},Pt=e=>Object(Ve.combineReducers)({imageGallery:st,post:dt,circle:Qe,comment:Ze,vote:jt,server:Lt,authorize:Ke,router:Object(l.connectRouter)(e),user:It,notify:it,global:at,userSetting:wt,chat:yt}),Ut=Object(ye.a)(),Mt=Object(Fe.createLogger)({stateTransformer:e=>e.toJS()}),kt=Object(He.b)(),Gt=localStorage.getItem("red-gold.scure.token");let Ft="",Ht=!1;Gt&&(Ft=Me()(Gt).user_id,Ht=!0);const Bt={authorize:{authed:Ht,guest:!Ht,uid:Ft}},Vt=Object(Ge.composeWithDevTools)({});Object(ke.createStore)(Pt(Ut),Object(Pe.fromJS)(Bt),Vt(Object(ke.applyMiddleware)(Mt,Be.a,Object(l.routerMiddleware)(Ut),kt),mt()));kt.run;const Yt=Object(ye.a)({basename:"/function/web"}),qt=Object(He.b)(),Kt=localStorage.getItem("red-gold.scure.token");let Wt="",zt=!1;Kt&&(Wt=Me()(Kt).user_id,zt=!0);const Qt={authorize:{authed:zt,guest:!zt,uid:Wt}},Jt=Object(Ge.composeWithDevTools)({}),Xt=Object(ke.createStore)(Pt(Yt),Object(Pe.fromJS)(Qt),Jt(Object(ke.applyMiddleware)(Be.a,Object(l.routerMiddleware)(Yt),qt)));var $t={store:Xt,runSaga:qt.run,close:()=>Xt.dispatch(He.a),history:Yt};const Zt=Object(ye.a)(),ea=Object(Fe.createLogger)({stateTransformer:e=>e.toJS()}),ta=Object(He.b)(),aa=localStorage.getItem("red-gold.scure.token");let ra="",na=!1;aa&&(ra=Me()(aa).user_id,na=!0);const sa={authorize:{authed:na,guest:!na,uid:ra}},ca=Object(Ge.composeWithDevTools)({});Object(ke.createStore)(Pt(Zt),Object(Pe.fromJS)(sa),ca(Object(ke.applyMiddleware)(ea,Be.a,Object(l.routerMiddleware)(Zt),ta)));ta.run;var oa=$t,ia=a(2),ua=a.n(ia),pa=a(1),da=a(122);class la extends da.a{constructor(e,t,a="",r="",n="",s="",c=!1,o=!0,i=!1){super(),this.uid=e,this.emailVerified=t,this.providerId=a,this.displayName=r,this.email=n,this.avatarURL=s,this.phoneVerified=c,this.authed=o,this.guest=i}}var Ea=a(9),_a=a(109);let Oa;!function(e){e[e.UserInformation=0]="UserInformation",e[e.VerifyCode=1]="VerifyCode",e[e.Message=2]="Message"}(Oa||(Oa={}));var ba=a(27),ha=a(35),ma=ua.a.mark(ja),Sa=ua.a.mark(Ca),fa=ua.a.mark(Da),ga=ua.a.mark(La),Ia=ua.a.mark(Ra),Aa=ua.a.mark(wa),Ta=ua.a.mark(Na),va=ua.a.mark(ya);const xa=r.a.get(Ea.a.AuthorizeService);function ja(e){return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.e)(Ne.i(new la(e.uid,e.emailVerified,e.providerId,e.displayName,e.email,e.avatar,e.phoneVerified)));case 2:case"end":return t.stop()}}),ma)}function Ca(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.b)(xa.logout);case 2:return e.next=4,Object(pa.e)(Ne.j());case 4:return e.next=6,Object(pa.e)(U.a());case 6:case"end":return e.stop()}}),Sa)}function Da(e){var t,a,r,n,s;return ua.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.user,r=t.captchaVerifier,n=_a.a.createSignupRequest(a.email),c.next=4,Object(pa.e)(ba.a(n));case 4:return c.prev=4,c.next=7,Object(pa.b)(xa.getUserRegisterToken,a,r);case 7:return s=c.sent,n.status=M.a.OK,c.next=11,Object(pa.e)(ba.a(n));case 11:return c.next=13,Object(pa.e)(Ne.n(s));case 13:return c.next=15,Object(pa.e)(Ne.l(Oa.VerifyCode));case 15:c.next=24;break;case 17:return c.prev=17,c.t0=c.catch(4),n.status=M.a.Error,c.next=22,Object(pa.e)(ba.a(n));case 22:return c.next=24,Object(pa.e)(U.s(c.t0.message));case 24:case"end":return c.stop()}}),fa,null,[[4,17]])}function La(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pa.b)(xa.getAccessToken);case 3:return e=t.sent,t.next=6,Object(pa.e)(Ne.k(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(pa.e)(U.s(t.t0.message));case 12:case"end":return t.stop()}}),ga,null,[[0,8]])}function Ra(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.e)(Ne.m(xa.isLoggedin()));case 2:case"end":return e.stop()}}),Ia)}function wa(e){var t,a,r,n;return ua.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.code,a=_a.a.createSignupRequest(t),s.next=4,Object(pa.e)(ba.a(a));case 4:return s.prev=4,s.next=7,Object(pa.f)(Se.a.getUserRegisterToken);case 7:return r=s.sent,s.next=10,Object(pa.b)(xa.verifyUserRegisterCode,t,r);case 10:return n=s.sent,a.status=M.a.OK,s.next=14,Object(pa.e)(ba.a(a));case 14:return s.next=16,Object(pa.b)(xa.loginByToken,n.token);case 16:s.next=25;break;case 18:return s.prev=18,s.t0=s.catch(4),a.status=M.a.Error,s.next=23,Object(pa.e)(ba.a(a));case 23:return s.next=25,Object(pa.e)(U.s(s.t0.message));case 25:case"end":return s.stop()}}),Aa,null,[[4,18]])}function Na(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=xa.getUserAuth())){r.next=12;break}return t=e.claim,r.next=5,Object(pa.b)(ja,t);case 5:return a=Object(Pe.Map)({avatar:t.avatar,fullName:t.displayName,uid:t.uid,email:t.email}),r.next=8,Object(pa.e)(ha.e(t.uid,a));case 8:return r.next=10,Object(pa.e)(U.m());case 10:r.next=14;break;case 12:return r.next=14,Object(pa.b)(Ca);case 14:return r.next=16,Object(pa.e)(U.f());case 16:case"end":return r.stop()}}),Ta)}function ya(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(Ye.a.ASYNC_SET_LOGIN,Ra),Object(pa.i)(Ye.a.SUBSCRIBE_AUTH_STATE_CHANGE,Na),Object(pa.i)(Ye.a.ASYNC_FETCH_USER_REGISTER_TOKEN,Da),Object(pa.i)(Ye.a.ASYNC_FETCH_ACCESS_TOKEN,La),Object(pa.i)(Ye.a.ASYNC_VERITY_USER_REGISTER_CODE,wa)]);case 2:case"end":return e.stop()}}),va)}class Pa{constructor(e,t,a,r,n=!0,s,c,o,i){this.id=e,this.type=t,this.connections=a,this.name=r,this.isPublic=n,this.lastMessage=s,this.speech=c,this.userStatus=o,this.translation=i}}let Ua;!function(e){e.Peer="Peer",e.Multiple="Multiple"}(Ua||(Ua={}));var Ma=ua.a.mark(rr),ka=ua.a.mark(sr),Ga=ua.a.mark(cr),Fa=ua.a.mark(or),Ha=ua.a.mark(ir),Ba=ua.a.mark(ur),Va=ua.a.mark(pr),Ya=ua.a.mark(dr),qa=ua.a.mark(lr),Ka=ua.a.mark(Er),Wa=ua.a.mark(_r),za=ua.a.mark(Or),Qa=ua.a.mark(br),Ja=ua.a.mark(hr),Xa=ua.a.mark(mr),$a=ua.a.mark(Sr),Za=ua.a.mark(fr);const er=r.a.get(Ea.a.ChatService),tr=r.a.get(Ea.a.AuthorizeService);function ar(e,t,a){return Object(He.c)((r=>{const n=er.wsConnect(e,t,a,(e=>{r(e)}));return()=>{n()}}))}function rr(){var e,t,a,r,n;return ua.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return e=s.sent,t=e.get("uid"),s.next=6,Object(pa.f)(Se.a.getAccessToken);case 6:if(""!==(a=s.sent)){s.next=11;break}return s.next=10,Object(pa.b)(tr.getAccessToken);case 10:a=s.sent;case 11:return s.next=13,Object(pa.e)(U.s("Connecting..."));case 13:return s.next=15,Object(pa.b)(ar,B.a.websocket.url,a,t);case 15:r=s.sent,s.prev=16;case 17:return s.next=20,Object(pa.g)(r);case 20:if(!(n=s.sent)){s.next=36;break}s.t0=n.signal,s.next="status"===s.t0?25:"dispatch"===s.t0?28:31;break;case 25:return s.next=27,Object(pa.e)(U.s(n.data));case 27:return s.abrupt("break",34);case 28:return s.next=30,Object(pa.e)(n.data);case 30:return s.abrupt("break",34);case 31:return s.next=33,Object(pa.e)(U.s("Unknown SIGNAL."));case 33:return s.abrupt("break",34);case 34:s.next=38;break;case 36:return s.next=38,Object(pa.e)(U.s("Channel received undefied message from WS!"));case 38:s.next=17;break;case 40:return s.prev=40,s.next=43,Object(pa.c)();case 43:if(!s.sent){s.next=45;break}r.close();case 45:return s.finish(40);case 46:case"end":return s.stop()}}),Ma,null,[[16,,40,46]])}function nr(e){return Object(He.c)((t=>{const a=er.subscribeChatMessages(e,(e=>{t(e)}));return()=>{a()}}))}function sr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.b)(nr,e);case 2:t=r.sent,r.prev=3;case 4:return r.next=7,Object(pa.g)(t);case 7:if(!(a=r.sent)){r.next=11;break}return r.next=11,Object(pa.e)(fe.a(a,e));case 11:r.next=4;break;case 13:return r.prev=13,r.next=16,Object(pa.c)();case 16:if(!r.sent){r.next=18;break}t.close();case 18:return r.finish(13);case 19:case"end":return r.stop()}}),ka,null,[[3,,13,19]])}function cr(e){var t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(er.getChatMessages,e);case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(pa.e)(fe.a(t,e));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(pa.e)(U.s(a.t0.message));case 13:case"end":return a.stop()}}),Ga,null,[[0,9]])}function or(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(t=r.sent,!t.get("uid")){r.next=17;break}return a=e.payload,r.prev=6,r.next=9,Object(pa.d)(er.createChatMessage,a);case 9:return r.next=11,Object(pa.e)(fe.a(Object(Pe.Map)({[a.id]:Object(Pe.Map)(Object(S.a)(Object(S.a)({},a),{},{loading:!0}))}),a.chatRoomId));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(6),r.next=17,Object(pa.e)(U.s("chatSaga/dbCreateChatMessage : "+r.t0.message));case 17:case"end":return r.stop()}}),Fa,null,[[6,13]])}function ir(e,t,a,r){return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(pa.b)(er.setChatLangauge,e,t,a,r);case 3:return n.next=5,Object(pa.e)(fe.n("room"));case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,Object(pa.e)(U.s("chatSaga/dbGetPeerChatRoom : "+n.t0.message));case 11:case"end":return n.stop()}}),Ha,null,[[0,7]])}function ur(e){var t,a,r,n,s;return ua.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(t=c.sent,!(a=t.get("uid"))){c.next=35;break}return c.prev=5,c.next=8,Object(pa.b)(er.getPeerChatRoom,a,e);case 8:if(!(r=c.sent)){c.next=14;break}return c.next=12,Object(pa.e)(fe.n("chatRoom"));case 12:c.next=24;break;case 14:return(n=new Pa("0",Ua.Peer,{[a]:!0,[e]:!0},a,!1)).lastMessage||delete n.lastMessage,n.speech||delete n.speech,n.translation||delete n.translation,n.userStatus||delete n.userStatus,c.next=21,Object(pa.b)(er.createChatRoom,n);case 21:return r=c.sent,c.next=24,Object(pa.e)(fe.n("chatRoom"));case 24:return s=r.get("id"),c.next=27,Object(pa.b)(cr,s);case 27:return c.next=29,Object(pa.b)(sr,s);case 29:c.next=35;break;case 31:return c.prev=31,c.t0=c.catch(5),c.next=35,Object(pa.e)(U.s("chatSaga/activePeerChatRoom : "+c.t0.message));case 35:case"end":return c.stop()}}),Ba,null,[[5,31]])}function pr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.roomId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=17;break}return r.prev=6,r.next=9,Object(pa.b)(er.removeHistoryRoom,t);case 9:return r.next=11,Object(pa.e)(fe.m(t));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(6),r.next=17,Object(pa.e)(U.s(r.t0.message));case 17:case"end":return r.stop()}}),Va,null,[[6,13]])}function dr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.receiverId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(ur,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),Ya,null,[[6,11]])}function lr(e){var t,a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.receiverId,n.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=n.sent,!(r=a.get("uid"))){n.next=15;break}return n.prev=6,n.next=9,Object(pa.b)(sr,r,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,Object(pa.e)(U.s(n.t0.message));case 15:case"end":return n.stop()}}),qa,null,[[6,11]])}function Er(e){var t,a,r,n,s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.input,r=t.output,n=t.roomId,o.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(s=o.sent,!(c=s.get("uid"))){o.next=15;break}return o.prev=6,o.next=9,Object(pa.b)(ir,c,a,r,n);case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(6),o.next=15,Object(pa.e)(U.s(o.t0.message));case 15:case"end":return o.stop()}}),Ka,null,[[6,11]])}function _r(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.recUserId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(er.createChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),Wa,null,[[6,11]])}function Or(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.recUserId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(er.cancelChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),za,null,[[6,11]])}function br(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.reqUserId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(er.ignoreChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),Qa,null,[[6,11]])}function hr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.reqUserId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(er.acceptChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),Ja,null,[[6,11]])}function mr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.roomId,r.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(a=r.sent,!a.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(pa.b)(er.joinChatRoom,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(pa.e)(U.s(r.t0.message));case 15:case"end":return r.stop()}}),Xa,null,[[6,11]])}function Sr(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=t.sent,!e.get("uid")){t.next=7;break}return t.next=7,Object(pa.e)(U.s("User is offline!"));case 7:case"end":return t.stop()}}),$a)}function fr(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(Nt.a.DB_CREATE_CHAT_MESSAGE,or),Object(pa.i)(Nt.a.DB_SUBSCRIBE_CHAT_MESSAGE,lr),Object(pa.i)(Nt.a.ACTIVE_PEER_CHAT_ROOM,dr),Object(pa.i)(Nt.a.WS_CONNECT,rr),Object(pa.i)(Nt.a.ASYNC_CREATE_CHAT_REQUEST,_r),Object(pa.i)(Nt.a.ASYNC_CANCEL_CHAT_REQUEST,Or),Object(pa.i)(Nt.a.ASYNC_IGNORE_CHAT_REQUEST,br),Object(pa.i)(Nt.a.ASYNC_ACCEPT_CHAT_REQUEST,hr),Object(pa.i)(Nt.a.ASYNC_JOIN_CHAT_ROOM,mr),Object(pa.i)(Nt.a.SET_USER_OFFLINE,Sr),Object(pa.i)(Nt.a.DB_REMOVE_CHAT_HISTORY,pr),Object(pa.i)(Nt.a.DB_SET_CHAT_LANGUAGE,Er)]);case 2:case"end":return e.stop()}}),Za)}var gr=a(94),Ir=ua.a.mark(Cr),Ar=ua.a.mark(Dr),Tr=ua.a.mark(Lr),vr=ua.a.mark(Rr);const xr=r.a.get(Ea.a.CircleService),jr=r.a.get(Ea.a.UserTieService);function Cr(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=17;break}return r.prev=5,r.next=8,Object(pa.b)(xr.getCircles,t);case 8:return a=r.sent,r.next=11,Object(pa.e)(gr.a(a));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(5),r.next=17,Object(pa.e)(U.s(r.t0.message));case 17:case"end":return r.stop()}}),Ir,null,[[5,13]])}function Dr(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=19;break}return r.prev=5,r.next=8,Object(pa.b)(jr.getUserTies,t);case 8:return a=r.sent,r.next=11,Object(pa.e)(ha.b(a));case 11:return r.next=13,Object(pa.e)(gr.c(a));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(5),r.next=19,Object(pa.e)(U.s(r.t0.message));case 19:case"end":return r.stop()}}),Ar,null,[[5,15]])}function Lr(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=19;break}return r.prev=5,r.next=8,Object(pa.b)(jr.getUserTieSender,t);case 8:return a=r.sent,r.next=11,Object(pa.e)(ha.b(a));case 11:return r.next=13,Object(pa.e)(gr.b(a));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(5),r.next=19,Object(pa.e)(U.s(r.t0.message));case 19:case"end":return r.stop()}}),Tr,null,[[5,15]])}function Rr(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(We.a.DB_FETCH_CIRCLES,Cr),Object(pa.i)(We.a.DB_FETCH_USER_TIES,Dr),Object(pa.i)(We.a.DB_FETCH_USER_TIEDS,Lr)]);case 2:case"end":return e.stop()}}),vr)}var wr=a(65);a(199);var Nr=e=>{const t=C.a.createServerRequestId(R.a.CommentGetComments,e);return new wr.a(R.a.CommentGetComments,t,"",M.a.Sent)},yr=a(92),Pr=a(37),Ur=a(71),Mr=ua.a.mark(Vr),kr=ua.a.mark(Yr),Gr=ua.a.mark(qr),Fr=ua.a.mark(Kr),Hr=ua.a.mark(Wr);const Br=r.a.get(Ea.a.CommentService);function Vr(e){var t,a,r,n,s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.postId,r=t.page,n=t.limit,s=Nr(a),o.next=5,Object(pa.e)(ba.a(s));case 5:return o.prev=5,o.next=8,Object(pa.b)(Br.getComments,a,r,n);case 8:if((c=o.sent).hasMore){o.next=12;break}return o.next=12,Object(pa.e)(yr.j(a));case 12:return o.next=14,Object(pa.e)(yr.b(a,c.comments));case 14:return s.status=M.a.OK,o.next=17,Object(pa.e)(ba.a(s));case 17:o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(5),s.status=M.a.Error,o.next=24,Object(pa.e)(ba.a(s));case 24:case"end":return o.stop()}}),Mr,null,[[5,19]])}function Yr(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.newComment,r=a.get("postId"),u.next=5,Object(pa.e)(U.w());case 5:return u.next=7,Object(pa.f)(Ur.a.getPost,{postId:r});case 7:return n=u.sent,u.prev=8,u.next=11,Object(pa.b)(Br.addComment,a.toJS());case 11:return s=u.sent,c=a.set("id",s),u.next=15,Object(pa.e)(yr.a(c));case 15:return o=Number(n.get("commentCounter",0))+1,i=n.set("commentCounter",o),u.next=19,Object(pa.e)(Pr.v(i));case 19:return u.next=21,Object(pa.e)(U.j());case 21:u.next=33;break;case 23:return u.prev=23,u.t0=u.catch(8),o=Number(n.get("commentCounter",0))-1,i=n.set("commentCounter",o),u.next=29,Object(pa.e)(Pr.v(i));case 29:return u.next=31,Object(pa.e)(U.s(u.t0.message));case 31:return u.next=33,Object(pa.e)(U.j());case 33:case"end":return u.stop()}}),kr,null,[[8,23]])}function qr(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.comment,r.next=4,Object(pa.e)(U.w());case 4:return r.prev=4,r.next=7,Object(pa.b)(Br.updateComment,a.toJS());case 7:return r.next=9,Object(pa.e)(yr.l(a));case 9:return r.next=11,Object(pa.e)(yr.d(a.get("postId"),a.get("id")));case 11:return r.next=13,Object(pa.e)(U.j());case 13:r.next=21;break;case 15:return r.prev=15,r.t0=r.catch(4),r.next=19,Object(pa.e)(U.s(r.t0.message));case 19:return r.next=21,Object(pa.e)(U.j());case 21:case"end":return r.stop()}}),Gr,null,[[4,15]])}function Kr(e){var t,a,r,n,s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.id,r=t.postId,o.next=4,Object(pa.e)(U.w());case 4:return o.next=6,Object(pa.f)(Ur.a.getPost,{postId:r});case 6:return n=o.sent,o.prev=7,o.next=10,Object(pa.b)(Br.deleteComment,a,r);case 10:return o.next=12,Object(pa.e)(yr.i(a,r));case 12:return s=Number(n.get("commentCounter",0))-1,c=n.set("commentCounter",s),o.next=16,Object(pa.e)(Pr.v(c));case 16:return o.next=18,Object(pa.e)(U.j());case 18:o.next=30;break;case 20:return o.prev=20,o.t0=o.catch(7),s=Number(n.get("commentCounter",0))+1,c=n.set("commentCounter",s),o.next=26,Object(pa.e)(Pr.v(c));case 26:return o.next=28,Object(pa.e)(U.s(o.t0.message));case 28:return o.next=30,Object(pa.e)(U.j());case 30:case"end":return o.stop()}}),Fr,null,[[7,20]])}function Wr(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.h)(Xe.a.DB_FETCH_COMMENTS,Vr),Object(pa.h)(Xe.a.ASYNC_ADD_NEW_COMMENT,Yr),Object(pa.h)(Xe.a.ASYNC_UPDATE_COMMENT,qr),Object(pa.h)(Xe.a.ASYNC_DELETE_COMMENT,Kr)]);case 2:case"end":return e.stop()}}),Hr)}var zr=a(143),Qr=a(51),Jr=a.n(Qr),Xr=ua.a.mark(tn),$r=ua.a.mark(an),Zr=ua.a.mark(rn);const en=r.a.get(Ea.a.VoteService);function tn(e){var t,a,r,n,s,c,o,i,u,p;return ua.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,a=t.ownerPostUserId,r=t.postId,d.next=4,Object(pa.e)(U.w());case 4:return d.next=6,Object(pa.f)(Se.a.getAuthedUser);case 6:return n=d.sent,s=n.get("uid","0"),c={postId:r,creationDate:Jr.a.utc().valueOf(),ownerDisplayName:n.get("fullName"),ownerAvatar:n.get("avatar"),ownerUserId:s,receiverId:a},d.next=11,Object(pa.f)(Ur.a.getPost,{postId:r});case 11:return o=d.sent,d.prev=12,i=Number(o.get("score",0))+1,u=o.set("score",i).setIn(["votes",s],!0),d.next=17,Object(pa.e)(Pr.w(u));case 17:return d.next=19,Object(pa.b)(en.addVote,c);case 19:return p=d.sent,c.id=p,d.next=23,Object(pa.e)(zr.a(Object(Pe.Map)(Object(S.a)({},c))));case 23:return d.next=25,Object(pa.e)(U.j());case 25:d.next=38;break;case 27:return d.prev=27,d.t0=d.catch(12),ve.a.error("error",d.t0),i=o.get("score",0)-1,u=o.set("score",i).setIn(["votes",s],!1),d.next=34,Object(pa.e)(Pr.w(u));case 34:return d.next=36,Object(pa.e)(U.s(d.t0.message));case 36:return d.next=38,Object(pa.e)(U.j());case 38:case"end":return d.stop()}}),Xr,null,[[12,27]])}function an(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.ownerPostUserId,r=t.postId,u.next=4,Object(pa.e)(U.w());case 4:return u.next=6,Object(pa.f)(Se.a.getAuthedUser);case 6:return n=u.sent,s=n.get("uid","0"),u.next=10,Object(pa.f)(Ur.a.getPost,{postId:r});case 10:return c=u.sent,u.prev=11,o=Number(c.get("score",0))-1,i=c.set("score",o).setIn(["votes",s],!1),u.next=16,Object(pa.e)(Pr.w(i));case 16:return u.next=18,Object(pa.b)(en.deleteVote,a,r);case 18:return u.next=20,Object(pa.e)(zr.e(a,r));case 20:return u.next=22,Object(pa.e)(U.j());case 22:u.next=34;break;case 24:return u.prev=24,u.t0=u.catch(11),o=c.get("score",0)+1,i=c.set("score",o).setIn(["votes",s],!0),u.next=30,Object(pa.e)(Pr.w(i));case 30:return u.next=32,Object(pa.e)(U.s(u.t0.message));case 32:return u.next=34,Object(pa.e)(U.j());case 34:case"end":return u.stop()}}),$r,null,[[11,24]])}function rn(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(vt.a.ASYNC_ADD_NEW_VOTE,tn),Object(pa.i)(vt.a.ASYNC_DELETE_VOTE,an)]);case 2:case"end":return e.stop()}}),Zr)}var nn=a(44),sn=a(147),cn=a(144),on=ua.a.mark(En),un=ua.a.mark(_n),pn=ua.a.mark(On),dn=ua.a.mark(bn);const ln=r.a.get(Ea.a.CommonService);function En(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.e)(nn.h());case 2:return e.next=4,Object(pa.e)(Pr.f());case 4:return e.next=6,Object(pa.e)(ha.g());case 6:return e.next=8,Object(pa.e)(yr.c());case 8:return e.next=10,Object(pa.e)(zr.b());case 10:return e.next=12,Object(pa.e)(sn.b());case 12:return e.next=14,Object(pa.e)(gr.d());case 14:return e.next=16,Object(pa.e)(U.b());case 16:case"end":return e.stop()}}),on)}function _n(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.e)(nn.o());case 2:return e.next=4,Object(pa.e)(ha.j());case 4:return e.next=6,Object(pa.e)(sn.d());case 6:return e.next=8,Object(pa.e)(gr.k());case 8:return e.next=10,Object(pa.e)(gr.m());case 10:return e.next=12,Object(pa.e)(gr.l());case 12:return e.next=14,Object(pa.e)(cn.a());case 14:return e.next=16,Object(pa.e)(Ne.g());case 16:return e.next=18,Object(pa.e)(fe.o());case 18:case"end":return e.stop()}}),un)}function On(e){var t,a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.accessToken,n.prev=2,n.next=5,Object(pa.b)(ln.getTwitterMedia,a);case 5:return r=n.sent,n.next=8,Object(pa.e)(Pr.a(r));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(pa.e)(U.s(n.t0.message));case 14:case"end":return n.stop()}}),pn,null,[[2,10]])}function bn(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(et.a.CLEAR_LOADED_DATA,En),Object(pa.i)(et.a.LOAD_INITIAL_DATA,_n),Object(pa.i)(et.a.LOAD_TWITTER_MEDIA,On)]);case 2:case"end":return e.stop()}}),dn)}var hn=a(106);const mn=e=>{const t=C.a.createServerRequestId(R.a.GalleryCreateAlbum,e);return new hn.a(R.a.GalleryCreateAlbum,t,"",M.a.Sent)};var Sn=a(14),fn=a(75),gn=a(124),In=a(179);a(162);class An{constructor(){this.progress=void 0,this.success=void 0,this.error=void 0,this.fileName=void 0,this.meta=void 0}}var Tn=a(183),vn=a(114),xn=a.n(vn),jn=ua.a.mark($n),Cn=ua.a.mark(Zn),Dn=ua.a.mark(es),Ln=ua.a.mark(ts),Rn=ua.a.mark(as),wn=ua.a.mark(rs),Nn=ua.a.mark(ns),yn=ua.a.mark(ss),Pn=ua.a.mark(cs),Un=ua.a.mark(os),Mn=ua.a.mark(is),kn=ua.a.mark(us),Gn=ua.a.mark(ps),Fn=ua.a.mark(ds),Hn=ua.a.mark(ls),Bn=ua.a.mark(Es),Vn=ua.a.mark(_s),Yn=ua.a.mark(Os),qn=ua.a.mark(bs),Kn=ua.a.mark(hs),Wn=ua.a.mark(ms),zn=ua.a.mark(Ss),Qn=ua.a.mark(fs);const Jn=r.a.get(Ea.a.ImageGalleryService);function Xn(e,t,a){return Object(He.c)((r=>{const n=new An;return Jn.uploadFile(a,e,t,((e,t,a)=>{n.progress=e,n.fileName=a,r(n)}),((e,t)=>{n.success=e,n.meta=t,r(n),r(He.a)}),(e=>{n.error=e,r(n),r(He.a)})),()=>{}}))}function $n(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=17;break}return r.prev=5,r.next=8,Object(pa.b)(Jn.getGallery,t,B.a.data.imageFolderPath);case 8:return a=r.sent,r.next=11,Object(pa.e)(nn.d(a));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(5),r.next=17,Object(pa.e)(U.s(r.t0.message));case 17:case"end":return r.stop()}}),jn,null,[[5,13]])}function Zn(e){var t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(t=r.sent,!(a=t.get("uid"))){r.next=16;break}return r.prev=5,r.next=8,Object(pa.b)(Jn.deleteFile,a,e,B.a.data.videoFolderPath);case 8:return r.next=10,Object(pa.e)(nn.w(e));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(5),r.next=16,Object(pa.e)(U.s(r.t0.message));case 16:case"end":return r.stop()}}),Cn,null,[[5,12]])}function es(e,t){var a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(a=n.sent,!(r=a.get("uid"))){n.next=16;break}return n.prev=5,n.next=8,Object(pa.b)(Jn.deleteFile,r,e,t);case 8:return n.next=10,Object(pa.e)(nn.v(e));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,Object(pa.e)(U.s(n.t0.message));case 16:case"end":return n.stop()}}),Dn,null,[[5,12]])}function ts(e,t){var a,r,n,s;return ua.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(a=c.sent,!(r=a.get("uid"))){c.next=12;break}return n=new gn.a(xn.a.v4(),0,Jr.a.utc().valueOf(),t,e,t,"",B.a.data.avatarFolderPath,t,r,0,"",0,0,"",!1,[],fn.a.Public),c.next=8,Object(pa.b)(Jn.saveFile,r,n,B.a.data.videoFolderPath);case 8:return s=c.sent,n.objectId=s,c.next=12,Object(pa.e)(nn.e(n));case 12:case"end":return c.stop()}}),Ln)}function as(e,t,a){var r,n,s,c,o,i,u,p,d;return ua.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(r=l.sent,!(n=r.get("uid"))){l.next=37;break}return s="".concat(n,"/").concat(B.a.data.videoFolderPath),l.next=8,Object(pa.b)(Xn,e,t,s);case 8:c=l.sent;case 9:return l.next=12,Object(pa.g)(c);case 12:if(o=l.sent,i=o.progress,u=void 0===i?0:i,p=o.success,!(d=o.error)){l.next=25;break}return l.next=20,Object(pa.e)(U.s(d.message));case 20:return l.next=22,Object(pa.e)(U.o(100,!1));case 22:return l.next=24,Object(pa.e)(U.j());case 24:return l.abrupt("return");case 25:if(!p){l.next=33;break}return l.next=28,Object(pa.b)(ts,p.fileURL,a);case 28:return l.next=30,Object(pa.e)(U.o(100,!1));case 30:return l.next=32,Object(pa.e)(U.j());case 32:return l.abrupt("return");case 33:return l.next=35,Object(pa.e)(U.o(u,!0));case 35:l.next=9;break;case 37:case"end":return l.stop()}}),Rn)}function rs(e,t){var a,r,n,s,c,o,i,u,p;return ua.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(a=d.sent,!(r=a.get("uid"))){d.next=35;break}return n="".concat(r,"/").concat(B.a.data.videoThumbnailPath),d.next=8,Object(pa.b)(Xn,e,t,n);case 8:s=d.sent;case 9:return d.next=12,Object(pa.g)(s);case 12:if(c=d.sent,o=c.progress,i=void 0===o?0:o,u=c.success,!(p=c.error)){d.next=25;break}return d.next=20,Object(pa.e)(U.s(p.message));case 20:return d.next=22,Object(pa.e)(U.o(100,!1));case 22:return d.next=24,Object(pa.e)(U.j());case 24:return d.abrupt("return");case 25:if(!u){d.next=31;break}return d.next=28,Object(pa.e)(U.o(100,!1));case 28:return d.next=30,Object(pa.e)(U.j());case 30:return d.abrupt("return",u);case 31:return d.next=33,Object(pa.e)(U.o(i,!0));case 33:d.next=9;break;case 35:case"end":return d.stop()}}),wn)}function ns(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=17;break}return r.prev=5,r.next=8,Object(pa.b)(Jn.getGallery,t,B.a.data.videoFolderPath);case 8:return a=r.sent,r.next=11,Object(pa.e)(nn.f(a));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(5),r.next=17,Object(pa.e)(U.s(r.t0.message));case 17:case"end":return r.stop()}}),Nn,null,[[5,13]])}function ss(e,t,a){var r,n,s,c,o,i,u,p,d,l;return ua.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(r=E.sent,!(n=r.get("uid"))){E.next=36;break}return s="".concat(n,"/").concat(t),E.next=8,Object(pa.b)(Xn,e,a,s);case 8:c=E.sent;case 9:return E.next=12,Object(pa.g)(c);case 12:if(o=E.sent,i=o.progress,u=void 0===i?0:i,p=o.success,d=o.error,l=o.meta,!d){E.next=26;break}return E.next=21,Object(pa.e)(U.s(d.message));case 21:return E.next=23,Object(pa.e)(U.p(100,!1,a));case 23:return E.next=25,Object(pa.e)(U.j());case 25:return E.abrupt("return");case 26:if(!p){E.next=32;break}return E.next=29,Object(pa.e)(U.p(100,!1,a,l));case 29:return E.next=31,Object(pa.e)(U.j());case 31:return E.abrupt("return",p);case 32:return E.next=34,Object(pa.e)(U.p(u,!0,a));case 34:E.next=9;break;case 36:case"end":return E.stop()}}),yn)}function cs(e,t,a,r=10){var n,s,c;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(pa.f)(Tn.a.getAlbumLastImageId,{albumId:t});case 2:return n=a.sent,a.next=5,Object(pa.b)(Jn.fetchAlbumImages,e,t,r,n);case 5:return s=a.sent,c=s.mappedImages.count(),a.next=9,Object(pa.e)(nn.x(t,s.newLastImageId));case 9:if(c>r-1){a.next=12;break}return a.next=12,Object(pa.e)(nn.g(t));case 12:if(!(c>0)){a.next=17;break}return a.next=15,Object(pa.e)(nn.d(s.mappedImages));case 15:return a.next=17,Object(pa.e)(nn.a(t,s.ids));case 17:case"end":return a.stop()}}),Pn)}function os(e,t,a,r=10){var n;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.b)(Jn.getGallery,e,B.a.data.avatarFolderPath);case 2:if(n=t.sent,!(n.mappedImages.count()>0)){t.next=10;break}return t.next=8,Object(pa.e)(nn.d(n.mappedImages));case 8:return t.next=10,Object(pa.e)(nn.b(e,n.ids));case 10:case"end":return t.stop()}}),Un)}function is(e,t,a,r=10){var n;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.b)(Jn.getGallery,e,B.a.data.coverFolderPath);case 2:if(n=t.sent,!(n.mappedImages.count()>0)){t.next=10;break}return t.next=8,Object(pa.e)(nn.d(n.mappedImages));case 8:return t.next=10,Object(pa.e)(nn.c(e,n.ids));case 10:case"end":return t.stop()}}),Mn)}function us(e,t,a){var r,n;return ua.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(pa.b)(Jn.setPhotoAlbum,e,B.a.data.imageFolderPath,t,a);case 2:return r=s.sent,s.next=5,Object(pa.e)(U.c(In.a.PostWrite));case 5:return s.next=7,Object(pa.e)(nn.d(r.images));case 7:return s.next=9,Object(pa.e)(Pr.b(r.newAlbum));case 9:return s.next=11,Object(pa.e)(ha.c(e,Object(Pe.Map)({[r.newAlbum.get("id")]:!0})));case 11:return s.next=13,Object(pa.e)(nn.a(r.newAlbum.get("id"),r.imageIds));case 13:return s.next=15,Object(pa.e)(Pr.e(Object(Pe.Map)({[r.newAlbum.get("id")]:!0})));case 15:return s.next=17,Object(pa.e)(U.c(In.a.Album));case 17:return(n=mn(e)).status=M.a.OK,s.next=21,Object(pa.e)(ba.a(n));case 21:case"end":return s.stop()}}),kn)}function ps(e){var t,a,r,n,s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.file,r=t.fileName,n=t.thumbnail,"thumbnail_",s="thumbnail_"+r,o.next=5,Object(pa.b)(rs,n,s);case 5:return c=o.sent,o.next=8,Object(pa.b)(as,a,r,c.fileURL);case 8:case"end":return o.stop()}}),Gn)}function ds(e){var t,a,r,n;return ua.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,a=t.userId,r=t.albumId,s.next=3,Object(pa.f)(Tn.a.getAlbumLastImageId,{albumId:r});case 3:return n=s.sent,s.next=6,Object(pa.b)(cs,a,r,n,10);case 6:case"end":return s.stop()}}),Fn)}function ls(e){var t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.userId,"",a.next=4,Object(pa.b)(os,t,"avatar","",100);case 4:case"end":return a.stop()}}),Hn)}function Es(e){var t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.userId,"",a.next=4,Object(pa.b)(is,t,"cover","",100);case 4:case"end":return a.stop()}}),Bn)}function _s(e){var t,a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.file,r=t.fileName,n.next=3,Object(pa.b)(ss,a,B.a.data.imageFolderPath,r);case 3:case"end":return n.stop()}}),Vn)}function Os(e){var t,a,r,n,s,c,o,i,u,p,d;return ua.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=l.sent,a=t.get("uid"),r=e.payload,n=r.file,s=r.fileName,l.next=7,Object(pa.e)(U.w());case 7:return l.next=9,Object(pa.b)(ss,n,B.a.data.avatarFolderPath,s);case 9:return c=l.sent,l.next=12,Object(pa.e)(U.j());case 12:if(o=c.fileURL,i=s.split(".")[0],a){l.next=16;break}throw new Sn.a("nulUID","User ID is null!");case 16:return u=new gn.a(i,0,Jr.a.utc().valueOf(),o,o,s,"",B.a.data.avatarFolderPath,s,a,0,"",0,0,"",!1,[],fn.a.Public),l.next=19,Object(pa.b)(Jn.saveFile,a,u,B.a.data.avatarFolderPath);case 19:return p=l.sent,u.objectId=p,d=Object(Pe.Map)({[i]:Object(Pe.fromJS)(Object(S.a)({},u))}),l.next=24,Object(pa.e)(nn.d(d));case 24:return l.next=26,Object(pa.e)(nn.b(a,Object(Pe.Map)({[i]:!0})));case 26:case"end":return l.stop()}}),Yn)}function bs(e){var t,a,r,n,s,c,o,i,u,p,d;return ua.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=l.sent,a=t.get("uid"),r=e.payload,n=r.file,s=r.fileName,l.next=7,Object(pa.e)(U.w());case 7:return l.next=9,Object(pa.b)(ss,n,B.a.data.coverFolderPath,s);case 9:return c=l.sent,l.next=12,Object(pa.e)(U.j());case 12:if(o=c.fileURL,i=s.split(".")[0],a){l.next=16;break}throw new Sn.a("nulUID","User ID is null!");case 16:return u=new gn.a(i,0,Jr.a.utc().valueOf(),o,o,s,"",B.a.data.coverFolderPath,s,a,0,"",0,0,"",!1,[],fn.a.Public),l.next=19,Object(pa.b)(Jn.saveFile,a,u,B.a.data.coverFolderPath);case 19:return p=l.sent,u.objectId=p,d=Object(Pe.Map)({[i]:Object(Pe.fromJS)(Object(S.a)({},u))}),l.next=24,Object(pa.e)(nn.d(d));case 24:return l.next=26,Object(pa.e)(nn.c(a,Object(Pe.Map)({[i]:!0})));case 26:case"end":return l.stop()}}),qn)}function hs(e){var t,a,r,n,s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.albumPost,r=t.images,o.next=3,Object(pa.f)(Se.a.getAuthedUser);case 3:if(n=o.sent,!(s=n.get("uid"))){o.next=22;break}return c=mn(s),o.next=9,Object(pa.e)(ba.a(c));case 9:return o.prev=9,o.next=12,Object(pa.b)(us,s,a,r);case 12:o.next=22;break;case 14:return o.prev=14,o.t0=o.catch(9),c.status=M.a.Error,o.next=19,Object(pa.e)(ba.a(c));case 19:return o.next=21,Object(pa.e)(U.s("gallerySaga/watchCreateAlbum  ".concat(o.t0)));case 21:ve.a.error("error",o.t0);case 22:case"end":return o.stop()}}),Kn,null,[[9,14]])}function ms(e){var t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.videoId,a.next=3,Object(pa.b)(Zn,t);case 3:case"end":return a.stop()}}),Wn)}function Ss(e){var t,a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.fileId,r=t.folderName,n.next=3,Object(pa.b)(es,a,r);case 3:case"end":return n.stop()}}),zn)}function fs(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(rt.a.DB_FETCH_IMAGE_GALLERY,$n),Object(pa.i)(rt.a.DB_FETCH_ALBUM_IMAGES,ds),Object(pa.i)(rt.a.DB_FETCH_AVATAR_IMAGES,ls),Object(pa.i)(rt.a.DB_FETCH_COVER_IMAGES,Es),Object(pa.i)(rt.a.DB_DELETE_IMAGE,Ss),Object(pa.i)(rt.a.DB_UPLOAD_VIDEO,ps),Object(pa.h)(rt.a.DB_UPLOAD_IMAGE,_s),Object(pa.h)(rt.a.DB_UPLOAD_AVATAR,Os),Object(pa.h)(rt.a.DB_UPLOAD_COVER,bs),Object(pa.i)(rt.a.DB_CREATE_ALBUM,hs),Object(pa.i)(rt.a.DB_FETCH_VIDEO_GALLERY,ns),Object(pa.i)(rt.a.DB_DELETE_VIDEO,ms)]);case 2:case"end":return e.stop()}}),Qn)}var gs=a(108),Is=ua.a.mark(Ts),As=ua.a.mark(vs);function Ts(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{name:"English",code:gs.a.English},{name:"French",code:gs.a.French},{name:"Spanish",code:gs.a.Spanish}],void(t.next=3);case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),Is)}function vs(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(et.a.INIT_LOCALE,Ts)]);case 2:case"end":return e.stop()}}),As)}var xs=ua.a.mark(Ls),js=ua.a.mark(Rs);const Cs=r.a.get(Ea.a.NotificationService);function Ds(e){return Object(He.c)((t=>{const a=Cs.getNotifications(e,(e=>{t(e)}));return()=>{a()}}))}function Ls(){var e,t,a,r;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return e=n.sent,t=e.get("uid"),n.next=6,Object(pa.b)(Ds,t);case 6:a=n.sent,n.prev=7;case 8:return n.next=11,Object(pa.g)(a);case 11:return r=n.sent,n.next=14,Object(pa.e)(sn.a(r));case 14:n.next=8;break;case 16:return n.prev=16,n.next=19,Object(pa.c)();case 19:if(!n.sent){n.next=21;break}a.close();case 21:return n.finish(16);case 22:case"end":return n.stop()}}),xs,null,[[7,,16,22]])}function Rs(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(ct.a.DB_FETCH_NOTIFICATIONS,Ls)]);case 2:case"end":return e.stop()}}),js)}var ws=a(47),Ns=a(145),ys=ua.a.mark(Ks),Ps=ua.a.mark(Ws),Us=ua.a.mark(zs),Ms=ua.a.mark(Qs),ks=ua.a.mark(Js),Gs=ua.a.mark(Xs),Fs=ua.a.mark($s),Hs=ua.a.mark(Zs),Bs=ua.a.mark(ec),Vs=ua.a.mark(tc),Ys=ua.a.mark(ac);const qs=r.a.get(Ea.a.PostService);function Ks(e,t,a,r,n){var s,c,o,i,u;return ua.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(pa.f)(Ns.a.getFollowingUsers);case 2:return s=p.sent,(c=s.keySeq().map((e=>"".concat(e))).toArray()).push("".concat(e)),p.next=7,Object(pa.b)(qs.searchPosts,"",c.join(),t,a,r,n);case 7:if((o=p.sent).hasMore){p.next=11;break}return p.next=11,Object(pa.e)(Pr.s());case 11:return p.next=13,Object(pa.f)(Se.a.getAuthedUser);case 13:return i=p.sent,(u=ws.a.createFetchStreamRequest(i.get("uid"))).status=M.a.OK,p.next=18,Object(pa.e)(ba.a(u));case 18:return p.next=20,Object(pa.e)(Pr.q(o.newLastPostId));case 20:return p.next=22,Object(pa.e)(Pr.c(o.posts));case 22:return p.next=24,Object(pa.e)(Pr.e(o.ids));case 24:case"end":return p.stop()}}),ys)}function Ws(e,t,a,r,n,s){var c,o,i,u,p;return ua.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(pa.f)(Ns.a.getFollowingUsers);case 2:return c=d.sent,(o=c.keySeq().map((e=>"".concat(e))).toArray()).push("".concat(t)),d.next=7,Object(pa.b)(qs.searchPosts,e,o.join(),a,r,n,s);case 7:if((i=d.sent).hasMore){d.next=11;break}return d.next=11,Object(pa.e)(Pr.t());case 11:return d.next=13,Object(pa.f)(Se.a.getAuthedUser);case 13:return u=d.sent,(p=ws.a.createSearchPostRequest(u.get("uid"))).status=M.a.OK,d.next=18,Object(pa.e)(ba.a(p));case 18:return d.next=20,Object(pa.e)(Pr.p(i.newLastPostId));case 20:return d.next=22,Object(pa.e)(Pr.c(i.posts));case 22:return d.next=24,Object(pa.e)(Pr.d(i.ids,0===r));case 24:case"end":return d.stop()}}),Ps)}function zs(e,t,a,r,n){var s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(pa.b)(qs.getPostsByUserId,e,t,a,r,n);case 2:if((s=o.sent).hasMore){o.next=6;break}return o.next=6,Object(pa.e)(Pr.r(e));case 6:return(c=ws.a.createFetchPostUserRequest(e)).status=M.a.OK,o.next=10,Object(pa.e)(ba.a(c));case 10:return o.next=12,Object(pa.e)(Pr.o(e,s.newLastPostId));case 12:return o.next=14,Object(pa.e)(Pr.c(s.posts));case 14:return o.next=16,Object(pa.e)(ha.d(e,s.ids));case 16:case"end":return o.stop()}}),Us)}function Qs(e,t,a,r,n){var s,c;return ua.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(pa.b)(qs.getAlbumPosts,e,t,a,r,n);case 2:if((s=o.sent).hasMore){o.next=6;break}return o.next=6,Object(pa.e)(ha.t(e));case 6:return(c=ws.a.createFetchAlbumRequest(e)).status=M.a.OK,o.next=10,Object(pa.e)(ba.a(c));case 10:return o.next=12,Object(pa.e)(ha.s(e,s.newLastPostId));case 12:return o.next=14,Object(pa.e)(Pr.c(s.posts));case 14:return o.next=16,Object(pa.e)(ha.c(e,s.ids));case 16:case"end":return o.stop()}}),Ms)}function Js(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.f)(Ur.a.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,Object(pa.b)(qs.getSearchKey);case 6:return e=t.sent,t.next=9,Object(pa.e)(Pr.u(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),ks)}function Xs(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pa.b)(qs.getSearchKey);case 3:return e=t.sent,t.next=6,Object(pa.e)(Pr.u(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(pa.e)(U.s(t.t0.message));case 12:case"end":return t.stop()}}),Gs,null,[[0,8]])}function $s(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=u.sent,a=ws.a.createFetchStreamRequest(t.get("uid")),u.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.page,s=r.limit,c=t.get("uid"),u.prev=9,u.next=12,Js();case 12:return o=u.sent,u.next=15,Object(pa.f)(Ur.a.getStreamPage);case 15:return u.next=17,Object(pa.f)(Ur.a.getStreamLastPostId);case 17:if(i=u.sent,!c){u.next=21;break}return u.next=21,Object(pa.b)(Ks,c,i,n,s,o);case 21:u.next=29;break;case 23:return u.prev=23,u.t0=u.catch(9),u.next=27,Object(pa.e)(U.s(u.t0.message));case 27:return u.next=29,Object(pa.e)(Pr.s());case 29:case"end":return u.stop()}}),Fs,null,[[9,23]])}function Zs(e){var t,a,r,n,s,c,o,i,u;return ua.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=p.sent,a=ws.a.createSearchPostRequest(t.get("uid")),p.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.query,s=r.page,c=r.limit,o=t.get("uid"),p.prev=9,p.next=12,Js();case 12:return i=p.sent,p.next=15,Object(pa.f)(Ur.a.getSearchLastPostId);case 15:if(u=p.sent,!o){p.next=21;break}return p.next=19,Object(pa.e)(U.w());case 19:return p.next=21,Object(pa.b)(Ws,n,o,u,s,c,i);case 21:p.next=29;break;case 23:return p.prev=23,p.t0=p.catch(9),p.next=27,Object(pa.e)(U.s(p.t0.message));case 27:return p.next=29,Object(pa.e)(Pr.t());case 29:return p.prev=29,p.next=32,Object(pa.e)(U.j());case 32:return p.finish(29);case 33:case"end":return p.stop()}}),Hs,null,[[9,23,29,33]])}function ec(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=u.sent,a=ws.a.createFetchPostUserRequest(t.get("uid")),u.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.page,s=r.limit,c=r.userId,u.prev=8,u.next=11,Js();case 11:return o=u.sent,u.next=14,Object(pa.f)(Ur.a.getProfileLastPostRequest,{userId:c});case 14:return u.next=16,Object(pa.f)(Ur.a.getProfileLatPostId,{userId:c});case 16:if(i=u.sent,!t.get("uid")){u.next=21;break}return u.next=21,Object(pa.b)(zs,c,i,n,s,o);case 21:u.next=27;break;case 23:return u.prev=23,u.t0=u.catch(8),u.next=27,Object(pa.e)(U.s(u.t0.message));case 27:case"end":return u.stop()}}),Bs,null,[[8,23]])}function tc(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=u.sent,a=ws.a.createFetchAlbumRequest(t.get("uid")),u.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.limit,s=r.userId,c=r.page,u.prev=8,u.next=11,Js();case 11:return o=u.sent,u.next=14,Object(pa.f)(k.a.getAlbumLastPageRequest,{userId:s});case 14:return u.next=16,Object(pa.f)(k.a.getAlbumLatPostId,{userId:s});case 16:if(i=u.sent,!t.get("uid")){u.next=21;break}return u.next=21,Object(pa.b)(Qs,s,i,c,n,o);case 21:u.next=27;break;case 23:return u.prev=23,u.t0=u.catch(8),u.next=27,Object(pa.e)(U.s(u.t0.message));case 27:case"end":return u.stop()}}),Vs,null,[[8,23]])}function ac(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.h)(ut.a.DB_GET_POST,$s),Object(pa.h)(ut.a.DB_SEARCH_POST,Zs),Object(pa.h)(ut.a.DB_GET_POST_BY_USER_ID,ec),Object(pa.h)(lt.a.DB_GET_ALBUM_POST_BY_USER_ID,tc),Object(pa.i)(ut.a.DB_GET_POST_SEARCH_KEY,Xs)]);case 2:case"end":return e.stop()}}),Ys)}const rc=e=>{const t=C.a.createServerRequestId(R.a.UserFetchRequest,e);return new wr.a(R.a.UserFetchRequest,t,"",M.a.Sent)};var nc=ua.a.mark(Ec),sc=ua.a.mark(_c),cc=ua.a.mark(Oc),oc=ua.a.mark(bc),ic=ua.a.mark(hc),uc=ua.a.mark(mc),pc=ua.a.mark(Sc),dc=ua.a.mark(fc);const lc=r.a.get(Ea.a.UserService);function Ec(){var e,t,a;return ua.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=r.sent,!(t=e.get("uid"))){r.next=17;break}return r.prev=5,r.next=8,Object(pa.b)(lc.getCurrentUserProfile);case 8:return a=r.sent,r.next=11,Object(pa.e)(ha.e(t,Object(Pe.Map)(Object(S.a)(Object(S.a)({},a),{},{userId:t}))));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(5),r.next=17,Object(pa.e)(U.s(r.t0.message));case 17:case"end":return r.stop()}}),nc,null,[[5,13]])}function _c(e){var t,a,r,n,s;return ua.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,a=t.uid,r=t.callerKey,!a){c.next=28;break}return c.next=4,Object(pa.f)(ge.a.getCaller);case 4:if(n=c.sent,c.prev=5,!(n&&n.indexOf("dbGetUserInfoByUserId-".concat(a))>-1)){c.next=8;break}return c.abrupt("return",void 0);case 8:return c.next=10,Object(pa.e)(U.x({caller:"dbGetUserInfoByUserId-".concat(a)}));case 10:return c.next=12,Object(pa.b)(lc.getUserProfile,a);case 12:return s=c.sent,c.next=15,Object(pa.e)(ha.e(a,Object(Pe.Map)(Object(S.a)(Object(S.a)({},s),{},{userId:a}))));case 15:c.t0=r,c.next="header"===c.t0?18:21;break;case 18:return c.next=20,Object(pa.e)(U.q(s.fullName));case 20:case 21:return c.abrupt("break",22);case 22:c.next=28;break;case 24:return c.prev=24,c.t1=c.catch(5),c.next=28,Object(pa.e)(U.s(c.t1.message));case 28:case"end":return c.stop()}}),sc,null,[[5,24]])}function Oc(e,t,a,r,n){var s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Ns.a.getFollowingUsers);case 2:return s=u.sent,s.keySeq().map((e=>"userId:".concat(e))).toArray().push("userId:".concat(e)),u.next=7,Object(pa.e)(U.w());case 7:return u.prev=7,u.next=10,Object(pa.b)(lc.searchUser,t,"NOT userId:".concat(e),a,r,n);case 10:if((c=u.sent).hasMore){u.next=14;break}return u.next=14,Object(pa.e)(ha.v());case 14:return u.next=16,Object(pa.f)(Se.a.getAuthedUser);case 16:return o=u.sent,(i=rc(o.get("uid"))).status=M.a.OK,u.next=21,Object(pa.e)(ba.a(i));case 21:return u.next=23,Object(pa.e)(ha.b(c.users));case 23:return u.next=25,Object(pa.e)(ha.f(c.ids,0===a));case 25:u.next=33;break;case 27:return u.prev=27,u.t0=u.catch(7),u.next=31,Object(pa.e)(U.s(u.t0.message));case 31:return u.next=33,Object(pa.e)(ha.v());case 33:return u.prev=33,u.next=36,Object(pa.e)(U.j());case 36:return u.finish(33);case 37:case"end":return u.stop()}}),cc,null,[[7,27,33,37]])}function bc(e,t,a,r,n){var s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return s=u.sent,c=s.get("uid"),u.next=6,Object(pa.b)(lc.searchUser,t,e,a,r,n);case 6:if((o=u.sent).hasMore){u.next=10;break}return u.next=10,Object(pa.e)(ha.u());case 10:return(i=rc(c)).status=M.a.OK,u.next=14,Object(pa.e)(ba.a(i));case 14:return u.next=16,Object(pa.e)(ha.b(o.users));case 16:return u.next=18,Object(pa.e)(ha.a(o.ids));case 18:case"end":return u.stop()}}),oc)}function hc(){var e;return ua.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pa.f)(k.a.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,Object(pa.b)(lc.getSearchKey);case 6:return e=t.sent,t.next=9,Object(pa.e)(ha.x(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),ic)}function mc(e){var t,a,r,n,s,c,o;return ua.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=i.sent,a=rc(t.get("uid")),i.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.page,s=r.limit,c=t.get("uid"),i.prev=9,i.next=12,hc();case 12:if(o=i.sent,!c){i.next=16;break}return i.next=16,Object(pa.b)(bc,c,"",n,s,o);case 16:i.next=24;break;case 18:return i.prev=18,i.t0=i.catch(9),i.next=22,Object(pa.e)(U.s(i.t0.message));case 22:return i.next=24,Object(pa.e)(ha.u());case 24:case"end":return i.stop()}}),uc,null,[[9,18]])}function Sc(e){var t,a,r,n,s,c,o,i;return ua.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:return t=u.sent,a=rc(t.get("uid")),u.next=6,Object(pa.e)(ba.a(a));case 6:return r=e.payload,n=r.query,s=r.page,c=r.limit,o=t.get("uid"),u.prev=9,u.next=12,hc();case 12:if(i=u.sent,!o){u.next=16;break}return u.next=16,Object(pa.b)(Oc,o,n,s,c,i);case 16:u.next=24;break;case 18:return u.prev=18,u.t0=u.catch(9),u.next=22,Object(pa.e)(U.s(u.t0.message));case 22:return u.next=24,Object(pa.e)(ha.v());case 24:case"end":return u.stop()}}),pc,null,[[9,18]])}function fc(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.h)(lt.a.DB_FETCH_USER_SEARCH,Sc),Object(pa.h)(lt.a.DB_FETCH_FIND_PEOPLE,mc),Object(pa.i)(lt.a.DB_FETCH_USER_PROFILE,Ec),Object(pa.i)(lt.a.DB_FETCH_USER_PROFILE_BY_ID,_c)]);case 2:case"end":return e.stop()}}),dc)}class gc extends da.a{constructor(e,t,a,r){super(),this.type=e,this.creationDate=t,this.ownerUserId=a,this.list=r}}var Ic=ua.a.mark(xc),Ac=ua.a.mark(jc),Tc=ua.a.mark(Cc);const vc=r.a.get(Ea.a.UserSettingService);function xc(){var e,t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(e=a.sent,!e.get("uid")){a.next=17;break}return a.prev=5,a.next=8,Object(pa.b)(vc.getUserSettings);case 8:return t=a.sent,a.next=11,Object(pa.e)(cn.c(t));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(5),a.next=17,Object(pa.e)(U.s(a.t0.message));case 17:case"end":return a.stop()}}),Ic,null,[[5,13]])}function jc(e){var t,a,r,n;return ua.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(pa.f)(Se.a.getAuthedUser);case 2:if(t=s.sent,!(a=t.get("uid"))){s.next=19;break}return r=e.payload,s.prev=6,n=new gc(r.type,0,a,[]),r.setting.forEach((e=>{n.list.push(e.toJS())})),s.next=11,Object(pa.b)(vc.updateUserSetting,n);case 11:return s.next=13,Object(pa.e)(cn.d(r.type,r.setting));case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(6),s.next=19,Object(pa.e)(U.s(s.t0.message));case 19:case"end":return s.stop()}}),Ac,null,[[6,15]])}function Cc(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Object(pa.i)(Rt.a.DB_FETCH_USER_SETTING,xc),Object(pa.i)(Rt.a.DB_UPDATE_USER_SETTING,jc)]);case 2:case"end":return e.stop()}}),Tc)}var Dc=ua.a.mark(Lc);function Lc(){return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([ya(),vs(),Wr(),rn(),fc(),bn(),ac(),Cc(),fs(),Rs(),Rr(),fr()]);case 2:case"end":return e.stop()}}),Dc)}const Rc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function wc(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}B.a.gateway.base_href;oa.runSaga(Lc),oa.store.subscribe((()=>{})),oa.store.dispatch(Ne.a()),oa.store.dispatch(Ne.o()),oa.store.dispatch(U.k());try{we()()}catch(yc){}const Nc=Object(s.a)(d);Le.a.render(b.a.createElement(P.Provider,{store:oa.store},b.a.createElement(y.a,{i18n:n.a},b.a.createElement(l.ConnectedRouter,{history:oa.history},b.a.createElement(c.a,{theme:Nc},b.a.createElement(Ce,null))))),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("/function/web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("/function/web","/service-worker.js");Rc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((a=>{const r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):wc(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):wc(t,e)}))}}()},47:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return u}));a(8);var r=a(43),n=a(32),s=a(65),c=a(17);const o=e=>{const t=[];return((e,t)=>e.split(" ").filter((e=>e.slice(0,1)===t)))(e,"#").forEach((e=>{t.push(e.slice(1))})),t},i=e=>e.sort(((e,t)=>parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10))),u={createFetchStreamRequest:e=>{const t=r.a.createServerRequestId(n.a.StreamGetPosts,e);return new s.a(n.a.StreamGetPosts,t,"",c.a.Sent)},createSearchPostRequest:e=>{const t=r.a.createServerRequestId(n.a.SearchPosts,e);return new s.a(n.a.SearchPosts,t,"",c.a.Sent)},createFetchPostUserRequest:e=>{const t=r.a.createServerRequestId(n.a.ProfileGetPosts,e);return new s.a(n.a.ProfileGetPosts,t,"",c.a.Sent)},sortImuObjectsDate:e=>e.sort(((e,t)=>parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10))),createFetchAlbumRequest:e=>{const t=r.a.createServerRequestId(n.a.ProfileGetAlbums,e);return new s.a(n.a.ProfileGetAlbums,t,"",c.a.Sent)}}},5:function(e,t,a){"use strict";a.d(t,"d",(function(){return E})),a.d(t,"t",(function(){return _})),a.d(t,"u",(function(){return O})),a.d(t,"o",(function(){return b})),a.d(t,"p",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"f",(function(){return S})),a.d(t,"e",(function(){return f})),a.d(t,"s",(function(){return g})),a.d(t,"h",(function(){return I})),a.d(t,"q",(function(){return A})),a.d(t,"w",(function(){return T})),a.d(t,"j",(function(){return v})),a.d(t,"r",(function(){return x})),a.d(t,"v",(function(){return j})),a.d(t,"i",(function(){return C})),a.d(t,"g",(function(){return D})),a.d(t,"x",(function(){return L})),a.d(t,"b",(function(){return R})),a.d(t,"l",(function(){return w})),a.d(t,"a",(function(){return N})),a.d(t,"m",(function(){return y})),a.d(t,"n",(function(){return P})),a.d(t,"c",(function(){return U}));var r=a(22),n=a(32),s=a(130),c=a(43),o=a(9),i=a(65),u=a(28),p=a(27),d=a(17);const l=u.a.get(o.a.CommonService),E=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]),n=M(r);return t(p.a(n)),l.addFeed(e).then((()=>{n.status=d.a.OK,t(p.a(n))})).catch((e=>{t(g(e.message)),n.status=d.a.Error,t(p.a(n))}))},_=()=>e=>e(g(s.a.t("common.sentRequestMessage"))),O=()=>e=>e(g(s.a.t("common.successfulRequestMessage"))),b=(e,t)=>({type:r.a.PROGRESS_CHANGE,payload:{percent:e,visible:t}}),h=(e,t,a,n)=>({type:r.a.PROGRESS_CHANGE_WITH_KEY,payload:{percent:e,visible:t,progressKey:a,meta:n}}),m=()=>({type:r.a.INIT_LOCALE,payload:null}),S=()=>({type:r.a.DEFAULT_DATA_ENABLE}),f=()=>({type:r.a.DEFAULT_DATA_DISABLE}),g=e=>((!e||""===e||e&&""===e.trim())&&(e="Bad request"),{type:r.a.SHOW_MESSAGE_GLOBAL,payload:{message:e}}),I=()=>(v(),{type:r.a.HIDE_MESSAGE_GLOBAL}),A=e=>({type:r.a.SET_HEADER_TITLE,payload:e}),T=()=>({type:r.a.SHOW_TOP_LOADING}),v=()=>({type:r.a.HIDE_TOP_LOADING}),x=()=>({type:r.a.SHOW_MASTER_LOADING}),j=()=>({type:r.a.SHOW_SEND_FEEDBACK}),C=()=>({type:r.a.HIDE_SEND_FEEDBACK}),D=()=>({type:r.a.HIDE_MASTER_LOADING}),L=e=>({type:r.a.TEMP,payload:e}),R=()=>({type:r.a.CLEAR_ALL_GLOBAL}),w=()=>(e,t)=>{},N=()=>({type:r.a.CLEAR_LOADED_DATA}),y=()=>({type:r.a.LOAD_INITIAL_DATA}),P=e=>({type:r.a.OPEN_DIALOG,payload:{type:e}}),U=e=>({type:r.a.CLOSE_DIALOG,payload:{type:e}}),M=e=>{const t=c.a.createServerRequestId(n.a.CommonSendFeedback,e);return new i.a(n.a.CommonSendFeedback,t,"",d.a.Sent)}},57:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_NOTIFY="ADD_NOTIFY",e.DB_FETCH_NOTIFICATIONS="DB_FETCH_NOTIFICATIONS",e.ADD_NOTIFY_LIST="ADD_NOTIFY_LIST",e.ADD_PLAIN_NOTIFY_LIST="ADD_PLAIN_NOTIFY_LIST",e.DELETE_NOTIFY="DELETE_NOTIFY",e.SEEN_NOTIFY="SEEN_NOTIFY",e.CLEAR_ALL_DATA_NOTIFY="CLEAR_ALL_DATA_NOTIFY"}(r||(r={}))},61:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_VOTE="ADD_VOTE",e.DELETE_VOTE="DELETE_VOTE",e.ADD_VOTE_LIST="ADD_VOTE_LIST",e.CLEAR_ALL_DATA_VOTE="CLEAR_ALL_DATA_VOTE",e.ASYNC_ADD_NEW_VOTE="ASYNC_ADD_NEW_VOTE",e.ASYNC_DELETE_VOTE="ASYNC_DELETE_VOTE"}(r||(r={}))},62:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"j",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"o",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"n",(function(){return l})),a.d(t,"f",(function(){return E})),a.d(t,"k",(function(){return _})),a.d(t,"g",(function(){return O})),a.d(t,"l",(function(){return b})),a.d(t,"m",(function(){return h})),a.d(t,"i",(function(){return m}));var r=a(19);const n=e=>({type:r.a.DB_CREATE_CHAT_MESSAGE,payload:e}),s=(e,t,a)=>({type:r.a.DB_SET_CHAT_LANGUAGE,payload:{input:e,output:t,roomId:a}}),c=(e,t)=>({type:r.a.ADD_CHAT_ROOM_MESSAGES,payload:{messages:e,chatRoomId:t}}),o=()=>({type:r.a.WS_CONNECT,payload:{}}),i=e=>({type:r.a.ASYNC_CREATE_CHAT_REQUEST,payload:{recUserId:e}}),u=e=>({type:r.a.ASYNC_CANCEL_CHAT_REQUEST,payload:{recUserId:e}}),p=e=>({type:r.a.ASYNC_IGNORE_CHAT_REQUEST,payload:{reqUserId:e}}),d=e=>({type:r.a.ASYNC_ACCEPT_CHAT_REQUEST,payload:{reqUserId:e}}),l=e=>({type:r.a.SET_CURRENT_CHAT,payload:{userId:e}}),E=()=>({type:r.a.CLOSE_CHAT}),_=()=>({type:r.a.OPEN_CHAT}),O=()=>({type:r.a.CLOSE_RECENT_CHAT}),b=()=>({type:r.a.OPEN_RECENT_CHAT}),h=e=>({type:r.a.REMOVE_CHAT_HISTORY,payload:{roomId:e}}),m=e=>({type:r.a.DB_REMOVE_CHAT_HISTORY,payload:{roomId:e}})},65:function(e,t,a){"use strict";var r=a(106);a.d(t,"a",(function(){return r.a}))},67:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.SET_USER_SETTING="SET_USER_SETTING",e.UPDATE_USER_SETTING="UPDATE_USER_SETTING",e.DB_UPDATE_USER_SETTING="DB_UPDATE_USER_SETTING",e.DB_FETCH_USER_SETTING="DB_FETCH_USER_SETTING",e.CLEAR_ALL_USER_SETTING="CLEAR_ALL_USER_SETTING"}(r||(r={}))},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var r=a(47),n=a(4),s=a(26);const c=(e,t)=>e.getIn(["post","entities",t.postId],Object(n.Map)({})),o=e=>e.getIn(["post","stream","hasMoreData"],!0),i=e=>e.getIn(["post","search","hasMoreData"],!0),u=e=>e.getIn(["post","stream","list"],Object(n.Map)({})),p=e=>e.getIn(["post","search","list"],Object(n.Map)({})),d=(e,t)=>e.getIn(["user","post",t.userId,"list"],Object(n.Map)({})),l=e=>e.getIn(["post","entities"],Object(n.Map)({})),E=e=>e.getIn(["post","stream","lastPageRequest"],0),_={getPost:c,getStreamPage:E,getStreamLastPostId:e=>e.getIn(["post","stream","lastPostId"],""),getSearchKey:e=>e.getIn(["post","searchKey"]),getProfileLastPostRequest:(e,t)=>e.getIn(["user","post",t.userId,"lastPageRequest"],0),getSearchLastPostId:e=>e.getIn(["post","search","lastPostId"],""),getProfileLatPostId:(e,t)=>e.getIn(["user","post",t.userId,"lastPostId"],""),getInstagramPosts:e=>e.getIn(["post","instagram"],Object(n.Map)({})),selectPost:()=>Object(s.a)([c],(e=>e)),selectHasMorePostStream:()=>Object(s.a)([o],(e=>e)),selectHasMorePostSeach:()=>Object(s.a)([i],(e=>e)),selectSearchPosts:()=>Object(s.a)([p,l],((e,t)=>{let a=Object(n.List)([]);return e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty()?Object(n.List)([]):r.a.sortImuObjectsDate(a)})),selectStreamPosts:()=>Object(s.a)([u,l],((e,t)=>{let a=Object(n.List)([]);return e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty()?Object(n.List)([]):r.a.sortImuObjectsDate(a)})),selectProfilePosts:()=>Object(s.a)([d,l],((e,t)=>{let a=Object(n.List)([]);return e.forEach(((e,r)=>{if(e){const e=t.get(r);e&&(a=a.push(e))}})),a.isEmpty()?Object(n.List)([]):r.a.sortImuObjectsDate(a)})),selectStreamPage:()=>Object(s.a)([E],(e=>e))}},75:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.OnlyMe="OnlyMe",e.Public="Public",e.Circles="Circles",e.Custom="Custom"}(r||(r={}))},76:function(e,t,a){"use strict";a.d(t,"i",(function(){return _})),a.d(t,"h",(function(){return O})),a.d(t,"g",(function(){return b})),a.d(t,"n",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"a",(function(){return S})),a.d(t,"m",(function(){return f})),a.d(t,"b",(function(){return g})),a.d(t,"j",(function(){return I})),a.d(t,"l",(function(){return A})),a.d(t,"o",(function(){return T})),a.d(t,"c",(function(){return x})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return C})),a.d(t,"d",(function(){return D}));a(8);var r=a(109),n=a(177),s=a(42),c=a(14),o=a(9),i=a(4),u=a(28),p=a(5),d=a(27),l=a(17),E=a(20);const _=e=>({type:s.a.LOGIN,payload:Object(i.Map)(e)}),O=(e,t)=>({type:s.a.ASYNC_FETCH_USER_REGISTER_TOKEN,payload:{user:e,captchaVerifier:t}}),b=()=>({type:s.a.ASYNC_FETCH_ACCESS_TOKEN,payload:{}}),h=e=>({type:s.a.SET_USER_REGISTER_TOKEN,payload:{token:e}}),m=e=>({type:s.a.SET_ACCESS_TOKEN,payload:{token:e}}),S=()=>({type:s.a.ASYNC_SET_LOGIN,payload:{}}),f=e=>({type:s.a.SET_LOGIN,payload:{status:e}}),g=e=>({type:s.a.ASYNC_VERITY_USER_REGISTER_CODE,payload:{code:e}}),I=()=>({type:s.a.LOGOUT}),A=e=>({type:s.a.SET_SIGNUP_STEP,payload:{step:e}}),T=()=>({type:s.a.SUBSCRIBE_AUTH_STATE_CHANGE}),v=u.a.get(o.a.AuthorizeService),x=(e,t)=>a=>{const s=r.a.createLoginRequest(e);return a(d.a(s)),a(p.t()),v.login(e,t).then((e=>{if(!e)throw new c.a("authService/loginuser/null","Login was not successful");s.status=l.a.OK,a(d.a(s)),a(p.u()),a(_(e)),a(Object(n.a)("/"))}),(e=>{s.status=l.a.Error,a(d.a(s)),a(p.s(e.message))}))},j=()=>e=>{v.logout(),localStorage.removeItem("red-gold.scure.token"),e(I()),window.location.href=E.a.gateway.gateway_url+"/auth/login"},C=(e,t)=>a=>(a(p.t()),v.updatePassword(e,t).then((()=>{a(p.u()),a({type:s.a.UPDATE_PASSWORD}),a(j())})).catch((e=>{switch(e.code){case"auth/requires-recent-login":a(p.s(e.code)),a(j())}}))),D=e=>t=>(t(p.t()),v.loginWithOAuth(e).then((e=>{t(p.u()),t(_(e)),t(Object(n.a)("/"))})).catch((e=>{t(p.s(e.code))})))},80:function(e,t,a){"use strict";var r=a(176),n=a(15),s=a(501),c=a(132),o=a.n(c),i=a(72),u=a.n(i),p=a(0),d=a.n(p),l=a(97),E=a(59),_=a(29);class O extends p.Component{constructor(e){super(e)}loadProgress(){const e=this.props,t=e.error,a=e.timedOut,n=(e.pastDelay,e.t),c=e.theme;return t?(_.a.error("error",t),d.a.createElement(u.a,{container:!0},d.a.createElement(u.a,{item:!0},d.a.createElement(s.a,{style:{color:o.a[500]},size:50})),d.a.createElement(u.a,{item:!0,style:{zIndex:1}},d.a.createElement(r.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}},n("masterLoading.unexpectedError"))))):a?d.a.createElement(u.a,{container:!0},d.a.createElement(u.a,{item:!0},d.a.createElement(s.a,{style:{color:o.a[500]},size:50})),d.a.createElement(u.a,{item:!0,style:{zIndex:1}},d.a.createElement(r.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}},n("masterLoading.timeout")))):d.a.createElement(u.a,{container:!0},d.a.createElement(u.a,{item:!0},d.a.createElement(s.a,{style:{color:c.palette.primary.light},size:50})),d.a.createElement(u.a,{item:!0,style:{zIndex:1}},d.a.createElement(r.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}})))}render(){return d.a.createElement("div",{className:"mLoading__loading"},this.loadProgress())}}const b=Object(l.c)("translations")(O),h=Object(n.a)((()=>({})),{withTheme:!0})(b);t.a=Object(E.connect)((()=>({})),(()=>({})))(h)},81:function(e,t,a){"use strict";let r;a.d(t,"a",(function(){return r})),function(e){e.ADD_REQUEST="ADD_REQUEST",e.DELETE_REQUEST="DELETE_REQUEST",e.ERROR_REQUEST="ERROR_REQUEST",e.OK_REQUEST="OK_REQUEST",e.CLEAR_ALL_DATA_REQUEST="CLEAR_ALL_DATA_REQUEST"}(r||(r={}))},9:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={PermissionService:Symbol("PermissionService"),AuthorizeService:Symbol("AuthorizeService"),UserTieService:Symbol("UserTieService"),CircleService:Symbol("CircleService"),CommentService:Symbol("CommentService"),CommonService:Symbol("CommonService"),StorageService:Symbol("StorageService"),ImageGalleryService:Symbol("ImageGalleryService"),NotificationService:Symbol("NotificationService"),PostService:Symbol("PostService"),UserService:Symbol("UserService"),UserSettingService:Symbol("UserSettingService"),ChatService:Symbol("ChatService"),VoteService:Symbol("VoteService"),Httpervice:Symbol("Httpervice")}},92:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"l",(function(){return u})),a.d(t,"b",(function(){return p})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return l})),a.d(t,"c",(function(){return E})),a.d(t,"k",(function(){return _})),a.d(t,"d",(function(){return O}));var r=a(39);const n=e=>({type:r.a.ASYNC_ADD_NEW_COMMENT,payload:{newComment:e}}),s=(e,t,a,n)=>({type:r.a.DB_FETCH_COMMENTS,payload:{postId:t,ownerUserId:e,page:a,limit:n}}),c=e=>({type:r.a.ASYNC_UPDATE_COMMENT,payload:{comment:e}}),o=(e,t)=>({type:r.a.ASYNC_DELETE_COMMENT,payload:{postId:t,id:e}}),i=e=>({type:r.a.ADD_COMMENT,payload:e}),u=e=>({type:r.a.UPDATE_COMMENT,payload:{comment:e}}),p=(e,t)=>({type:r.a.ADD_COMMENT_LIST,payload:{postId:e,entities:t}}),d=(e,t)=>({type:r.a.DELETE_COMMENT,payload:{id:e,postId:t}}),l=e=>({type:r.a.NO_MORE_COMMENTS,payload:{postId:e}}),E=()=>({type:r.a.CLEAR_ALL_DATA_COMMENT}),_=e=>({type:r.a.OPEN_COMMENT_EDITOR,payload:e}),O=(e,t)=>({type:r.a.CLOSE_COMMENT_EDITOR,payload:{postId:e,id:t}})},94:function(e,t,a){"use strict";a.d(t,"g",(function(){return I})),a.d(t,"j",(function(){return A})),a.d(t,"o",(function(){return T})),a.d(t,"i",(function(){return v})),a.d(t,"n",(function(){return x})),a.d(t,"h",(function(){return j})),a.d(t,"k",(function(){return C})),a.d(t,"m",(function(){return D})),a.d(t,"l",(function(){return L})),a.d(t,"a",(function(){return M})),a.d(t,"d",(function(){return k})),a.d(t,"p",(function(){return G})),a.d(t,"e",(function(){return F})),a.d(t,"c",(function(){return B})),a.d(t,"b",(function(){return V})),a.d(t,"s",(function(){return q})),a.d(t,"r",(function(){return K})),a.d(t,"q",(function(){return W})),a.d(t,"f",(function(){return z}));var r=a(8),n=a(24),s=a(32),c=a(4),o=a(51),i=a.n(o),u=a(43),p=a(136),d=a(9),l=a(106),E=a(28),_=a(5),O=a(27),b=a(17),h=a(35),m=a(46),S=a(138);const f=E.a.get(d.a.CircleService),g=E.a.get(d.a.UserTieService),I=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]),n={creationDate:i.a.utc().valueOf(),name:e,isSystem:!1,ownerId:r};return f.addCircle(r,n).then((e=>{n.id=e,n.ownerId=r,t(y(Object(c.Map)(n)))}),(e=>t(_.s(e.message))))},A=(e,t)=>(a,n)=>{const s=n(),o=s.getIn(["authorize","uid"]),u=Object(r.a)(Object(r.a)({},m.a.getUserProfileById(s,{userId:o}).toJS()),{},{userId:o}),d=R(Object(S.b)(t.userId,"userFollowing.userId"));return a(O.a(d)),g.tieUseres({userId:u.userId,fullName:u.fullName,avatar:u.avatar,approved:!1},{userId:t.userId,fullName:t.fullName,avatar:t.avatar,approved:!1},[e]).then((()=>{a(h.q(o));let r=Object(c.Map)(new p.a(t.userId,i.a.utc().valueOf(),t.fullName,t.avatar,!1));r=r.set("circleIdList",Object(c.List)([e])),a(H(r)),d.status=b.a.OK,a(O.a(d))}),(e=>{a(_.s(e.message)),d.status=b.a.Error,a(O.a(d))}))},T=(e,t)=>(a,n)=>{const s=n(),o=s.getIn(["authorize","uid"]),u=Object(r.a)(Object(r.a)({},m.a.getUserProfileById(s,{userId:o}).toJS()),{},{userId:o}),d=w(Object(S.b)(t.userId,"userFollowing.userId"));return a(O.a(d)),a(_.r()),g.updateUsersTie({userId:u.userId,fullName:u.fullName,avatar:u.avatar,approved:!1},{userId:t.userId,fullName:t.fullName,avatar:t.avatar,approved:!1},e.toJS()).then((()=>{let r=Object(c.Map)(new p.a(t.userId,i.a.utc().valueOf(),t.fullName,t.avatar,!1));r=r.set("circleIdList",e),a(H(r)),d.status=b.a.OK,a(O.a(d)),a(_.g());const n=Object(S.b)(t.userId,"userFollowing.userId");a(z(n))}),(e=>{a(_.s(e.message)),a(_.g()),d.status=b.a.Error,a(O.a(d))}))},v=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]),n=N(e);return t(O.a(n)),t(_.r()),g.removeUsersTie(r,e).then((()=>{t(h.m(r)),t(Y(e)),t(_.g()),t(z(e)),n.status=b.a.OK,t(O.a(n))}),(a=>{t(_.s(a.message)),t(_.g()),t(z(e)),n.status=b.a.Error,t(O.a(n))}))},x=e=>(t,a)=>{const r=a(),n=r.getIn(["authorize","uid"]);let s=r.getIn(["circle","circleList",e.id]);s=s.set("name",e.name);const c=Object(S.b)(e.id,"newCircle.id");return f.updateCircle(n,c,s.toJS()).then((()=>{s=s.set("id",c),t(P(s))}),(e=>{t(_.s(e.message))}))},j=e=>(t,a)=>{const r=a().getIn(["authorize","uid"]);return f.deleteCircle(r,e).then((()=>{t(U(e))}),(e=>{t(_.s(e.message))}))},C=()=>({type:n.a.DB_FETCH_CIRCLES}),D=()=>({type:n.a.DB_FETCH_USER_TIES}),L=()=>({type:n.a.DB_FETCH_USER_TIEDS}),R=e=>{const t=u.a.createServerRequestId(s.a.CircleFollowUser,e);return new l.a(s.a.CircleFollowUser,t,"",b.a.Sent)},w=e=>{const t=u.a.createServerRequestId(s.a.CircleAddToCircle,e);return new l.a(s.a.CircleAddToCircle,t,"",b.a.Sent)},N=e=>{const t=u.a.createServerRequestId(s.a.CircleDeleteFollowingUser,e);return new l.a(s.a.CircleDeleteFollowingUser,t,"",b.a.Sent)},y=e=>({type:n.a.ADD_CIRCLE,payload:{circle:e}}),P=e=>({type:n.a.UPDATE_CIRCLE,payload:{circle:e}}),U=e=>({type:n.a.DELETE_CIRCLE,payload:{circleId:e}}),M=e=>({type:n.a.ADD_LIST_CIRCLE,payload:{circleList:e}}),k=()=>({type:n.a.CLEAR_ALL_CIRCLES}),G=e=>({type:n.a.OPEN_CIRCLE_SETTINGS,payload:{circleId:e}}),F=e=>({type:n.a.CLOSE_CIRCLE_SETTINGS,payload:{circleId:e}}),H=e=>({type:n.a.ADD_FOLLOWING_USER,payload:{userTie:e}}),B=e=>({type:n.a.ADD_USER_TIE_LIST,payload:{userTies:e}}),V=e=>({type:n.a.ADD_USER_TIED_LIST,payload:{userTieds:e}}),Y=e=>({type:n.a.DELETE_FOLLOWING_USER,payload:{userId:e}}),q=(e,t)=>({type:n.a.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e,circleList:t}}),K=e=>({type:n.a.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}}),W=e=>({type:n.a.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}}),z=e=>({type:n.a.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}})}},[[462,9,10]]]);