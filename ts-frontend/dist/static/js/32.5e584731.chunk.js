(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[32],{497:function(e,t,a){"use strict";a.r(t);var n,i=a(8),o=a(43),l=a(49),r=a(45),c=a(48),s=a(1122),m=a(696),u=a(1124),d=a(1157),p=a(524),g=a(474),h=a(528),f=a(1113),b=a(530),E=a(16),v=a(1123),_=a(178),O=a(647),k=a.n(O),w=a(642),j=a.n(w),C=a(646),x=a.n(C),S=a(154),y=a.n(S),N=a(179),T=a(0),I=a.n(T),P=a(106),L=a(61),D=a(95),z=a(22),B=a(81),M=a(126),U=a(86),W=a(800),A=a(824),H=a(780),F=a(531),G=a(1126),J=a(308),R=a(1127),V=a(15),q=a(4),K=a(27),Q=function(e){return e.getIn(["userSetting","entities"],Object(q.Map)({}))},X=function(){return Object(K.a)([Q],(function(e){return e}))};!function(e){e.send_email_on_like="send_email_on_like",e.send_email_on_follow="send_email_on_follow",e.send_email_on_comment_post="send_email_on_comment_post"}(n||(n={}));var Y,Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).handleToggle=function(e){return function(){var t=a.state.checked,n=t.getIn([e,"value"],"false");t="true"==n?t.setIn([e,"value"],"false"):t.setIn([e,"value"],"true"),a.setState({checked:t})}},a.state={checked:Object(q.Map)([]),initialiazed:!1},a.handleSaveChanges=a.handleSaveChanges.bind(Object(U.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return!t.initialiazed&&e.notificationSetting.count()>0?{initialiazed:!0,checked:e.notificationSetting}:null}}]),Object(o.a)(t,[{key:"handleSaveChanges",value:function(e){var t=this.state.checked;(0,this.props.updateUserSetting)("notification",t)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,i=this.state.checked;return I.a.createElement(H.a,{container:!0,spacing:2,className:t.notification},I.a.createElement(H.a,{item:!0,sm:12,xs:12,md:3,lg:4,xl:4,className:t.headerCaption},I.a.createElement(_.a,{variant:"h6"}," ",a("config.notificationLabel")," "),I.a.createElement(_.a,{variant:"caption"}," ",a("config.notificationCaption")," ")),I.a.createElement(H.a,{item:!0,sm:12,xs:12,md:9,lg:8,xl:8},I.a.createElement("div",{className:"animate-bottom"},I.a.createElement(J.a,{className:t.root},I.a.createElement(g.a,{subheader:I.a.createElement(G.a,null,a("config.notificationLabel"))},I.a.createElement(h.a,null,I.a.createElement(b.a,{primary:a("config.notification.emailOnVote")}),I.a.createElement(F.a,null,I.a.createElement(R.a,{onChange:this.handleToggle(n.send_email_on_like),checked:"true"===i.getIn([n.send_email_on_like,"value"],"false")}))),I.a.createElement(h.a,null,I.a.createElement(b.a,{primary:a("config.notification.emailOnFollow")}),I.a.createElement(F.a,null,I.a.createElement(R.a,{onChange:this.handleToggle(n.send_email_on_follow),checked:"true"===i.getIn([n.send_email_on_follow,"value"],"false")}))),I.a.createElement(h.a,null,I.a.createElement(b.a,{primary:a("config.notification.emailOnComment")}),I.a.createElement(F.a,null,I.a.createElement(R.a,{onChange:this.handleToggle(n.send_email_on_comment_post),checked:"true"===i.getIn([n.send_email_on_comment_post,"value"],"false")})))),I.a.createElement(A.a,null,I.a.createElement(W.a,{color:"primary",onClick:this.handleSaveChanges},a("config.saveChangesButton")," "))))))}}]),t}(T.Component),$=Object(P.c)("translations")(Z),ee=Object(D.withRouter)(Object(L.connect)((function(){var e=X();return function(t,a){return{notificationSetting:e(t).get("notification",Object(q.Map)({}))}}}),(function(e,t){return{updateUserSetting:function(t,a){return e(M.b(t,a))}}}))(Object(E.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},notification:Object(V.a)({},e.breakpoints.down("xs"),{marginTop:25}),headerCaption:{marginLeft:10}}}))($)));!function(e){e[e.ChangePassword=0]="ChangePassword",e[e.Notification=1]="Notification"}(Y||(Y={}));var te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).handleChange=function(e,t){a.setState({selectedItem:e,selectedText:t})},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={selectedItem:Y.Notification,selectedText:"",mobileOpen:!1},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getUserSetting)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.t,i=t.homePage,o=t.theme,l=t.userSetting,r=I.a.createElement("div",null,I.a.createElement(h.a,{button:!0,onClick:function(){return e.handleChange(Y.Notification,n("config.notificationLabel"))}},I.a.createElement(f.a,null,I.a.createElement(x.a,null)),I.a.createElement(b.a,{primary:n("config.notificationLabel")})),I.a.createElement(h.a,{button:!0,onClick:function(){i()}},I.a.createElement(f.a,null,I.a.createElement(k.a,null)),I.a.createElement(b.a,{primary:n("config.homeLabel")}))),c=this.state,E=c.selectedItem,O=c.selectedText,w=I.a.createElement(u.a,{variant:"permanent",classes:{paper:a.drawerPaper},anchor:"left"},I.a.createElement("div",{className:a.toolbar},I.a.createElement("img",{src:z.a.settings.logoHead,alt:z.a.settings.appName,className:a.logo})),I.a.createElement(m.a,null),I.a.createElement(g.a,null,r));return I.a.createElement("div",{className:a.root},I.a.createElement(s.a,{className:a.appBar,color:"secondary"},I.a.createElement(v.a,null,I.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:a.navIconHide},I.a.createElement(j.a,null)),I.a.createElement(_.a,{variant:"h6",color:"inherit",noWrap:!0},E===Y.ChangePassword?n("config.changePasswordLabel"):O))),I.a.createElement(d.a,{mdUp:!0},I.a.createElement(u.a,{variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},w)),I.a.createElement(d.a,{smDown:!0,implementation:"css"},I.a.createElement(u.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper,root:a.rootDawer}},w)),I.a.createElement("main",{className:y()(a.content,a.fullBox)},I.a.createElement("div",{className:a.toolbar}),I.a.createElement("div",{className:y()(a.container,a.fullBox)},I.a.createElement("div",{style:{height:30}}),E===Y.Notification?I.a.createElement(ee,{userSetting:l}):I.a.createElement("div",null))))}}]),t}(T.Component),ae=Object(P.c)("translations")(te),ne=Object(D.withRouter)(Object(L.connect)((function(e){return{userSetting:e.get("userSetting")}}),(function(e,t){return{login:function(t,a){e(B.dbLogin(t,a))},getUserSetting:function(){return e(M.a())},loginWithOAuth:function(t){return e(B.dbLoginWithOAuth(t))},homePage:function(){e(Object(N.a)("/"))}}}))(Object(E.a)((function(e){return{root:{flexGrow:1,height:"100%",zIndex:1,overflow:"hidden",position:"relative",display:"flex",width:"100%"},appBar:Object(V.a)({position:"absolute",marginLeft:240},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(V.a)({},e.breakpoints.up("md"),{display:"none"}),toolbar:{backgroundColor:e.palette.secondary.main,padding:10,textAlign:"center"},drawerPaper:Object(V.a)({width:240},e.breakpoints.up("md"),{position:"relative"}),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},appBarTitle:{fontSize:"x-large",textAlign:"center",marginLeft:15,fontWeight:300,paddingTop:"8%",color:e.palette.primary.main},container:{padding:"10px"},fullBox:Object(V.a)({},e.breakpoints.down("xs"),{padding:0,with:"100%",maxWidth:"100%"}),logo:{fill:"currentColor",height:"2em",display:"inline-block",fontSize:"17px",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",userSelect:"none",flexShrink:0},rootDawer:{height:"100%"}}}),{withTheme:!0})(ae)));t.default=ne}}]);