(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[7],{569:function(e,t,a){"use strict";var n=a(559),o=a(15),i=a(8),r=a(43),l=a(49),s=a(45),c=a(86),d=a(48),p=a(800),m=a(1128),u=a(1135),h=a(1129),g=a(177),b=a(1114),f=a(1117),v=a(1116),y=a(1115),C=a(696),O=a(780),E=a(524),x=a(279),w=a(1112),k=a(16),j=a(522),S=a(534),P=a(178),I=a(552),N=a.n(I),L=a(546),T=a.n(L),R=a(571),D=a.n(R),A=a(585),U=a.n(A),W=a(655),V=a.n(W),M=a(656),z=a.n(M),B=a(657),G=a.n(B),F=a(553),q=a(53),H=a(50),X=a(154),Y=a.n(X),J=a(0),Z=a.n(J),_=a(61),K=a(22),Q=a(106),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleAddLink=function(){var e=a.props,t=e.onAddLink,n=e.onClose,o=a.state.link;o&&""!==o.trim()&&t(o,H.a.validateYoutubeUrl(o)?H.a.getYoutubetThumbnails(o):K.a.settings.defaultVideoThumbnails);n()},a.handleInputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,i=t.name;"link"===i&&a.validateInputLink(n),a.setState(Object(o.a)({},i,n))},a.validateInputLink=function(e){var t=a.props.t;e&&""!==e.trim()?H.a.validateUrl(e.trim())?a.setState({linkInputError:"",disabledOk:!1}):a.setState({linkInputError:t("post.videoInputLinkInvalidError"),disabledOk:!0}):a.setState({linkInputError:t("post.videoInputLinkRequiredError"),disabledOk:!0})},a.state={link:"",linkInputError:"",disabledOk:!0},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.open,o=e.onClose,i=this.state,r=i.disabledOk,l=i.linkInputError;return Z.a.createElement(b.a,{PaperProps:{className:t.fullPageXs},open:n,onClose:o,maxWidth:"md"},Z.a.createElement(y.a,null,a("post.addVideoTitle")),Z.a.createElement(v.a,null,Z.a.createElement(j.a,{autoFocus:!0,margin:"dense",type:"link",name:"link",onChange:this.handleInputChange,helperText:l,error:""!==l,fullWidth:!0})),Z.a.createElement(f.a,null,Z.a.createElement(p.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:o,style:{color:g.a[800]}},a("post.cancelButton")),Z.a.createElement(p.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:this.handleAddLink,disabled:r},a("post.addVideoButton"))))}}]),t}(J.Component),ee=Object(Q.c)("translations")($),te=Object(_.connect)((function(e,t){return{}}),(function(e,t){return{}}))(Object(k.a)((function(e){return{fullPageXs:Object(o.a)({},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"}),dialogTitle:{padding:0}}}))(ee)),ae=a(608),ne=a(544),oe=a(1120),ie=a(1118),re=a(1119),le=a(532),se=a(556),ce=a.n(se),de=a(33),pe=a(135),me=a(1150),ue=a(5),he=a(46),ge=a(19),be=a(39),fe=a(539),ve=a(547),ye=a.n(ve),Ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).saveAlbum=function(){var e=a.props,t=e.progress,o=e.t,i=e.currentUser,r=a.state,l=r.accessUserList,s=r.permission,c=(H.a.isEmpty(a.state.albumName)?o("album.defaultAlbumName"):a.state.albumName,Object(n.a)(a.state.selectedPhotos)),d=[];c.slice(0,4).map((function(e){var a=t.getIn([e.fileName,"meta"],{url:""}),n=e.fileName.split(".")[0],o=new pe.a(n,0,0,a.url||URL.createObjectURL(e.src),a.url||URL.createObjectURL(e.src),e.fileName,"","",e.fileName,i.userId,0,"",0,0,"",!1,l,s);return d.push(o),{url:a.url,fileName:e.fileName,fileId:n}}))},a.deleteSelectedPhoto=function(e){var t=a.props.onDelete,o=Object(n.a)(a.state.selectedPhotos);o=o.filter((function(t){return t.fileName!==e})),a.setState({selectedPhotos:o}),t(e)},a.imageList=function(){var e=a.props,t=e.classes,n=e.progress;return a.state.selectedPhotos.map((function(e){var o=n.getIn([e.fileName,"percent"],0),i=n.getIn([e.fileName,"visible"],!1);return Z.a.createElement(ie.a,{key:"album-dialog-tile-".concat(e.fileName)},Z.a.createElement("img",{src:e.src,alt:"something"}),Z.a.createElement(re.a,{title:i?Z.a.createElement(le.a,{variant:"determinate",value:o,color:"secondary"}):"",actionIcon:i?"":Z.a.createElement(E.a,{className:t.icon,onClick:function(){return a.deleteSelectedPhoto(e.fileName)}},Z.a.createElement(ce.a,null))}))}))},a.gridTile=function(){var e=a.props.classes;return Z.a.createElement(oe.a,{cellHeight:100,className:e.gridList,cols:3},a.imageList())},a.state={selectedPhotos:[],prevPhotos:[]},a.imageList=a.imageList.bind(Object(c.a)(a)),a.deleteSelectedPhoto=a.deleteSelectedPhoto.bind(Object(c.a)(a)),a.saveAlbum=a.saveAlbum.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(r.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return me.a(e.photos,t.prevPhotos)?null:{selectedPhotos:Object(n.a)(e.photos),prevPhotos:e.photos}}}]),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return Z.a.createElement("div",{className:e.root},this.gridTile())}}]),t}(J.Component),Oe=Object(Q.c)("translations")(Ce),Ee=Object(k.a)((function(e){return{fullPageXs:{},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:30},gridList:{flexWrap:"nowrap",width:"100%",transform:"translateZ(0)"},icon:{color:"rgba(255, 255, 255, 0.54)"},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),marginBottom:20,backgroundColor:e.palette.background.default},paper:Object(o.a)({minHeight:"500px"},e.breakpoints.down("xs"),{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",borderRadius:0,margin:0}),information:{display:"flex",flexDirection:"column",padding:20},buttonProgress:{color:ye.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"}}}),{withTheme:!0})(Oe),xe=Object(_.connect)((function(){var e=be.a.selectCurrentUser(),t=fe.a.selectRequest();return function(a,n){var o=e(a).toJS(),i=H.a.createServerRequestId(de.a.GalleryCreateAlbum,o.userId),r=t(a,{requestId:i});return{currentUser:o,createAlbumRequestStatus:r?r.status:ge.a.NoAction}}}),(function(e,t){return{deleteImage:function(t,a){return e(he.dbDeleteImage(t,K.a.data.imageFolderPath,a))},progressChange:function(t,a){return e(ue.progressChange(t,a))}}}))(Ee),we=a(202),ke=a(593),je=a(1134),Se=a(654),Pe=a.n(Se),Ie=a(4),Ne=a(52),Le=a(122),Te=a.n(Le),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).styles={root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},uploadButton:{verticalAlign:"middle",fontWeight:400},uploadInput:{cursor:"pointer",position:"absolute",top:0,bottom:0,right:0,left:0,width:"100%",opacity:0},deleteVideo:{marginLeft:"5px",cursor:"pointer",color:"white"},addImage:{marginRight:"5px",cursor:"pointer",color:"white"}},a.fileInputRef=void 0,a.videoRef=void 0,a.blobFile=void 0,a.file=void 0,a.handleSetVideo=function(e,t,n){a.props.set(t,n),a.close()},a.togglePreview=function(){a.setState((function(e,t){return e.isPreview&&(a.fileInputRef.current.value=""),{isPreview:!e.isPreview}}))},a.handleDeleteVideo=function(e,t){a.props.deleteVideo(t)},a.onFileChange=function(e){var t=a.props,n=t.showError,o=t.t,i=F.a.getExtension(e.target.files[0].name),r=!1;F.a.checkMaxFileSize(e.target.files[0].size,K.a.settings.maxVideoFileSize)&&(r=!0,n(o("videGallery.maxExceedMessage")));var l="".concat(Te()(),".").concat(i);a.setState({isPreview:!0,fileName:l,isSaveDisabled:r}),a.file=e.currentTarget.files[0];var s=a.file.type,c=a.videoRef.current,d=c.canPlayType(s);""===d&&(d="no");var p=URL.createObjectURL(a.file);c.src=p},a.close=function(){a.props.close()},a.videoList=function(){return a.props.videos.map((function(e,t){return Z.a.createElement(ie.a,{key:e.id},Z.a.createElement("div",null,Z.a.createElement("div",{style:{overflowY:"hidden",overflowX:"auto"}},Z.a.createElement("ul",{style:{whiteSpace:"nowrap",padding:"0 6px",margin:"8px 0 0 0",verticalAlign:"bottom",flexShrink:0,listStyleType:"none"}},Z.a.createElement("div",{style:{display:"block"}},Z.a.createElement("div",{style:{display:"block",marginRight:"8px",transition:"transform .25s"}},Z.a.createElement("li",{style:{width:"100%",margin:0,verticalAlign:"bottom",position:"static",display:"inline-block"}},Z.a.createElement(ne.a,{fileName:e.thumbnail,style:{width:"100%",height:"auto"}}))))))),Z.a.createElement(re.a,{title:Z.a.createElement(ce.a,{style:a.styles.deleteVideo,onClick:function(t){return a.handleDeleteVideo(t,e.id)}}),titlePosition:"top",actionIcon:Z.a.createElement(Pe.a,{style:a.styles.addImage,onClick:function(t){return a.handleSetVideo(t,e.URL,e.thumbnail)}}),actionPosition:"left"}))}))},a.handleUploadVideo=function(){var e=a.props.uploadVideo,t=a.state.fileName;F.a.captureVideo(a.videoRef.current,null).toBlob((function(n){e(a.file,t,n),a.togglePreview()}),"image/jpeg",.95)},a.state={fileName:"",isPreview:!1,isSaveDisabled:!1},a.fileInputRef=Z.a.createRef(),a.videoRef=Z.a.createRef(),a.close=a.close.bind(Object(c.a)(a)),a.onFileChange=a.onFileChange.bind(Object(c.a)(a)),a.handleSetVideo=a.handleSetVideo.bind(Object(c.a)(a)),a.handleDeleteVideo=a.handleDeleteVideo.bind(Object(c.a)(a)),a.videoList=a.videoList.bind(Object(c.a)(a)),a.handleUploadVideo=a.handleUploadVideo.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.getVideoGallery;e&&e()}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.videos,n=e.classes,i=this.state,r=i.isPreview,l=i.isSaveDisabled,s=Z.a.createElement(oe.a,{cellHeight:180,className:Y()(n.gridList,Object(o.a)({},n.noDisplay,r))},Z.a.createElement(ie.a,{key:"upload-image-gallery"},Z.a.createElement("div",{style:{display:"flex",backgroundColor:"rgba(222, 222, 222, 0.52)",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}},Z.a.createElement("input",{accept:"video/mp4,video/x-m4v,video/*",style:this.styles.uploadInput,id:"raised-button-file",onChange:this.onFileChange,ref:this.fileInputRef,type:"file"}),Z.a.createElement("label",{htmlFor:"raised-button-file"},Z.a.createElement(p.a,{variant:"contained",component:"span",style:this.styles.uploadButton},t("imageGallery.uploadButton"))))),a&&a.count()>0?this.videoList():""),c=Z.a.createElement("div",{className:Y()(n.videoRoot,Object(o.a)({},n.noDisplay,!r))},Z.a.createElement("video",{className:Y()(n.video),controls:!0,autoPlay:!1,ref:this.videoRef}));return Z.a.createElement("div",{style:this.styles.root},Z.a.createElement(je.a,{in:!r},s),Z.a.createElement(je.a,{in:r},c),Z.a.createElement("div",{className:Y()(n.previewActions,Object(o.a)({},n.noDisplay,!r))},Z.a.createElement(p.a,{disabled:l,color:"primary",onClick:this.handleUploadVideo}," ",t("videGallery.saveButton")," "),Z.a.createElement(p.a,{onClick:this.togglePreview}," ",t("videGallery.backButton")," ")))}}]),t}(J.Component),De=Object(Q.c)("translations")(Re),Ae=Object(_.connect)((function(e){var t=e.getIn(["authorize","uid"]),a=Ne.a.getUserProfileById(e,{userId:t}).toJS();return{videos:e.getIn(["imageGallery","videos"],Object(Ie.Map)({})),avatar:a?a.avatar:""}}),(function(e,t){return{uploadVideo:function(t,a,n){return e(he.dbUploadVideo(t,a,n))},deleteVideo:function(t){return e(he.dbDeletedVideo(t))},getVideoGallery:function(){return e(he.dbGetVideoGallery())},showError:function(t){return e(ue.showMessage(t))}}}))(Object(k.a)((function(e){return{fullPageXs:Object(o.a)({},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"}),gridList:{width:500,height:450,overflowY:"auto"},noDisplay:{display:"none !important"},video:{width:"100%",height:"100%",position:"absolute",top:0,left:0},videoRoot:{position:"relative",padding:"39.25%",width:"100%",height:"100%"},previewActions:{justifyContent:"space-between",display:"flex",marginTop:10,width:"100%",height:"100%"}}}))(De)),Ue=a(80),We=a(584),Ve=a(204),Me=a(47),ze=a(181),Be=a(133),Ge=function(e,t){return{openAlbum:function(){return e(ue.openDialog(ze.a.Album))},closeAlbum:function(){return e(ue.closeDialog(ze.a.Album))},post:function(t,a){return e(Me.dbAddPost(t,a))},update:function(t,a){return e(Me.dbUpdatePost(t,a))},uploadImage:function(t,a){return e(he.dbUploadImage(t,a))}}},Fe=function(){var e=be.a.selectCurrentUser(),t=Be.a.selectDialogState(),a=Be.a.selectProgress();return function(n,o){var i=e(n).toJS(),r=t(n,{type:ze.a.Album}),l=a(n);return{postImageState:n.getIn(["imageGallery","status"]),ownerAvatar:i.avatar||"",ownerDisplayName:i.fullName||"",albumDialogOpen:r,progress:l}}},qe=a(527);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye,Je=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).selectedPhotos=[],a.handleToggleComments=function(){a.setState((function(e,t){return{disableSharing:!e.disableComments,disabledPost:!a.isPostChangeValid(e)}}))},a.handleToggleSharing=function(){a.setState((function(e,t){return{disableSharing:!e.disableSharing,disabledPost:!a.isPostChangeValid(e)}}))},a.handleTogglePermission=function(){a.setState((function(e,t){return{permissionOpen:!e.permissionOpen,disabledPost:!a.isPostChangeValid(e)}}))},a.handleRemoveImage=function(){a.setState((function(e,t){return{image:"",video:"",imageFullPath:"",postType:Ve.a.Text,disabledPost:!a.isPostChangeValid(e)}}))},a.closeAlbumDialog=function(){var e=a.props.closeAlbum;e&&e()},a.openAlbumDialog=function(){var e=a.props.openAlbum;e&&e()},a.handlePost=function(){a.setState({disabledPost:!1});var e=a.state,t=e.image,n=e.imageFullPath,o=e.disableComments,i=e.disableSharing,r=e.postText,l=e.video,s=e.thumbnail,c=e.postType,d=e.accessUserList,p=e.permission,m=e.galleryOpen,u=e.selectedPhotos,h=a.props,g=h.ownerAvatar,b=h.ownerDisplayName,f=h.edit,v=h.onRequestClose,y=h.post,C=h.update,O=h.postModel,E=h.progress;if(a.isPostChangeValid(a.state)){var x=q.b(r),w=new We.a;m&&u.forEach((function(e){var t=E.getIn([e.fileName,"meta"]),a=(e.fileName.split(".")[0],e.fileName,"");a=t?t.url:e.src,w.photos.push(a)}));var k={body:r,tags:x,image:t,video:l,thumbnail:s,imageFullPath:n,ownerAvatar:g,ownerDisplayName:b,disableComments:o,disableSharing:i,postTypeId:c,score:0,album:Xe({},w),viewCount:0,accessUserList:d,permission:p};if(f)C(O.set("body",r).set("tags",Object(Ie.List)(x)).set("image",t).set("imageFullPath",n).set("video",l).set("album",Object(Ie.fromJS)(Xe({},w))).set("thumbnail",s).set("disableComments",o).set("disableSharing",i).set("postTypeId",c).set("accessUserList",Object(Ie.List)(d)).set("permission",p),v);else y(k,v)}else a.setState({disabledPost:!0})},a.onRequestSetImage=function(e){a.setState({image:e,video:"",postType:Ve.a.Photo,disabledPost:!1})},a.onSetVideo=function(e,t){a.setState({image:"",thumbnail:t,video:e,postType:Ve.a.Video,disabledPost:!1})},a.handleOnChange=function(e){var t=e.target.value;a.setState({postText:t}),0===t.length||""===t.trim()||a.props.edit&&t.trim()===a.props.text?a.setState({postText:t,disabledPost:!0}):a.setState({postText:t,disabledPost:!1})},a.handleCloseGallery=function(){a.setState({galleryOpen:!1})},a.handleOpenGallery=function(){a.setState({galleryOpen:!0})},a.handleOpenVideoLink=function(){a.setState({videoLinkOpen:!0})},a.handleCloseVideoLink=function(){a.setState({videoLinkOpen:!1})},a.handleOpenVideoGallery=function(){a.setState({videoGalleryOpen:!0})},a.handleCloseVideoGallery=function(){a.setState({videoGalleryOpen:!1})},a.handleOpenMenu=function(e){a.setState({menuOpen:!0,menuAnchorEl:e.currentTarget})},a.handleCloseMenu=function(){a.setState({menuOpen:!1,menuAnchorEl:null})},a.handleAccessList=function(e,t){a.setState({accessUserList:e,permission:t,permissionOpen:!1})},a.handleDeletePhoto=function(e){var t=a.state,n=t.selectedPhotos,o=t.postText,i=[];n.forEach((function(t){e!==t.fileName&&i.push(t)}));var r=!0,l=0===o.length||""===o.trim()||a.props.edit&&o.trim()===a.props.text;(i&&i.length>0||!l)&&(r=!1),a.setState({selectedPhotos:[].concat(i),disabledPost:r})},a.onUploadAlbumChange=function(e){var t=a.props.uploadImage,o=a.state,i=o.galleryOpen,r=o.selectedPhotos;if(t){for(var l=e.currentTarget.files,s=[],c=0;c<l.length;c++){var d=l[c],p=F.a.getExtension(d.name),m="".concat(Te()(),".").concat(p);s.push({src:URL.createObjectURL(d),fileName:m}),t(d,m)}var u=[].concat(Object(n.a)(r),s);l.length>3&&!i?(a.selectedPhotos=u.map((function(e){return{file:e.src,fileName:e.fileName}})),a.openAlbumDialog()):a.setState({selectedPhotos:Object(n.a)(u),galleryOpen:!0,disabledPost:!1,postType:Ve.a.PhotoGallery}),e.currentTarget.value=null}},a.isPostChangeValid=function(e){var t=e.image,a=e.video,n=e.postText,o=e.selectedPhotos;return!H.a.isEmpty(t)||!H.a.isEmpty(a)||!H.a.isEmpty(n)||o&&o.length>0},a.getPermissionLabel=function(){var e=a.props.t,t=a.state.permission,n="";return t===Ue.a.Public?n=e("permission.public"):t===Ue.a.Circles?n=e("permission.circles"):t===Ue.a.OnlyMe&&(n=e("permission.onlyMe")),n};var o=e.postModel,r=o&&o.getIn(["album","photos"],Object(Ie.List)([])),d=e.edit&&o&&o.get("postTypeId",0)===Ve.a.PhotoGallery?r.map((function(e){return Object(Ie.Map)({src:e,fileName:e,loaded:!0})})).toJS():[],p=!!(a.props.edit&&d&&d.length>0);return a.state={postText:a.props.edit&&o?o.get("body",""):"",image:a.props.edit&&o?o.get("image",""):"",imageFullPath:a.props.edit&&o?o.get("imageFullPath",""):"",galleryOpen:p,menuOpen:!1,disabledPost:!0,disableComments:!(!a.props.edit||!o)&&o.get("disableComments",!1),disableSharing:!(!a.props.edit||!o)&&o.get("disableSharing",!1),videoLinkOpen:!1,videoGalleryOpen:!1,permissionOpen:!1,video:a.props.edit&&o?o.get("video",""):"",thumbnail:a.props.edit&&o?o.get("thumbnail",""):"",postType:a.props.edit&&o?o.get("postTypeId",Ve.a.Text):Ve.a.Text,accessUserList:a.props.edit&&o?o.get("accessUserList",[]):[],permission:a.props.edit&&o?o.get("permission",Ue.a.Public):Ue.a.Public,selectedPhotos:d,album:a.props.edit&&o?o.get("album",Object(Ie.Map)({photos:Object(Ie.List)([])})):Object(Ie.Map)({photos:Object(Ie.List)([])})},a.handleOnChange=a.handleOnChange.bind(Object(c.a)(a)),a.handleCloseGallery=a.handleCloseGallery.bind(Object(c.a)(a)),a.handleOpenGallery=a.handleOpenGallery.bind(Object(c.a)(a)),a.onRequestSetImage=a.onRequestSetImage.bind(Object(c.a)(a)),a.handlePost=a.handlePost.bind(Object(c.a)(a)),a.handleRemoveImage=a.handleRemoveImage.bind(Object(c.a)(a)),a.handleToggleComments=a.handleToggleComments.bind(Object(c.a)(a)),a.handleToggleSharing=a.handleToggleSharing.bind(Object(c.a)(a)),a.handleTogglePermission=a.handleTogglePermission.bind(Object(c.a)(a)),a.isPostChangeValid=a.isPostChangeValid.bind(Object(c.a)(a)),a.getPermissionLabel=a.getPermissionLabel.bind(Object(c.a)(a)),a.onUploadAlbumChange=a.onUploadAlbumChange.bind(Object(c.a)(a)),a.handleDeletePhoto=a.handleDeletePhoto.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.progress,i=e.albumDialogOpen,r=this.state,l=r.menuOpen,s=r.videoLinkOpen,c=r.image,d=r.postType,k=r.galleryOpen,I=r.selectedPhotos,L=r.thumbnail,R=r.permissionOpen,A=r.permission,W=r.menuAnchorEl,M=void 0!==i&&i,B=Z.a.createElement("div",null,Z.a.createElement(S.a,{id:"tooltip-icon",title:a("post.moreTooltip"),placement:"bottom-start"},Z.a.createElement(E.a,{onClick:this.handleOpenMenu},Z.a.createElement(T.a,null))),Z.a.createElement(x.a,{open:l,anchorEl:W,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:this.handleCloseMenu},Z.a.createElement(w.a,{onClick:this.handleToggleComments,style:{fontSize:"14px"}},this.state.disableComments?a("post.enableComments"):a("post.disableComments")," "),Z.a.createElement(w.a,{onClick:this.handleToggleSharing,style:{fontSize:"14px"}},(this.state.disableSharing,a("post.disableSharing"))))),F=Z.a.createElement(we.a,{fullName:this.props.ownerDisplayName,fileName:this.props.ownerAvatar,size:36}),q=Z.a.createElement("div",{className:t.author},Z.a.createElement("span",{style:{fontSize:"14px",paddingRight:"10px",fontWeight:400,color:"rgba(0,0,0,0.87)",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"25px"}},"".concat(this.props.ownerDisplayName," |")),Z.a.createElement("span",{onClick:this.handleTogglePermission,className:Y()(t.permission,t.disableComponent)},"".concat(this.getPermissionLabel()))),H=c&&""!==c&&d===Ve.a.Photo||L&&""!==L&&d===Ve.a.Video?Z.a.createElement("div",null,Z.a.createElement("div",{style:{position:"relative",overflowY:"hidden",overflowX:"auto"}},Z.a.createElement("ul",{style:{position:"relative",whiteSpace:"nowrap",padding:"0 0 0 16px",margin:"8px 0 0 0",paddingRight:"16px",verticalAlign:"bottom",flexShrink:0,listStyleType:"none"}},Z.a.createElement("div",{style:{display:"flex",position:"relative"}},Z.a.createElement("span",{onClick:this.handleRemoveImage,style:{position:"absolute",width:"28px",backgroundColor:"rgba(6, 6, 6, 0.82)",height:"28px",right:12,top:4,cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},Z.a.createElement(V.a,{style:{color:"rgba(239, 235, 235, 0.83)"}})),Z.a.createElement("span",{className:Y()(t.playVideo,Object(o.a)({},t.noDisplay,d!==Ve.a.Video)),style:{}},Z.a.createElement(U.a,{className:t.playIcon})),Z.a.createElement("div",{style:{display:"inline-block",width:"100%",marginRight:"8px",transition:"transform .25s"}},Z.a.createElement("li",{style:{width:"100%",margin:0,verticalAlign:"bottom",position:"static"}},Z.a.createElement(ne.a,{fileName:d===Ve.a.Photo?c:L,style:{width:"100%",height:"auto"}}))))))):"";return Z.a.createElement("div",{style:this.props.style},this.props.children,Z.a.createElement(b.a,{BackdropProps:{className:t.backdrop},PaperProps:{className:t.fullPageXs},key:this.props.id||0,open:this.props.open,onClose:this.props.onRequestClose},Z.a.createElement(y.a,{className:t.dialogTitle},Z.a.createElement(h.a,{title:q,avatar:F,action:B})),Z.a.createElement(v.a,{className:t.content,style:{paddingTop:0}},Z.a.createElement(m.a,{elevation:0},Z.a.createElement(u.a,null,Z.a.createElement(O.a,{item:!0,xs:12},Z.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},Z.a.createElement("div",{style:{position:"relative",flexDirection:"column",display:"flex",flexGrow:1,overflowY:"auto",maxHeight:"300px"}},Z.a.createElement(j.a,{autoFocus:!0,value:this.state.postText,onChange:this.handleOnChange,placeholder:a("post.textareaPlaceholder"),multiline:!0,rows:2,rowsMax:4,style:{fontWeight:400,fontSize:"14px",margin:"0 16px",flexShrink:0,width:"initial",flexGrow:1}}),H,k&&Z.a.createElement(xe,{photos:I,progress:n,onDelete:this.handleDeletePhoto}))))))),Z.a.createElement(f.a,{className:t.iconButtonsRoot},Z.a.createElement("div",{style:{flexShrink:0,boxFlex:0,flexGrow:0,maxHeight:"48px",width:"100%"}},Z.a.createElement("div",{style:{flexDirection:"row",display:"flex"}},Z.a.createElement("input",{accept:"image/*",className:t.input,id:"album-button-file",multiple:!0,onChange:this.onUploadAlbumChange,type:"file"}),Z.a.createElement("div",{style:{outline:"none",width:"48px",zIndex:0,overflow:"hidden",position:"relative",textAlign:"center",transition:"background .3s",border:0,borderRadius:"50%",display:"inlineBlock",height:"48px"}},Z.a.createElement("span",{style:{top:"15px",display:"block",position:"relative",cursor:"pointer"}},Z.a.createElement("label",{htmlFor:"album-button-file"},Z.a.createElement(D.a,{style:{color:"grey"}})))),Z.a.createElement("div",{onClick:this.handleOpenVideoLink,style:{outline:"none",width:"48px",zIndex:0,overflow:"hidden",position:"relative",textAlign:"center",transition:"background .3s",border:0,borderRadius:"50%",display:"inlineBlock",height:"48px"}},Z.a.createElement("span",{style:{top:"12px",display:"block",position:"relative",cursor:"pointer"}},Z.a.createElement(z.a,{style:{color:"grey",width:30,height:30}}))),Z.a.createElement("div",{className:t.disableComponent,onClick:this.handleOpenVideoGallery,style:{outline:"none",width:"48px",zIndex:0,overflow:"hidden",position:"relative",textAlign:"center",transition:"background .3s",border:0,borderRadius:"50%",display:"inlineBlock",height:"48px"}},Z.a.createElement("span",{style:{top:"14px",display:"block",position:"relative",cursor:"pointer"}},Z.a.createElement(G.a,{style:{color:"grey",width:24,height:24}})))))),Z.a.createElement(f.a,null,Z.a.createElement(p.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:this.props.onRequestClose,style:{color:g.a[800]}},a("post.cancelButton")),Z.a.createElement(p.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:this.handlePost,disabled:this.state.disabledPost},this.props.edit?a("post.updateButton"):a("post.postButton")))),M?Z.a.createElement(ae.a,{open:M,progress:n,photos:this.selectedPhotos,onClose:this.closeAlbumDialog}):"",Z.a.createElement(b.a,{PaperProps:{className:Y()(t.fullPageXs,t.videoGallery)},open:this.state.videoGalleryOpen,onClose:this.handleCloseVideoGallery},Z.a.createElement(f.a,{className:t.galleryActions},Z.a.createElement(P.a,{variant:"h6",component:"div",className:t.galleryDialogTitle},Z.a.createElement(G.a,{style:{color:"rgb(230, 35, 35)",margin:"0 10px",width:24,height:24}}),a("post.videoGalleryLabel")),Z.a.createElement(E.a,{onClick:this.handleCloseVideoGallery},Z.a.createElement(N.a,null))),Z.a.createElement(C.a,{className:t.devider}),Z.a.createElement(v.a,null,Z.a.createElement(Ae,{set:this.onSetVideo,close:this.handleCloseVideoGallery}))),Z.a.createElement(te,{open:s,onClose:this.handleCloseVideoLink,onAddLink:this.onSetVideo}),Z.a.createElement(ke.a,{onClose:this.handleTogglePermission,open:R,onAddAccessList:this.handleAccessList,access:A}))}}]),t}(J.Component),Ze=Object(Q.c)("translations")(Je),_e=(Ye=Object(k.a)((function(e){return Object(qe.a)({fullPageXs:Object(o.a)({minWidth:500,maxWidth:500,maxHeight:540},e.breakpoints.down("xs"),{minWidth:"100%",maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",margin:0,overflowY:"auto"}),backdrop:{top:0,left:0,width:"100%",height:"100%",position:"fixed",willChange:"opacity",backgroundColor:"rgba(251, 249, 249, 0.5)",WebkitTapHighlightColor:"transparent"},input:{},content:{padding:0,paddingTop:0},dialogRoot:{paddingTop:0},popperOpen:{zIndex:10},popperClose:{pointerEvents:"none",zIndex:0},author:{paddingRight:70},dialogTitle:{padding:0},iconButtonsRoot:{justifyContent:"flex-start",margin:"0px 4px"},playVideo:{position:"absolute",right:"45%",top:"45%",cursor:"pointer",backgroundColor:"#f1efeca3",borderRadius:"50%",height:60,padding:0},playIcon:{width:60,height:60,fill:"red"},noDisplay:{display:"none"},playIconButtonRoot:{width:60,height:60},galleryActions:{margin:0,background:"#fff",WebkitBoxSizing:"border-box",boxSizing:"border-box",height:56,textAlign:"center",padding:4,minWidth:0,display:"flex",flexDirection:"row",justifyContent:"space-between"},galleryDialogTitle:{color:"#676767"},galleryDialogIcon:{},galleryAction:{margin:0,padding:0,minWidth:0},devider:{marginBottom:10},videoGallery:{},permission:{fontWeight:400,fontSize:"14px",cursor:"pointer",color:"blue"},disableComponent:{opacity:"0.2","pointer-events":"none"}})}))(Ze),Object(_.connect)(Fe,Ge)(Ye));t.a=_e},592:function(e,t,a){"use strict";var n=a(15),o=a(8),i=a(43),r=a(49),l=a(45),s=a(86),c=a(48),d=a(1128),p=a(824),m=a(1135),u=a(1129),h=a(1144),g=a(760),b=a(524),f=a(532),v=a(279),y=a(1112),C=a(16),O=a(684),E=a.n(O),x=a(629),w=a.n(x),k=a(683),j=a.n(k),S=a(546),P=a.n(S),I=a(585),N=a.n(I),L=a(630),T=a.n(L),R=a(154),D=a.n(R),A=a(0),U=a.n(A),W=a(4),V=a(1150),M=a(800),z=a(1130),B=a(696),G=a(308),F=a(522),q=a(474),H=a(53),X=a(473),Y=a(471),J=a(470),Z=a(202),_=a(58),K=a.n(_),Q=a(36),$=a(180),ee=a(61),te=a(106),ae=a(583),ne=a.n(ae),oe=a(155),ie=a(38),re=a(52),le=function(e){return{textField:{fontWeight:400,fontSize:"14px ",width:"100%",margin:0,WebkitBoxShadow:"none",boxShadow:"none",borderColor:"transparent",height:38,border:"1px solid #000",resize:"none"},header:{padding:"2px 3px 3px 10px"},popperOpen:{zIndex:11},popperClose:{pointerEvents:"none",zIndex:0},iconButton:{top:0,display:"flex",right:4,flexDirection:"row-reverse",position:"absolute"},commentBody:{color:"black",fontWeight:400,fontSize:"12px",height:"100%",border:"none",width:"100%",outline:"none",resize:"none"},rightIconMenuItem:{fontSize:12,fontWeight:300,paddingLeft:6,paddingRight:6,paddingTop:0,paddingBottom:0},moreIcon:{width:"0.6em",height:"0.6em"},menuRoot:{marginTop:7,marginRight:7}}},se=a(39),ce=function(e,t){return{delete:function(t,a){return e(oe.dbDeleteComment(t,a))},update:function(t){e(oe.dbUpdateComment(t))},openEditor:function(){return e(oe.openCommentEditor({id:t.comment.get("id","0"),postId:t.comment.get("postId")}))},closeEditor:function(){return e(oe.closeCommentEditor(t.comment.get("postId"),t.comment.get("id","0")))},getUserInfo:function(){return e(ie.dbGetUserInfoByUserId(t.comment.get("ownerUserId","0"),""))}}},de=function(){var e=se.a.selectCurrentUser(),t=re.a.selectUserProfileById();return function(a,n){var o=n.comment.get("ownerUserId","0"),i=e(a),r=i.get("userId","0");return{uid:r,avatar:n.comment.get("ownerAvatar","0"),fullName:i.get("ownerDisplayName","loading..."),isCommentOwner:r===o,commentOwner:t(a,{userId:o})}}},pe=function(e){var t=Object(te.c)("translations")(e);return Object(ee.connect)(de,ce)(ne()(le)(t))}(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).buttonMenu=null,a.styles={author:{fontSize:"10px",paddingRight:"10px",fontWeight:400,color:"rgba(0,0,0,0.87)",textOverflow:"ellipsis",overflow:"hidden"},textarea:{fontWeight:400,fontSize:"14px",border:"none",width:"100%",outline:"none",resize:"none"},cancel:{float:"right",clear:"both",zIndex:5,margin:"0px 5px 5px 0px",fontWeight:400}},a.textareaRef=void 0,a.divCommentRef=void 0,a.inputText=void 0,a.divComment=void 0,a.handleEditComment=function(e){a.setState({openMenu:!1}),a.props.openEditor()},a.handleCancelEdit=function(e){a.setState({text:a.state.initialText}),a.props.closeEditor()},a.handleUpdateComment=function(e){var t=a.props.comment.set("text",a.state.text);a.props.update(t),a.setState({initialText:a.state.text})},a.handleOnChange=function(e){var t=e.target.value;0===t.length||""===t.trim()||t.trim()===a.state.initialText?a.setState({text:t,editDisabled:!0}):a.setState({text:t,editDisabled:!1})},a.handleDelete=function(e,t,n){a.props.delete(t,n)},a.handleCommentMenu=function(e){a.setState({openMenu:!0,anchorEl:Object(Q.findDOMNode)(a.buttonMenu)})},a.handleCloseCommentMenu=function(){a.setState({openMenu:!1})},a.textareaRef=function(e){a.inputText=e},a.divCommentRef=function(e){a.divComment=e},a.state={text:a.props.comment.get("text",""),initialText:a.props.comment.get("text",""),editDisabled:!0,isPostOwner:!1,openMenu:!1,anchorEl:null},a.handleDelete=a.handleDelete.bind(Object(s.a)(a)),a.handleUpdateComment=a.handleUpdateComment.bind(Object(s.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(s.a)(a)),a.handleCancelEdit=a.handleCancelEdit.bind(Object(s.a)(a)),a.handleEditComment=a.handleEditComment.bind(Object(s.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.commentOwner;this.props.isCommentOwner||e||this.props.getUserInfo()}},{key:"render",value:function(){var e=this,t=this.props,a=t.comment,n=t.classes,o=(t.fullName,t.avatar,t.t),i=t.editorStatus,r=this.state,l=r.openMenu,s=r.anchorEl,c=U.a.createElement("div",{className:n.menuRoot},this.props.isCommentOwner&&U.a.createElement(b.a,{buttonRef:function(t){e.buttonMenu=t},"aria-owns":l?"comment-menu":"","aria-haspopup":"false",onClick:this.handleCommentMenu},U.a.createElement(P.a,{className:n.moreIcon})),U.a.createElement(Y.a,{open:l,anchorEl:s,anchorReference:"anchorEl",anchorPosition:{top:0,left:0},onClose:this.handleCloseCommentMenu,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},U.a.createElement(X.a,{role:"menu"},this.props.isCommentOwner?U.a.createElement(y.a,{className:n.rightIconMenuItem,onClick:this.handleEditComment},o("comment.editButton")):"",this.props.isCommentOwner||this.props.isPostOwner?U.a.createElement(y.a,{className:n.rightIconMenuItem,onClick:function(t){return e.handleDelete(t,a.get("id","0"),a.get("postId","0"))}},o("comment.deleteButton")):""))),p=a.get("ownerUserId"),m=U.a.createElement("div",{style:{outline:"none",flex:"auto",flexGrow:1}},i?U.a.createElement(J.a,{placeholder:o("comment.updateCommentPlaceholder"),autoFocus:!0,rowsMax:"4",value:this.state.text,onChange:this.handleOnChange,className:n.textField}):U.a.createElement("div",{className:D()("animate2-top10",n.commentBody)},this.state.text),U.a.createElement("div",{style:{display:i?"flex":"none",flexDirection:"row-reverse"}},U.a.createElement(M.a,{color:"primary",disabled:this.state.editDisabled,style:{float:"right",clear:"both",zIndex:5,margin:"0px 5px 5px 0px",fontWeight:400},onClick:this.handleUpdateComment}," ",o("comment.updateButton")," "),U.a.createElement(M.a,{color:"primary",style:this.styles.cancel,onClick:this.handleCancelEdit}," ",o("comment.cancelButton")," ")));return U.a.createElement("div",{className:"animate-top",key:a.get("id","0")},U.a.createElement(G.a,{elevation:0,className:"animate2-top10",style:{position:"relative",padding:"",display:this.state.display?"none":"block"}},U.a.createElement(d.a,{elevation:0},U.a.createElement(u.a,{className:n.header,title:i?"":U.a.createElement((function(){return U.a.createElement("div",null,U.a.createElement($.a,{to:"/".concat(p)}," ",U.a.createElement("span",{style:e.styles.author},a.get("ownerDisplayName","Loading..."))),U.a.createElement("span",{style:{fontWeight:400,fontSize:"8px"}},K()(a.get("creationDate",0)).local().fromNow()))}),null),subheader:m,avatar:U.a.createElement($.a,{to:"/".concat(p)},U.a.createElement(Z.a,{fullName:a.get("ownerDisplayName",""),fileName:a.get("ownerAvatar",""),size:24})),action:!this.props.isCommentOwner&&!this.props.isPostOwner&&this.props.disableComments||i?"":c}))))}}]),t}(A.Component)),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).commentList=function(){var e=Object(W.Map)(a.props.comments),t=Object(W.Map)(a.props.commentsEditorStatus);if(!e.isEmpty()){var n=H.c(e.valueSeq()),o=[];return n.forEach((function(e){o.push(U.a.createElement(pe,{key:e.get("id"),comment:e,isPostOwner:a.props.isPostOwner,disableComments:a.props.disableComments,editorStatus:t.get(e.get("id","0"),!1)}))})),o}},a.state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.postId;return U.a.createElement(q.a,{key:"comment-list-".concat(a),className:t.list},this.commentList())}}]),t}(A.Component),ue=Object(ee.connect)((function(e,t){return{commentsEditorStatus:e.getIn(["comment","editorStatus",t.postId],{})}}),(function(e,t){return{}}))(Object(C.a)((function(e){return{list:{width:"100%",maxHeight:290,overflowY:"auto",overflowX:"visible"}}}))(me)),he=a(19),ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).id=void 0,a.postId=void 0,a.text=void 0,a.score=void 0,a.creationDate=void 0,a.ownerDisplayName=void 0,a.ownerAvatar=void 0,a.ownerUserId=void 0,a}return Object(c.a)(t,e),t}(a(14).a),be=a(539),fe=a(17),ve=a(50),ye=a(33),Ce=function(e){return{textField:{fontWeight:400,fontSize:"14px"},header:{padding:"2px 3px 3px 10px"},commentBody:{color:"black",fontWeight:400,fontSize:"12px",height:"100%",border:"none",width:"100%",outline:"none",resize:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},author:{fontSize:"10px",paddingRight:"10px",fontWeight:400,color:"rgba(0,0,0,0.87)",textOverflow:"ellipsis",overflow:"hidden"},noUnderline:{display:"none"},postButton:{flexDirection:"row-reverse"},cardHeaderContent:{flex:"1 1 auto",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}},Oe=function(e,t){return{send:function(t){e(fe.c.dbAddComment(t))}}},Ee=function(){var e=se.a.selectCurrentUser(),t=be.a.selectRequest();return function(a,n){var o=n.postId,i=ve.a.createServerRequestId(ye.a.CommentGetComments,o),r=e(a),l=t(a,{requestId:i});return{commentsRequestStatus:l?l.status:he.a.NoAction,uid:r.get("userId",""),avatar:r.get("avatar",""),fullName:r.get("fullName","")}}},xe=function(e){var t=Object(te.c)("translations")(e);return Object(ee.connect)(Ee,Oe)(ne()(Ce)(t))}(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).styles={commentItem:{height:"60px",position:"",zIndex:""},toggleShowList:{height:"60px",zIndex:5},writeCommentTextField:{width:"100%",fontWeight:400,fontSize:"14px"},progressbar:{height:"1.5px",backgroundColor:"rgb(245, 243, 243)",color:z.a.A400},secondaryText:{fontSize:"13px",lineHeight:"20px",color:"rgba(0,0,0,0.87)",fontWeight:300,whiteSpace:"pre-wrap"},primaryText:{fontSize:"13px",paddingRight:"10px",fontWeight:400,color:"rgba(0,0,0,0.87)",textOverflow:"ellipsis",overflow:"hidden"}},a.clearCommentWrite=function(){a.setState({commentText:"",postDisable:!0})},a.handlePostComment=function(){var e=a.props,t=e.postId,n=e.fullName,o=e.avatar,i=e.uid,r=new ge;r.postId=t,r.text=a.state.commentText,r.ownerAvatar=o,r.ownerDisplayName=n,r.ownerUserId=i,a.props.send(Object(W.Map)(r)),a.clearCommentWrite()},a.handleChange=function(e){var t=e.target.value;a.setState({commentText:t}),0===t.length||""===t.trim()?a.setState({commentText:"",postDisable:!0}):a.setState({commentText:t,postDisable:!1})},a.commentWriteBox=function(){var e=a.props,t=e.classes,n=e.postId,o=e.fullName,i=e.avatar,r=e.t;return U.a.createElement("div",null,U.a.createElement(B.a,null),U.a.createElement(G.a,{key:n+"-commentwrite",elevation:0,className:"animate2-top10"},U.a.createElement(d.a,{elevation:0},U.a.createElement(u.a,{className:t.header,avatar:U.a.createElement(Z.a,{fullName:o,fileName:i,size:24}),subheader:U.a.createElement(F.a,{autoFocus:!0,placeholder:r("comment.addCommentPlaceholder"),multiline:!0,rowsMax:"4",InputProps:{disableUnderline:!0,autoFocus:!0,fullWidth:!0},value:a.state.commentText,onChange:a.handleChange,className:t.textField,fullWidth:!0})}),U.a.createElement(p.a,{className:t.postButton},U.a.createElement(M.a,{color:"primary",disabled:a.state.postDisable,onClick:a.handlePostComment},r("comment.postButton"))))))},a.loadCommentsList=function(){var e=a.props,t=e.postId,n=e.open,o=a.props.comments||Object(W.Map)({});return o&&o.size>0?U.a.createElement(G.a,{elevation:0,style:n?{display:"block",padding:"0px 0px"}:{display:"none",padding:"12px 16px"}},U.a.createElement(ue,{comments:o,isPostOwner:a.props.isPostOwner,disableComments:a.props.disableComments,postId:t})):""},a.state={commentText:"",postDisable:!0},a.handlePostComment=a.handlePostComment.bind(Object(s.a)(a)),a.clearCommentWrite=a.clearCommentWrite.bind(Object(s.a)(a)),a.commentWriteBox=a.commentWriteBox.bind(Object(s.a)(a)),a.loadCommentsList=a.loadCommentsList.bind(Object(s.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=!1;return V.a(this.state,t)?e.open!==this.props.open?a=!0:e.disableComments!==this.props.disableComments?a=!0:e.commentsRequestStatus!==this.props.commentsRequestStatus?a=!0:e.comments!==this.props.comments&&(a=!0):a=!0,a}},{key:"render",value:function(){var e=this.props,t=e.postId,a=e.open,n=e.comments,o=e.commentsRequestStatus,i=U.a.createElement(f.a,{style:this.styles.progressbar,variant:"indeterminate"});return U.a.createElement("div",{key:t+"-comments-group"},n&&n.size>0&&U.a.createElement(B.a,null),U.a.createElement("div",{style:a?{display:"block"}:{display:"none"}},U.a.createElement(G.a,{elevation:0,className:"animate-top",style:a?{display:"none"}:{display:"block"}},U.a.createElement("div",{style:{position:"relative",height:"60px"}},U.a.createElement(M.a,{style:this.styles.toggleShowList,fullWidth:!0,onClick:this.props.onToggleRequest}," "," ")))),a?o===he.a.Sent?i:this.loadCommentsList():"",!this.props.disableComments&&a?this.commentWriteBox():"")}}]),t}(A.Component)),we=a(544),ke=a(569),je=a(931),Se=a(292),Pe=a.n(Se),Ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={expanded:!1,truncated:!1},a.toggleLines=a.toggleLines.bind(Object(s.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"toggleLines",value:function(e){e.preventDefault(),this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.lines,o=e.classes,i=e.body,r=this.state.expanded,l=U.a.createElement("div",{onClick:this.toggleLines,className:D()(o.root,Object(n.a)({},o.expanded,!r))},U.a.createElement(je.a,{in:r,collapsedHeight:"173px"},t));return(ve.a.isEmpty(i)?0:ve.a.getNumberOfLines(i))>a?l:t}}]),t}(A.Component);Ie.defaultProps={lines:3,more:"Read more",less:"Show less"};var Ne,Le=Pe()((function(e){return{root:{position:"relative"},expanded:{"&:before":{content:"",float:"left",width:5,height:"100%"},"&:after":{content:'"\\002026"',fontSize:34,fontWeight:500,color:"#4285f4",boxSizing:"content-box",float:"right",position:"absolute",top:150,left:"100%",height:20,width:"2em",marginLeft:"-2em",paddingRight:5,textAlign:"right",background:"linear-gradient(to right,rgba(255,255,255,0),white 50%,white)",cursor:"pointer"}}}}))(Ie),Te=a(1114),Re=a(1113),De=a(530),Ae=a(178),Ue=a(671),We=a.n(Ue),Ve=a(1136),Me=a(1137),ze=a(1138),Be=a(1139),Ge=a(1140),Fe=a(1141),qe=a(1142),He=a(1143),Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.shareOpen,o=e.onClose,i=e.openCopyLink,r=e.post,l=e.onCopyLink;return U.a.createElement(Te.a,{className:t.fullPageXs,title:"Share On",open:n,onClose:o},U.a.createElement(G.a,{className:t.shareLinkPaper},i?U.a.createElement("div",null,U.a.createElement(F.a,{autoFocus:!0,fullWidth:!0,id:"text-field-default",defaultValue:"".concat(window.location.origin,"/").concat(r.get("ownerUserId"),"/posts/").concat(r.get("id"))}),U.a.createElement(Ae.a,{className:D()("animate-top",t.clipboard),variant:"h5",component:"h2"},"Link has been copied to clipboard ...")):U.a.createElement(X.a,null,U.a.createElement("div",null,U.a.createElement(Ve.a,{onShareWindowClose:o,url:"".concat(window.location.origin,"/").concat(r.get("ownerUserId"),"/posts/").concat(r.get("id")),quote:r.get("body"),hashtag:r.get("tags",Object(W.List)([])).count()>0?"#".concat(r.getIn(["tags",0],"hashtag")):null},U.a.createElement(y.a,null,U.a.createElement(Re.a,{classes:{root:t.networkShare}},U.a.createElement(Me.a,{size:32,round:!0})),U.a.createElement(De.a,{inset:!0,primary:a("post.facebookButton")})))),U.a.createElement("div",null,U.a.createElement(ze.a,{onShareWindowClose:o,url:"".concat(window.location.origin,"/").concat(r.get("ownerUserId"),"/posts/").concat(r.get("id")),quote:r.get("body"),hashtag:"#".concat(r.getIn(["tags",0],""))},U.a.createElement(y.a,null,U.a.createElement(Re.a,{classes:{root:t.networkShare}},U.a.createElement(Be.a,{size:32,round:!0})),U.a.createElement(De.a,{inset:!0,primary:a("post.twitterButton")})))),U.a.createElement("div",null,U.a.createElement(Ge.a,{onShareWindowClose:o,url:"".concat(window.location.origin,"/").concat(r.get("ownerUserId"),"/posts/").concat(r.get("id")),quote:r.get("body"),hashtag:"#".concat(r.getIn(["tags",0],""))},U.a.createElement(y.a,null,U.a.createElement(Re.a,{classes:{root:t.networkShare}},U.a.createElement(Fe.a,{size:32,round:!0})),U.a.createElement(De.a,{inset:!0,primary:a("post.linkedinButton")})))),U.a.createElement("div",null,U.a.createElement(qe.a,{onShareWindowClose:o,url:"".concat(window.location.origin,"/").concat(r.get("ownerUserId"),"/posts/").concat(r.get("id")),quote:r.get("body"),hashtag:"#".concat(r.getIn(["tags",0],""))},U.a.createElement(y.a,null,U.a.createElement(Re.a,{classes:{root:t.networkShare}},U.a.createElement(He.a,{size:32,round:!0})),U.a.createElement(De.a,{inset:!0,primary:a("post.googlePlusButton")})))),U.a.createElement(y.a,{onClick:l},U.a.createElement(Re.a,null,U.a.createElement(We.a,null)),U.a.createElement(De.a,{inset:!0,primary:a("post.copyLinkButton")})))))}}]),t}(A.Component),Ye=Object(te.c)("translations")(Xe),Je=Object(ee.connect)((function(e,t){return{}}),(function(e,t){return{}}))(Object(C.a)((function(e){return{image:{verticalAlign:"top",maxWidth:"100%",minWidth:"100%",width:"100%"},clipboard:{fontSize:"18px",textAlign:"center",marginTop:"10px",color:"#1e882d",fontWeight:400},networkShare:{width:"100%",height:"100%"},fullPageXs:Object(n.a)({},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"}),shareLinkPaper:{minHeight:80,padding:10,minWidth:460}}}))(Ye)),Ze=a(672),_e=a.n(Ze),Ke=a(80),Qe=a(204),$e=a(673),et=a.n($e),tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e,t){var n=a.props.onClick;n&&n(e,t)},a.state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"getData",value:function(){var e=this,t=this.props,a=t.classes,o=t.images,i=Math.floor(2*Math.random()+1);return o.length>1?U.a.createElement("div",{className:a.container},U.a.createElement("div",{className:D()(Object(n.a)({},a.firstColumn,1===i),Object(n.a)({},a.firstRow,2===i))},U.a.createElement(h.a,{image:o[0].url,onClick:function(t){return e.handleClick(t,0)},className:D()(a.mediaCard,a.featureCard)})),U.a.createElement("div",{className:D()(Object(n.a)({},a.column,1===i),Object(n.a)({},a.row,2===i))},o.map((function(t,n){return 0!==n?U.a.createElement(h.a,{key:n,onClick:function(t){return e.handleClick(t,n)},image:t.url,className:a.mediaCard}):""})))):U.a.createElement(we.a,{fileName:o[0].url,onClick:function(t){return e.handleClick(t,0)}})}},{key:"render",value:function(){var e=this.props.classes;return U.a.createElement("div",{className:e.mainContainer},this.getData())}}]),t}(A.Component),at=Object(C.a)((function(e){return{mainContainer:{width:"100%"},container:{display:"flex",flexWrap:"wrap",marginTop:20,width:"100%",height:415,position:"relative"},firstRow:{flex:"100%",display:"flex",paddingBottom:1},row:{flex:"100%",display:"flex",marginTop:1,marginBottom:1},firstColumn:{flex:"50%",display:"flex",flexDirection:"column",paddingRight:1},column:{flex:"50%",display:"flex",flexDirection:"column",paddingLeft:1,paddingRight:2},mediaCard:{height:"100%",width:"100%",backgroundSize:"cover",margin:1}}}))(tt),nt=a(604),ot=a.n(nt),it=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleImageClick=function(e,t){t(e)},a.state={},a.handleImageClick=a.handleImageClick.bind(Object(s.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!V.a(e.images,this.props.images)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.images,i=t.currentAlbum;if(o&&o.size>0){var r=[];o.valueSeq().forEach((function(e){r.push({src:e,url:e,id:e})}));var l=r.slice(0,4);return U.a.createElement(ot.a,{images:r,renderImageFunc:function(t){return U.a.createElement("div",{className:a.root},U.a.createElement(at,{images:l,onClick:function(a,n){return e.handleImageClick(n,t)}}),U.a.createElement("div",{className:D()(a.titleContainer,Object(n.a)({},a.noDisplay,!(i&&i.get("album").get("title"))))},U.a.createElement("div",{className:a.aboveContainer}),U.a.createElement("div",{className:a.bottomContainer}),U.a.createElement($.a,{to:"/u/".concat(i&&i.get("ownerUserId"),"/album/").concat(i&&i.get("id"))},U.a.createElement(Ae.a,{className:a.title},i&&i.get("album").get("title")))))}})}return U.a.createElement("div",{className:a.noAlbum},U.a.createElement(et.a,{className:a.noAlbumIcon}))}}]),t}(A.Component),rt=Pe()((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",position:"relative",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},subheader:{width:"100%"},descRoot:{bottom:0,left:0,position:"absolute",right:0,zIndex:1},topGradiant:{background:"linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,.6))",height:32},shadow:{backgroundColor:"rgba(0,0,0,.6)",padding:24,textAlign:"center",verticalAlign:"middle"},albumTitle:{color:"white"},noDisplay:{display:"none"},noAlbum:{display:"flex",justifyContent:"center",alignItems:"center"},noAlbumIcon:{fontSize:50},aboveContainer:{background:"linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,.6))",height:30},bottomContainer:{backgroundColor:"rgba(0,0,0,.6)",height:70},titleContainer:{position:"absolute",bottom:0,left:1,right:1,height:100},title:{textAlign:"center",fontSize:22,fontWeight:400,color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}))(it),lt=a(674),st=a.n(lt),ct=a(675),dt=a.n(ct),pt=a(681),mt=a.n(pt),ut=a(22),ht=a(179),gt=a(5),bt=a(47),ft=a(156),vt=a(27),yt=function(e,t){return e.getIn(["comment","postComments",t.postId],Object(W.Map)({}))},Ct=function(){return Object(vt.a)([yt],(function(e){return e}))},Ot=a(30),Et=function(e,t){var a=t.post;return{vote:function(){return e(ft.dbAddVote(a.get("id"),a.get("ownerUserId")))},unvote:function(){return e(ft.dbDeleteVote(a.get("id"),a.get("ownerUserId")))},delete:function(t){return e(bt.dbDeletePost(t))},toggleDisableComments:function(t){e(bt.dbUpdatePost(a.set("disableComments",t),(function(e){return e})))},toggleSharingComments:function(t){e(bt.dbUpdatePost(a.set("disableSharing",t),(function(e){return e})))},goTo:function(t){return e(Object(ht.a)(t))},setHomeTitle:function(t){return e(gt.setHeaderTitle(t||""))},getPostComments:function(t,a,n,o){return e(oe.dbFetchComments(t,a,n,o))}}},xt=function(){var e=Ot.b.selectCurrentUser(),t=Ct();return function(a,n){var o=t(a,{postId:n.post.get("id")}),i=e(a).get("userId"),r=n.post.get("score",0),l=n.post.getIn(["votes",i],!1);return{commentList:o,avatar:n.post.get("ownerAvatar",""),fullName:n.post.get("ownerDisplayName",""),voteCount:r,currentUserVote:l,isPostOwner:i===n.post.get("ownerUserId")}}},wt=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).styles={dialog:{width:"",maxWidth:"530px",borderRadius:"4px"}},a.handleOpenComments=function(){var e=a.props,t=e.getPostComments,n=e.post;t(n.get("ownerUserId"),n.get("id"),0,10),a.setState({openComments:!a.state.openComments})},a.handleOpenPostWrite=function(){a.closePostMenu(),a.setState({openPostWrite:!0})},a.handleClosePostWrite=function(){a.setState({openPostWrite:!1})},a.handleDelete=function(){var e=a.props.post;a.closePostMenu(),a.props.delete(e.get("id"))},a.openPostMenu=function(e){a.setState({postMenuAnchorEl:e.currentTarget,isPostMenuOpen:!0})},a.closePostMenu=function(){a.setState({postMenuAnchorEl:null,isPostMenuOpen:!1})},a.handleCopyLink=function(){var e=a.props.t;a.setState({openCopyLink:!0,shareTitle:e("post.copyLinkButton")})},a.handleOpenShare=function(){var e=a.props.post;_e()("".concat(window.location.origin,"/").concat(e.get("ownerUserId"),"/posts/").concat(e.get("id"))),a.setState({shareOpen:!0})},a.handleCloseShare=function(){a.setState({shareOpen:!1,shareTitle:"Share On",openCopyLink:!1})},a.handleVote=function(){a.props.currentUserVote?a.props.unvote():a.props.vote()},a.getOpenCommentGroup=function(e){a.setState({openCommentGroup:e})},a.onShowVideo=function(){a.setState({showVideo:!0})},a.getPermissionLabel=function(){var e=a.props,t=e.t,n=e.post.get("permission"),o="";return n===Ke.a.Public?o=t("permission.public"):n===Ke.a.Circles?o=t("permission.circles"):n===Ke.a.OnlyMe&&(o=t("permission.onlyMe")),o},a.rightIconMenu=function(){var e=a.props,t=e.post,n=e.t,o=a.state,i=o.postMenuAnchorEl,r=o.isPostMenuOpen;return U.a.createElement("div",null,U.a.createElement(b.a,{onClick:a.openPostMenu.bind(Object(s.a)(a))},U.a.createElement(P.a,null)),U.a.createElement(v.a,{open:r,anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:a.closePostMenu},t.get("postTypeId")!==Qe.a.Album&&U.a.createElement(y.a,{onClick:a.handleOpenPostWrite}," ",n("post.edit")," "),U.a.createElement(y.a,{onClick:a.handleDelete}," ",n("post.delete")," "),U.a.createElement(y.a,{onClick:function(){return a.props.toggleDisableComments(!t.get("disableComments"))}},t.get("disableComments")?n("post.enableComments"):n("post.disableComments")),U.a.createElement(y.a,{onClick:function(){return a.props.toggleSharingComments(!t.get("disableSharing"))}},t.get("disableSharing")?n("post.enableSharing"):n("post.disableSharing"))))};var n=e.post;return a.state={text:n.get("body",""),readMoreState:!1,openComments:!1,shareOpen:!1,disableComments:n.get("disableComments"),disableSharing:n.get("disableSharing"),shareTitle:"Share On",openCopyLink:!1,openPostWrite:!1,postMenuAnchorEl:null,isPostMenuOpen:!1,showVideo:!1},a.handleReadMore=a.handleReadMore.bind(Object(s.a)(a)),a.getOpenCommentGroup=a.getOpenCommentGroup.bind(Object(s.a)(a)),a.handleVote=a.handleVote.bind(Object(s.a)(a)),a.handleOpenShare=a.handleOpenShare.bind(Object(s.a)(a)),a.handleCloseShare=a.handleCloseShare.bind(Object(s.a)(a)),a.handleCopyLink=a.handleCopyLink.bind(Object(s.a)(a)),a.handleDelete=a.handleDelete.bind(Object(s.a)(a)),a.handleOpenPostWrite=a.handleOpenPostWrite.bind(Object(s.a)(a)),a.handleClosePostWrite=a.handleClosePostWrite.bind(Object(s.a)(a)),a.handleOpenComments=a.handleOpenComments.bind(Object(s.a)(a)),a.rightIconMenu=a.rightIconMenu.bind(Object(s.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"handleReadMore",value:function(e){this.setState({readMoreState:!this.state.readMoreState})}},{key:"shouldComponentUpdate",value:function(e,t){var a=!1;return e.post.equals(this.props.post)?e.commentList!==this.props.commentList?a=!0:this.props.getPostComments!==e.getPostComments?a=!0:V.a(this.state,t)||(a=!0):a=!0,a}},{key:"getAlbum",value:function(){var e=this.props.post,t=e.get("album"),a=e.get("id"),n=e.get("postTypeId");return t&&t.get("photos")&&(n===Qe.a.Album||n===Qe.a.PhotoGallery)?U.a.createElement(rt,{key:"post-album-grid-".concat(a),currentAlbum:e,images:t.get("photos")}):""}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.setHomeTitle,o=e.goTo,i=e.isPostOwner,r=e.commentList,l=e.classes,s=this.state.showVideo,c=t.get("ownerUserId"),v=t.get("ownerDisplayName"),y=t.get("creationDate"),C=t.get("ownerAvatar"),O=t.get("image"),x=t.get("body"),k=t.get("video"),S=t.get("thumbnail"),P=t.get("postTypeId"),I=t.get("id"),L=t.get("disableComments"),R=t.get("commentCounter"),A=t.get("disableSharing"),W=t.get("score");t.get("version");return U.a.createElement(d.a,{key:I+"post-card",className:"animate-top"},U.a.createElement(u.a,{title:U.a.createElement($.a,{to:"/".concat(c)},v),subheader:y?(ut.a.dataFormat.postVersion,K()(y).local().fromNow()+" | ".concat(this.getPermissionLabel())):U.a.createElement(f.a,{color:"primary"}),avatar:U.a.createElement($.a,{to:"/".concat(c)},U.a.createElement(Z.a,{fullName:v,fileName:C,size:36})),action:i?this.rightIconMenu():""}),O&&""!==O&&P===Qe.a.Photo||S&&""!==S&&k&&""!==k&&P===Qe.a.Video?U.a.createElement(h.a,{className:l.cardMedia,image:P===Qe.a.Photo?O:S},s?U.a.createElement("div",{className:"player-wrapper"},U.a.createElement(dt.a,{controls:!0,className:"react-player",width:"100%",height:"100%",url:k,playing:!0})):U.a.createElement(U.a.Fragment,null,U.a.createElement(we.a,{fileName:P===Qe.a.Photo?O:S}),U.a.createElement("span",{className:D()(l.playVideo,Object(n.a)({},l.noDisplay,P!==Qe.a.Video))},U.a.createElement(b.a,{className:l.playIconButtonRoot,onClick:this.onShowVideo},U.a.createElement(N.a,{className:l.playIcon}))))):"",this.getAlbum(),U.a.createElement(m.a,{className:l.postBody},U.a.createElement(Le,{body:x},U.a.createElement(st.a,{properties:{target:"_blank",style:{color:"blue"},onClick:function(e){return e.stopPropagation()}}},mt()(x,/#(\w+)/g,(function(e,t){return U.a.createElement($.a,{style:{color:"green"},key:e+t,to:"/tag/".concat(e),onClick:function(t){t.preventDefault(),t.stopPropagation(),o("/tag/".concat(e)),a("#".concat(e))}},"#",e)}))))),U.a.createElement(p.a,null,U.a.createElement("div",{className:l.vote},U.a.createElement(b.a,{className:l.iconButton,onClick:this.handleVote,"aria-label":"Love"},U.a.createElement(g.a,{className:l.iconButton,checkedIcon:U.a.createElement(w.a,{style:{fill:"#4CAF50"}}),icon:U.a.createElement(j.a,{style:{fill:"#757575"}}),checked:this.props.currentUserVote})),U.a.createElement("div",{className:l.voteCounter}," ",W>0?W:""," ")),U.a.createElement("div",{style:{display:"inherit"}},U.a.createElement(b.a,{className:l.iconButton,onClick:this.handleOpenComments,"aria-label":"Comment"},U.a.createElement(E.a,null)),U.a.createElement("div",{className:l.commentCounter},R>0?R:""," ")),A?"":U.a.createElement(b.a,{className:l.iconButton,onClick:this.handleOpenShare,"aria-label":"Comment"},U.a.createElement(T.a,null))),U.a.createElement(xe,{open:this.state.openComments,comments:r,ownerPostUserId:c,onToggleRequest:this.handleOpenComments,isPostOwner:this.props.isPostOwner,disableComments:L,postId:I}),U.a.createElement(Je,{onClose:this.handleCloseShare,shareOpen:this.state.shareOpen,onCopyLink:this.handleCopyLink,openCopyLink:this.state.openCopyLink,post:t}),this.state.openPostWrite&&U.a.createElement(ke.a,{key:"post-component-post-write-".concat(I),open:this.state.openPostWrite,onRequestClose:this.handleClosePostWrite,edit:!0,postModel:t}))}}]),t}(A.Component),kt=Object(te.c)("translations")(wt),jt=(Ne=Object(C.a)((function(e){return{iconButton:{},vote:{display:"flex",flex:1},voteCounter:{color:"#777",fontSize:12,fontWeight:500,marginTop:25,marginLeft:-18,marginRight:6},commentCounter:{fontWeight:400,color:"#777",fontSize:12,lineHeight:"48px",marginLeft:-2},popperOpen:{zIndex:10},popperClose:{pointerEvents:"none",zIndex:0},postBody:{wordWrap:"break-word",color:"rgba(0, 0, 0, 0.87)",fontSize:"0.875rem",fontWeight:400,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',lineHeight:"1.46429em",whiteSpace:"pre-line"},image:{width:"100%",height:500},playVideo:{position:"absolute",right:"45%",top:"45%",cursor:"pointer",backgroundColor:"#f1efeca3",borderRadius:"50%",height:60,padding:0},playIcon:{width:60,height:60,marginTop:"-12px",fill:"red"},noDisplay:{display:"none"},playIconButtonRoot:{width:60,height:60},cardMedia:{position:"relative"},fullPageXs:Object(n.a)({},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"})}}))(kt),Object(ee.connect)(xt,Et)(Ne));t.a=jt}}]);