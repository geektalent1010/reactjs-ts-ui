(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[8],{10:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_USERS="ADD_USERS",e.ADD_USER_INFO="ADD_USER_INFO",e.ADD_PLAIN_USER_INFO="ADD_PLAIN_USER_INFO",e.UPDATE_USER_INFO="UPDATE_USER_INFO",e.USER_INFO="USER_INFO",e.SET_USER_SEARCH_KEY="SET_USER_SEARCH_KEY",e.CLEAR_ALL_DATA_USER="CLEAR_ALL_DATA_USER",e.OPEN_EDIT_PROFILE="OPEN_EDIT_PROFILE",e.CLOSE_EDIT_PROFILE="CLOSE_EDIT_PROFILE",e.ADD_PROFILE_LIST_POST="ADD_PROFILE_LIST_POST",e.HAS_MORE_DATA_PROFILE="HAS_MORE_DATA_PROFILE",e.NOT_MORE_DATA_PROFILE="NOT_MORE_DATA_PROFILE",e.ADD_PROFILE_LIST_ALBUM="ADD_PROFILE_LIST_ALBUM",e.INCREASE_PAGE_ALBUM="INCREASE_PAGE_ALBUM",e.HAS_MORE_DATA_ALBUM="HAS_MORE_DATA_ALBUM",e.DB_GET_ALBUM_POST_BY_USER_ID="DB_GET_ALBUM_POST_BY_USER_ID",e.NOT_MORE_DATA_ALBUM="NOT_MORE_DATA_ALBUM",e.REQUEST_PAGE_ALBUM="REQUEST_PAGE_ALBUM",e.LAST_POST_ALBUM="LAST_POST_ALBUM",e.REQUEST_PAGE_PROFILE="REQUEST_PAGE_PROFILE",e.LAST_POST_PROFILE="LAST_POST_PROFILE",e.ADD_PEOPLE_INFO="ADD_PEOPLE_INFO",e.ADD_USER_SEARCH="ADD_USER_SEARCH",e.ADD_FIND_PEOPLE="ADD_FIND_PEOPLE",e.HAS_MORE_FIND_PEOPLE="HAS_MORE_FIND_PEOPLE",e.NOT_MORE_FIND_PEOPLE="NOT_MORE_FIND_PEOPLE",e.HAS_MORE_PEOPLE_SEARCH="HAS_MORE_PEOPLE_SEARCH",e.NOT_MORE_PEOPLE_SEARCH="NOT_MORE_PEOPLE_SEARCH",e.SET_FIND_PEOPLE_PAGE="SET_FIND_PEOPLE_PAGE",e.INCREASE_FIND_PEOPLE_PAGE="INCREASE_FIND_PEOPLE_PAGE",e.LAST_USER_PEOPLE="LAST_POST_PEOPLE",e.DB_FETCH_USER_PROFILE="DB_FETCH_USER_PROFILE",e.DB_FETCH_FIND_PEOPLE="DB_FETCH_FIND_PEOPLE",e.DB_FETCH_USER_SEARCH="DB_FETCH_USER_SEARCH",e.DB_FETCH_USER_PROFILE_BY_ID="DB_FETCH_USER_PROFILE_BY_ID",e.INCREASE_SHARE_COUNT_USER="INCREASE_SHARE_COUNT_USER",e.DECREASE_SHARE_COUNT_USER="DECREASE_SHARE_COUNT_USER",e.INCREASE_FOLLOWING_COUNT_USER="INCREASE_FOLLOWING_COUNT_USER",e.DECREASE_FOLLOWING_COUNT_USER="DECREASE_FOLLOWING_COUNT_USER",e.INCREASE_VOTE_COUNT_USER="INCREASE_VOTE_COUNT_USER",e.DECREASE_VOTE_COUNT_USER="DECREASE_VOTE_COUNT_USER",e.INCREASE_POST_COUNT_USER="INCREASE_POST_COUNT_USER",e.DECREASE_POST_COUNT_USER="DECREASE_POST_COUNT_USER"}(r||(r={}))},102:function(e,t,n){"use strict";var r=n(21),a=n(4),c=n(8),s=function e(){Object(c.a)(this,e),this.userPosts=Object(a.Map)({}),this.loaded=!1,this.stream=Object(a.Map)({list:Object(a.Map)({})}),this.profile=Object(a.Map)({})},o=function(e,t){var n=t.post,r=n.get("id");return e.setIn(["entities",r],n)},u=function(e,t){var n=t.post,r=n.get("objectId");return e.setIn(["entities",r,"comments"],n.get("comments")).setIn(["entities",r,"commentCounter"],n.get("commentCounter"))},i=function(e,t){var n=t.post,r=n.get("id");return e.setIn(["entities",r,"votes"],n.get("votes")).setIn(["entities",r,"score"],n.get("score"))},d=function(e,t){var n=t.meta,r=t.payload;return n&&n.overwrite?e.setIn(["search","list"],r.postIds).set("loaded",!0):e.mergeDeepIn(["search","list"],r.postIds).set("loaded",!0)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.Map)(new s),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case r.a.CLEAR_ALL_DATA_POST:return Object(a.Map)(new s);case r.a.SET_POST_SEARCH_KEY:return e.set("searchKey",n.searchKey);case r.a.ADD_IMAGE_POST:case r.a.ADD_POST:return e.setIn(["entities",n.post.get("id")],n.post);case r.a.UPDATE_POST:return o(e,n);case r.a.UPDATE_POST_COMMENTS:return u(e,n);case r.a.UPDATE_POST_VOTES:return i(e,n);case r.a.DELETE_POST:return e.deleteIn(["entities",n.id]);case r.a.ADD_LIST_POST:return e.mergeIn(["entities"],n.entities).set("loaded",!0);case r.a.ADD_LIST_STREAM_POST:return e.mergeIn(["stream","list"],n.postIds).set("loaded",!0);case r.a.ADD_LIST_SEARCH_POST:return d(e,t);case r.a.HAS_MORE_POST_SEARCH:return e.setIn(["search","hasMoreData"],!0);case r.a.NO_MORE_POST_SEARCH:return e.setIn(["search","hasMoreData"],!1);case r.a.ADD_LIST_POST_INSTAGRAM:return e.mergeDeepIn(["instagram"],n.posts);case r.a.HAS_MORE_DATA_STREAM:return e.setIn(["stream","hasMoreData"],!0);case r.a.NOT_MORE_DATA_STREAM:return e.setIn(["stream","hasMoreData"],!1);case r.a.SET_PAGE_STREAM:return e.setIn(["stream","lastPageRequest"],n.page);case r.a.INCREASE_PAGE_STREAM:return e.setIn(["stream","lastPageRequest"],e.getIn(["stream","lastPageRequest"],0)+1);case r.a.LAST_POST_STREAM:return e.setIn(["stream","lastPostId"],n.lastPostId);case r.a.LAST_POST_SEARCH:return e.setIn(["search","lastPostId"],n.lastPostId);default:return e}},l=n(115);n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return l.a}))},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(43),c=n(50),s=n(19),o=function(){function e(t,n,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.a.Sent;Object(r.a)(this,e),this.type=t,this.id=n,this.metadata=a,this.status=c}return Object(a.a)(e,[{key:"getKey",value:function(){return c.a.createServerRequestId(this.type,this.id)}}]),e}()},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(53),a=n(4),c=n(27),s=function(e,t){return e.getIn(["post","entities",t.postId],Object(a.Map)({}))},o=function(e){return e.getIn(["post","stream","hasMoreData"],!0)},u=function(e){return e.getIn(["post","search","hasMoreData"],!0)},i=function(e){return e.getIn(["post","stream","list"],Object(a.Map)({}))},d=function(e){return e.getIn(["post","search","list"],Object(a.Map)({}))},p=function(e,t){return e.getIn(["user","post",t.userId,"list"],Object(a.Map)({}))},l=function(e){return e.getIn(["post","entities"],Object(a.Map)({}))},f=function(e){return e.getIn(["post","stream","lastPageRequest"],0)},O={getPost:s,getStreamPage:f,getStreamLastPostId:function(e){return e.getIn(["post","stream","lastPostId"],"")},getSearchKey:function(e){return e.getIn(["post","searchKey"])},getProfileLastPostRequest:function(e,t){return e.getIn(["user","post",t.userId,"lastPageRequest"],0)},getSearchLastPostId:function(e){return e.getIn(["post","search","lastPostId"],"")},getProfileLatPostId:function(e,t){return e.getIn(["user","post",t.userId,"lastPostId"],"")},getInstagramPosts:function(e){return e.getIn(["post","instagram"],Object(a.Map)({}))},selectPost:function(){return Object(c.a)([s],(function(e){return e}))},selectHasMorePostStream:function(){return Object(c.a)([o],(function(e){return e}))},selectHasMorePostSeach:function(){return Object(c.a)([u],(function(e){return e}))},selectSearchPosts:function(){return Object(c.a)([d,l],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))},selectStreamPosts:function(){return Object(c.a)([i,l],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))},selectProfilePosts:function(){return Object(c.a)([p,l],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))},selectStreamPage:function(){return Object(c.a)([f],(function(e){return e}))}}},116:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Abkhazian="ab",e.Afar="aa",e.Afrikaans="af",e.Akan="ak",e.Albanian="sq",e.Amharic="am",e.Arabic="ar",e.Aragonese="an",e.Armenian="hy",e.Assamese="as",e.Avaric="av",e.Avestan="ae",e.Aymara="ay",e.Azerbaijani="az",e.Bambara="bm",e.Bashkir="ba",e.Basque="eu",e.Belarusian="be",e.BengaliBangla="bn",e.Bihari="bh",e.Bislama="bi",e.Bosnian="bs",e.Breton="br",e.Bulgarian="bg",e.Burmese="my",e.Catalan="ca",e.Chamorro="ch",e.Chechen="ce",e.ChichewaChewaNyanja="ny",e.Chinese="zh",e.ChineseSimplified="zh-Hans",e.ChineseTraditional="zh-Hant",e.Chuvash="cv",e.Cornish="kw",e.Corsican="co",e.Cree="cr",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.DivehiDhivehiMaldivian="dv",e.Dutch="nl",e.Dzongkha="dz",e.English="en",e.Esperanto="eo",e.Estonian="et",e.Ewe="ee",e.Faroese="fo",e.Fijian="fj",e.Finnish="fi",e.French="fr",e.FulaFulahPulaarPular="ff",e.Galician="gl",e.GaelicScottish="gd",e.GaelicManx="gv",e.Georgian="ka",e.German="de",e.Greek="el",e.Greenlandic="kl",e.Guarani="gn",e.Gujarati="gu",e.HaitianCreole="ht",e.Hausa="ha",e.Hebrew="he",e.Herero="hz",e.Hindi="hi",e.HiriMotu="ho",e.Hungarian="hu",e.Icelandic="is",e.Ido="io",e.Igbo="ig",e.Indonesian="in",e.Interlingua="ia",e.Interlingue="ie",e.Inuktitut="iu",e.Inupiak="ik",e.Irish="ga",e.Italian="it",e.Japanese="ja",e.Javanese="jv",e.KalaallisutGreenlandic="kl",e.Kannada="kn",e.Kanuri="kr",e.Kashmiri="ks",e.Kazakh="kk",e.Khmer="km",e.Kikuyu="ki",e.KinyarwandaRwanda="rw",e.Kirundi="rn",e.Kyrgyz="ky",e.Komi="kv",e.Kongo="kg",e.Korean="ko",e.Kurdish="ku",e.Kwanyama="kj",e.Lao="lo",e.Latin="la",e.LatvianLettish="lv",e.LimburgishLimburger="li",e.Lingala="ln",e.Lithuanian="lt",e.LugaKatanga="lu",e.LugandaGanda="lg",e.Luxembourgish="lb",e.Manx="gv",e.Macedonian="mk",e.Malagasy="mg",e.Malay="ms",e.Malayalam="ml",e.Maltese="mt",e.Maori="mi",e.Marathi="mr",e.Marshallese="mh",e.Moldavian="mo",e.Mongolian="mn",e.Nauru="na",e.Navajo="nv",e.Ndonga="ng",e.NorthernNdebele="nd",e.Nepali="ne",e.Norwegian="no",e["Norwegianbokm\xe5l"]="nb",e.NorwegianNynorsk="nn",e.Nuosu="ii",e.Occitan="oc",e.Ojibwe="oj",e.OldChurchSlavonicOldBulgarian="cu",e.Oriya="or",e.OromoAfaanOromo="om",e.Ossetian="os",e["P\u0101li"]="pi",e.PashtoPushto="ps",e.PersianFarsi="fa",e.Polish="pl",e.Portuguese="pt",e.PunjabiEastern="pa",e.Quechua="qu",e.Romansh="rm",e.Romanian="ro",e.Russian="ru",e.Sami="se",e.Samoan="sm",e.Sango="sg",e.Sanskrit="sa",e.Serbian="sr",e.SerboCroatian="sh",e.Sesotho="st",e.Setswana="tn",e.Shona="sn",e.SichuanYi="ii",e.Sindhi="sd",e.Sinhalese="si",e.Siswati="ss",e.Slovak="sk",e.Slovenian="sl",e.Somali="so",e.SouthernNdebele="nr",e.Spanish="es",e.Sundanese="su",e.SwahiliKiswahili="sw",e.Swati="ss",e.Swedish="sv",e.Tagalog="tl",e.Tahitian="ty",e.Tajik="tg",e.Tamil="ta",e.Tatar="tt",e.Telugu="te",e.Thai="th",e.Tibetan="bo",e.Tigrinya="ti",e.Tonga="to",e.Tsonga="ts",e.Turkish="tr",e.Turkmen="tk",e.Twi="tw",e.Uyghur="ug",e.Ukrainian="uk",e.Urdu="ur",e.Uzbek="uz",e.Venda="ve",e.Vietnamese="vi",e["Volap\xfck"]="vo",e.Wallon="wa",e.Welsh="cy",e.Wolof="wo",e.WesternFrisian="fy",e.Xhosa="xh",e.Yiddish="yi",e.Yoruba="yo",e.ZhuangChuang="za",e.Zulu="zu"}(r||(r={}))},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),a=n(33),c=n(71),s=n(19),o={createLoginRequest:function(e){var t=r.a.createServerRequestId(a.a.AuthLogin,e);return new c.a(a.a.AuthLogin,t,"",s.a.Sent)},createSignupRequest:function(e){var t=r.a.createServerRequestId(a.a.AuthSignup,e);return new c.a(a.a.AuthSignup,t,"",s.a.Sent)},storeTokenId:function(e){localStorage.setItem("red-gold.scure.token",e)},getTokenId:function(){localStorage.getItem("red-gold.scure.token")},createCookie:function(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="; expires="+r.toUTCString()}else a="";document.cookie=e+"="+t+a+"; path=/"},readCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},eraseCookie:function(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;Domain=.".concat(document.domain.split(".").splice(1).join("."))}}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ValidYoutubeURL:/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,ValidateURL:/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,ValidEmail:/^(([^<>()\[\]\\.,:\s@"]+(\.[^<>()\[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,YoutubUrlCode:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,IsMobileA:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,IsMobileB:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(73),a=function(){return{type:r.a.DB_FETCH_USER_SETTING}},c=function(e,t){return{type:r.a.DB_UPDATE_USER_SETTING,payload:{type:e,setting:t}}},s=function(e){return{type:r.a.SET_USER_SETTING,payload:e}},o=function(e,t){return{type:r.a.UPDATE_USER_SETTING,payload:{key:e,data:t}}}},127:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(15),a=n(63),c=(n(4),n(58),n(9)),s=n(29),o=n(5);n(30);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var i=s.a.get(c.a.NotificationService),d=function(){return{type:a.a.DB_FETCH_NOTIFICATIONS}},p=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]);return i.deleteNotification(e,r).then((function(){t(O(e))})).catch((function(e){return t(o.showMessage(e.message))}))}},l=function(e){return function(t,n){var a=n(),c=a.getIn(["authorize","uid"]),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.getIn(["notify","userNotifies",e]).toJS(),{notifyRecieverUserId:c,isSeen:!0});return i.setSeenNotification(e,c,s).then((function(){t(E(e))})).catch((function(e){return t(o.showMessage(e.message))}))}},f=function(e){return{type:a.a.ADD_NOTIFY_LIST,payload:e}},O=function(e){return{type:a.a.DELETE_NOTIFY,payload:e}},E=function(e){return{type:a.a.SEEN_NOTIFY,payload:e}},b=function(){return{type:a.a.CLEAR_ALL_DATA_NOTIFY}}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(27),a=function(e){return e.getIn(["global","progress"])},c=function(e){return e.getIn(["global","sendFeedbackStatus"])},s=function(e,t){return e.getIn(["global","dialog",t.type,"open"],!1)},o=function(e){return e.get("global")},u={getCaller:function(e){return e.getIn(["global","temp","caller"])},getGlobal:o,getFeedbackStatus:c,getProgress:a,selectDialogState:function(){return Object(r.a)([s],(function(e){return e}))},selectProgress:function(){return Object(r.a)([a],(function(e){return e}))},selectFeedbackStatus:function(){return Object(r.a)([c],(function(e){return e}))},selectGlobal:function(){return Object(r.a)([o],(function(e){return e}))}}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(80),c=function e(t,n,c,s,o,u,i,d,p,l,f,O){var E=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,b=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,_=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"",h=arguments.length>15&&void 0!==arguments[15]&&arguments[15],g=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[],m=arguments.length>17&&void 0!==arguments[17]?arguments[17]:a.a.Public;Object(r.a)(this,e),this.objectId=t,this.deletedDate=n,this.created_date=c,this.thumbnail=s,this.url=o,this.fullPath=u,this.caption=i,this.directory=d,this.fileName=p,this.ownerUserId=l,this.last_updated=f,this.albumId=O,this.height=E,this.width=b,this.meta=_,this.deleted=h,this.accessUserList=g,this.permission=m}},14:function(e,t,n){"use strict";var r=n(165),a=n(8),c=function e(){Object(a.a)(this,e)},s=function e(t,n,r,c){Object(a.a)(this,e),this.id=t,this.text=n,this.feedType=r,this.user=c};n.d(t,"c",(function(){return r.a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}))},141:function(e,t,n){"use strict";var r=n(198),a=n(271),c=n.n(a),s=n(272),o=n.n(s),u=n(106);r.a.use(o.a).use(c.a).use(u.b).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",preload:["en","zh","vi"],backend:{loadPath:"".concat("locales","/{{ns}}/enjson_{{lng}}.json")},debug:!1,interpolation:{escapeValue:!1},react:{wait:!0,useSuspense:!1}}),t.a=r.a},148:function(e,t,n){"use strict";var r=n(8),a=n(49),c=n(45),s=n(48),o=n(14),u=(o.a,function(e){function t(e,n,s,o,u,i){var d;return Object(r.a)(this,t),(d=Object(a.a)(this,Object(c.a)(t).call(this))).userId=e,d.creationDate=n,d.fullName=s,d.avatar=o,d.approved=u,d.circleIdList=i,d}return Object(s.a)(t,e),t}(o.a));n.d(t,"a",(function(){return u}))},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(27),a=function(e){return e.getIn(["circle","userTies"])},c={getFollowingUsers:a,selectFollowingIds:function(){return Object(r.a)([a],(function(e){return e.keySeq().toArray()}))}}},155:function(e,t,n){"use strict";n.r(t),n.d(t,"dbAddComment",(function(){return c})),n.d(t,"dbFetchComments",(function(){return s})),n.d(t,"dbUpdateComment",(function(){return o})),n.d(t,"dbDeleteComment",(function(){return u})),n.d(t,"addComment",(function(){return i})),n.d(t,"updateComment",(function(){return d})),n.d(t,"addCommentList",(function(){return p})),n.d(t,"deleteComment",(function(){return l})),n.d(t,"hasMoreComments",(function(){return f})),n.d(t,"notMoreComments",(function(){return O})),n.d(t,"clearAllData",(function(){return E})),n.d(t,"openCommentEditor",(function(){return b})),n.d(t,"closeCommentEditor",(function(){return _}));var r=n(42),a=n(9),c=(n(29).a.get(a.a.CommentService),function(e){return{type:r.a.ASYNC_ADD_NEW_COMMENT,payload:{newComment:e}}}),s=function(e,t,n,a){return{type:r.a.DB_FETCH_COMMENTS,payload:{postId:t,ownerUserId:e,page:n,limit:a}}},o=function(e){return{type:r.a.ASYNC_UPDATE_COMMENT,payload:{comment:e}}},u=function(e,t){return{type:r.a.ASYNC_DELETE_COMMENT,payload:{postId:t,id:e}}},i=function(e){return{type:r.a.ADD_COMMENT,payload:e}},d=function(e){return{type:r.a.UPDATE_COMMENT,payload:{comment:e}}},p=function(e,t){return{type:r.a.ADD_COMMENT_LIST,payload:{postId:e,entities:t}}},l=function(e,t){return{type:r.a.DELETE_COMMENT,payload:{id:e,postId:t}}},f=function(e){return{type:r.a.HAS_MORE_COMMENTS,payload:{postId:e}}},O=function(e){return{type:r.a.NO_MORE_COMMENTS,payload:{postId:e}}},E=function(){return{type:r.a.CLEAR_ALL_DATA_COMMENT}},b=function(e){return{type:r.a.OPEN_COMMENT_EDITOR,payload:e}},_=function(e,t){return{type:r.a.CLOSE_COMMENT_EDITOR,payload:{postId:e,id:t}}}},156:function(e,t,n){"use strict";n.r(t),n.d(t,"dbAddVote",(function(){return a})),n.d(t,"dbDeleteVote",(function(){return c})),n.d(t,"addVote",(function(){return s})),n.d(t,"deleteVote",(function(){return o})),n.d(t,"addVoteList",(function(){return u})),n.d(t,"clearAllvotes",(function(){return i}));var r=n(66),a=function(e,t){return{type:r.a.ASYNC_ADD_NEW_VOTE,payload:{postId:e,ownerPostUserId:t}}},c=function(e,t){return{type:r.a.ASYNC_DELETE_VOTE,payload:{postId:e,ownerPostUserId:t}}},s=function(e){return{type:r.a.ADD_VOTE,payload:e}},o=function(e,t){return{type:r.a.DELETE_VOTE,payload:{userId:e,postId:t}}},u=function(e){return{type:r.a.ADD_VOTE_LIST,payload:e}},i=function(){return{type:r.a.CLEAR_ALL_DATA_VOTE}}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),a=n(49),c=n(45),s=n(48),o=n(287),u=function(e){function t(e,n){var s;return Object(r.a)(this,t),(s=Object(a.a)(this,Object(c.a)(t).call(this,n))).code=e,s.message=n,s.isError=void 0,s.isError=!0,s}return Object(s.a)(t,e),t}(Object(o.a)(Error))},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(43),c=function(){function e(t){Object(r.a)(this,e),this._fileURL=t}return Object(a.a)(e,[{key:"fileURL",get:function(){return this._fileURL}}]),e}()},17:function(e,t,n){"use strict";var r=n(81),a=(n(90),n(155)),c=n(5),s=n(46),o=(n(127),n(47)),u=n(38),i=n(156),d=n(28),p=(n(126),n(94));n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return p}))},18:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_IMAGE="ADD_IMAGE",e.ADD_VIDEO_GALLERY="ADD_VIDEO_GALLERY",e.DELETE_ALBUM="DELETE_ALBUM",e.DB_CREATE_ALBUM="DB_CREATE_ALBUM",e.ADD_IMAGE_LIST="ADD_IMAGE_LIST",e.HAS_MORE_DATA_ALBUM_IMAGE="HAS_MORE_DATA_ALBUM_IMAGE",e.NO_MORE_DATA_ALBUM_IMAGE="NO_MORE_DATA_ALBUM_IMAGE",e.LAST_ALBUM_IMAGE_ID="LAST_ALBUM_IMAGE_ID",e.ADD_ALBUM_ID_LIST="ADD_ALBUM_ID_LIST",e.DB_FETCH_ALBUM_IMAGES="DB_FETCH_ALBUM_IMAGES",e.DB_FETCH_AVATAR_IMAGES="DB_FETCH_AVATAR_IMAGES",e.DB_FETCH_COVER_IMAGES="DB_FETCH_COVER_IMAGES",e.DB_DELETE_IMAGE="DB_DELETE_IMAGE",e.ADD_ALBUM_IMAGE_LIST="ADD_ALBUM_IMAGE_LIST",e.ADD_AVATAR_IMAGE_LIST="ADD_AVATAR_IMAGE_LIST",e.ADD_COVER_IMAGE_LIST="ADD_COVER_IMAGE_LIST",e.ADD_VIDEO_LIST_GALLERY="ADD_VIDEO_LIST_GALLERY",e.CLEAT_ALL_DATA_IMAGE_GALLERY="CLEAT_ALL_DATA_IMAGE_GALLERY",e.ADD_UPLOADING_PHOTO="ADD_UPLOADING_PHOTO",e.DELETE_UPLOADING_PHOTO="DELETE_UPLOADING_PHOTO",e.CLEAR_UPLOADING_PHOTO="CLEAR_UPLOADING_PHOTO",e.DELETE_IMAGE="DELETE_IMAGE",e.DELETE_VIDEO="DELETE_VIDEO",e.SET_IMAGE_URL="SET_IMAGE_URL",e.SEND_IMAGE_REQUEST="SEND_IMAGE_REQUEST",e.DB_FETCH_IMAGE_GALLERY="DB_FETCH_IMAGE_GALLERY",e.DB_FETCH_VIDEO_GALLERY="DB_FETCH_VIDEO_GALLERY",e.DB_UPLOAD_VIDEO="DB_UPLOAD_VIDEO",e.DB_UPLOAD_IMAGE="DB_UPLOAD_IMAGE",e.DB_UPLOAD_AVATAR="DB_UPLOAD_AVATAR",e.DB_UPLOAD_COVER="DB_UPLOAD_COVER",e.DB_DELETE_VIDEO="DB_DELETE_VIDEO"}(r||(r={}))},181:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Album=0]="Album",e[e.PostWrite=1]="PostWrite"}(r||(r={}))},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(53),a=n(4),c=n(27),s=function(e){return e.getIn(["imageGallery","entities"],Object(a.Map)({}))},o=function(e,t){return e.getIn(["imageGallery","album",t.albumId,"hasMoreData"],!0)},u=function(e,t){return e.getIn(["imageGallery","album",t.albumId,"list"],Object(a.Map)({}))},i=function(e,t){return e.getIn(["imageGallery","avatar",t.userId,"list"],Object(a.Map)({}))},d=function(e,t){return e.getIn(["imageGallery","cover",t.userId,"list"],Object(a.Map)({}))},p=function(e,t){return e.getIn(["imageGallery","album",t.albumId,"lastImageId"],"")},l={getImages:s,hasMoreImages:o,getAlbumImages:u,selectImages:function(){return Object(c.a)([s],(function(e){return e}))},getAlbumLastImageId:p,selectLastImageId:function(){return Object(c.a)([p],(function(e){return e}))},selectMoreImages:function(){return Object(c.a)([o],(function(e){return e}))},selectAlbumImages:function(){return Object(c.a)([u,s],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(a=(a=(a=(a=a.set("original",a.get("url"))).set("src",a.get("url"))).set("title",a.get("caption",""))).set("description",""),n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))},selectAvatarImages:function(){return Object(c.a)([i,s],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))},selectCoverImages:function(){return Object(c.a)([d,s],(function(e,t){var n=Object(a.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(a.List)([]):r.a.sortImuObjectsDate(n)}))}}},19:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Sent="Sent",e.NoAction="NoAction",e.OK="OK",e.Error="Error"}(r||(r={}))},194:function(e,t,n){"use strict";var r=n(4),a=n(8),c=function e(t,n,r,c,s,o,u,i){Object(a.a)(this,e),this.id=t,this.isCurrentUser=n,this.receiverUser=r,this.type=c,this.data=s,this.creationDate=o,this.translateMessage=u,this.loading=i},s=n(27),o=n(30),u=n(52);n.d(t,"a",(function(){return O}));var i=function(e){return e.getIn(["chat","calling"],Object(r.Map)({}))},d=function(e){return e.getIn(["chat","requests"],Object(r.Map)({}))},p=function(e){return e.getIn(["chat","connect"],Object(r.Map)({}))},l=function(e){return e.getIn(["chat","currentChat"])},f=function(e,t){return e.getIn(["chat","messages"],Object(r.Map)({}))},O={getChatRequests:d,getCallingUsers:i,getChatConnections:p,selectCurrentReceiver:function(){return Object(s.a)([l,u.a.getUsers],(function(e,t){return t.get(e,Object(r.Map)({}))}))},selectCurrentMessages:function(){return Object(s.a)([f,l,p,o.b.getAuthedUser,u.a.getUserProfileById],(function(e,t,n,a,s){var o=n.getIn([t,"roomId"]);return e.get(o,Object(r.List)()).valueSeq().map((function(e){return new c(e.get("id"),e.get("senderId")===a.get("uid"),s.toJS(),e.get("type"),e.get("message"),e.get("creationDate"),e.get("translateMessage"),e.get("loading"))})).sort((function(e,t){return e.creationDate-t.creationDate}))}))},selectCurrentChatRoom:function(){return Object(s.a)([l,p],(function(e,t){return t.getIn([e,"roomId"])}))},selectCurrentChat:function(){return Object(s.a)([l],(function(e){return e}))},selectCallingUsers:function(){return Object(s.a)([i],(function(e){return e}))},selectChatRequests:function(){return Object(s.a)([d],(function(e){return e}))},selectChatConnections:function(){return Object(s.a)([p],(function(e){return e}))}}},20:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_CHAT_ROOM_MESSAGES="ADD_CHAT_ROOM_MESSAGES",e.ADD_PLAIN_CHAT_ROOM_MESSAGES="ADD_PLAIN_CHAT_ROOM_MESSAGES",e.DB_CREATE_CHAT_MESSAGE="DB_CREATE_CHAT_MESSAGE",e.DB_CREATE_CHAT_ROOM="DB_CREATE_CHAT_ROOM",e.DB_FETCH_CHAT_ROOMS="DB_FETCH_CHAT_ROOMS",e.DB_FETCH_PEER_CHAT_ROOMS="DB_FETCH_PEER_CHAT_ROOMS",e.DB_SUBSCRIBE_CHAT_MESSAGE="DB_SUBSCRIBE_CHAT_MESSAGE",e.DB_FETCH_CHAT_MESSAGE_ONCE="DB_FETCH_CHAT_MESSAGE_ONCE",e.DB_SET_CHAT_LANGUAGE="DB_SET_CHAT_LANGUAGE",e.SET_CURRENT_CHAT="SET_CURRENT_CHAT",e.ACTIVE_PEER_CHAT_ROOM="ACTIVE_PEER_CHAT_ROOM",e.WS_CONNECT="WS_CONNECT",e.ASYNC_CREATE_CHAT_REQUEST="ASYNC_CREATE_CHAT_REQUEST",e.ASYNC_CANCEL_CHAT_REQUEST="ASYNC_CANCEL_CHAT_REQUEST",e.ASYNC_IGNORE_CHAT_REQUEST="ASYNC_IGNORE_CHAT_REQUEST",e.ASYNC_ACCEPT_CHAT_REQUEST="ASYNC_ACCEPT_CHAT_REQUEST",e.ASYNC_JOIN_CHAT_ROOM="ASYNC_JOIN_CHAT_ROOM",e.CLEAR_ALL_CHAT_MESSAGE="CLEAR_ALL_CHAT_MESSAGE",e.CLOSE_CHAT="CLOSE_CHAT",e.REMOVE_CHAT_HISTORY="REMOVE_CHAT_HISTORY",e.DB_REMOVE_CHAT_HISTORY="DB_REMOVE_CHAT_HISTORY",e.OPEN_CHAT="OPEN_CHAT",e.CLOSE_RECENT_CHAT="CLOSE_RECENT_CHAT",e.UPDATE_CHAT_ROOM="UPDATE_CHAT_ROOM",e.OPEN_RECENT_CHAT="OPEN_RECENT_CHAT",e.ADD_CHAT_REQUEST="ADD_CHAT_REQUEST",e.REMOVE_CHAT_REQUEST="REMOVE_CHAT_REQUEST",e.ADD_CHAT_CONNECT="ADD_CHAT_CONNECT",e.REMOVE_CHAT_CONNECT="REMOVE_CHAT_CONNECT",e.ADD_CHAT_CALLING="ADD_CHAT_CALLING",e.REMOVE_CHAT_CALLING="REMOVE_CHAT_CALLING",e.SET_USER_OFFLINE="SET_USER_OFFLINE"}(r||(r={}))},202:function(e,t,n){"use strict";var r=n(15),a=n(8),c=n(43),s=n(49),o=n(45),u=n(48),i=n(16),d=n(525),p=n(0),l=n.n(p),f=n(61);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fileName,n=e.fullName,r=e.style,a=e.size,c=e.onClick,s=e.className,o=e.theme;return l.a.createElement("div",{style:{display:"inherit"}},t&&""!==t&&"noImage"!==t?l.a.createElement(d.a,{variant:"rounded",className:s||"",src:t||" ",style:E({},r,{backgroundColor:o.palette.common.white,width:a||36,height:a||36}),onClick:c}):l.a.createElement(d.a,{variant:"rounded",className:s||"",style:E({},r,{width:a||36,height:a||36}),onClick:c},n?n.slice(0,1):""))}}]),t}(p.Component),_=Object(i.a)((function(e){return{}}),{withTheme:!0})(b);t.a=Object(f.connect)((function(e,t){return{avatarURL:e.getIn(["imageGallery","imageURLList"]),imageRequests:e.getIn(["imageGallery","imageRequests"])}}),(function(e,t){return{}}))(_)},204:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Text=0]="Text",e[e.Photo=1]="Photo",e[e.Video=2]="Video",e[e.PhotoGallery=3]="PhotoGallery",e[e.Album=4]="Album"}(r||(r={}))},21:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_IMAGE_POST="ADD_IMAGE_POST",e.HAS_MORE_DATA_STREAM="HAS_MORE_DATA_STREAM",e.HAS_MORE_POST_SEARCH="HAS_MORE_POST_SEARCH",e.NO_MORE_POST_SEARCH="NO_MORE_POST_SEARCH",e.NOT_MORE_DATA_STREAM="NOT_MORE_DATA_STREAM",e.SET_PAGE_STREAM="SET_PAGE_STREAM",e.INCREASE_PAGE_STREAM="INCREASE_PAGE_STREAM",e.LAST_POST_STREAM="LAST_POST_STREAM",e.LAST_POST_SEARCH="LAST_POST_SEARCH",e.HAS_MORE_DATA_PROFILE="HAS_MORE_DATA_PROFILE",e.NOT_MORE_DATA_PROFILE="NOT_MORE_DATA_PROFILE",e.REQUEST_PAGE_PROFILE="REQUEST_PAGE_PROFILE",e.LAST_POST_PROFILE="LAST_POST_PROFILE",e.ADD_VIDEO_POST="ADD_VIDEO_POST",e.ADD_POST="ADD_POST",e.DB_GET_POST="DB_GET_POST",e.DB_SEARCH_POST="DB_SEARCH_POST",e.DB_GET_POST_BY_USER_ID="DB_GET_POST_BY_USER_ID",e.DB_GET_POST_SEARCH_KEY="DB_GET_POST_SEARCH_KEY",e.SET_POST_SEARCH_KEY="SET_POST_SEARCH_KEY",e.UPDATE_POST="UPDATE_POST",e.UPDATE_POST_COMMENTS="UPDATE_POST_COMMENTS",e.UPDATE_POST_VOTES="UPDATE_POST_VOTES",e.DELETE_POST="DELETE_POST",e.ADD_LIST_POST="ADD_LIST_POST",e.ADD_LIST_STREAM_POST="ADD_LIST_STREAM_POST",e.ADD_LIST_SEARCH_POST="ADD_LIST_SEARCH_POST",e.ADD_LIST_POST_INSTAGRAM="ADD_LIST_POST_INSTAGRAM",e.CLEAR_ALL_DATA_POST="CLEAR_ALL_DATA_POST"}(r||(r={}))},210:function(e,t,n){"use strict";var r=n(8),a=n(43),c=n(49),s=n(45),o=n(48),u=n(84),i=n(0),d=n.n(i),p=n(99),l=n.n(p),f=n(61),O=n(95),E=n(259),b=n(260),_=l()({loader:function(){return Promise.all([n.e(0),n.e(5),n.e(11),n.e(20)]).then(n.bind(null,494))},loading:u.a}),h=l()({loader:function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,498))},loading:u.a}),g=l()({loader:function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,499))},loading:u.a}),m=l()({loader:function(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,500))},loading:u.a}),S=l()({loader:function(){return Promise.all([n.e(0),n.e(27)]).then(n.bind(null,496))},loading:u.a}),A=l()({loader:function(){return Promise.all([n.e(5),n.e(19),n.e(32)]).then(n.bind(null,497))},loading:u.a}),I=l()({loader:function(){return Promise.all([n.e(5),n.e(12),n.e(36)]).then(n.bind(null,495))},loading:u.a}),v=[{path:"/signup",component:h},{path:"/emailVerification",component:g},{path:"/smsVerification",component:l()({loader:function(){return Promise.all([n.e(0),n.e(16),n.e(28)]).then(n.bind(null,501))},loading:u.a}),privateAuth:!0},{path:"/settings",component:A,privateAuth:!0},{path:"/resetPassword",component:m},{path:"/terms",component:I},{path:"/login",component:S,publicAuth:!0},{path:"/newPassword",component:l()({loader:function(){return Promise.all([n.e(0),n.e(29)]).then(n.bind(null,502))},loading:u.a}),privateAuth:!0},{component:_,defaultPath:!0}],T=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return d.a.createElement(O.Switch,null,v.map((function(e,t){return e.privateAuth?d.a.createElement(E.a,{key:"master-route-private-".concat(t),path:e.path,component:e.component}):e.publicAuth?d.a.createElement(b.a,{key:"master-route-public-".concat(t),path:e.path,component:e.component}):e.defaultPath?d.a.createElement(O.Route,{key:"master-route-default-".concat(t),component:e.component}):d.a.createElement(O.Route,{key:"master-route-".concat(t),path:e.path,component:e.component})})))}}]),t}(i.Component);t.a=Object(O.withRouter)(Object(f.connect)(null,null)(T))},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(49),c=n(45),s=n(48),o=function(e){function t(e,n){var s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",p=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],f=arguments.length>8&&void 0!==arguments[8]&&arguments[8];return Object(r.a)(this,t),(s=Object(a.a)(this,Object(c.a)(t).call(this))).uid=e,s.emailVerified=n,s.providerId=o,s.displayName=u,s.email=i,s.avatarURL=d,s.phoneVerified=p,s.authed=l,s.guest=f,s}return Object(s.a)(t,e),t}(n(14).a)},22:function(e,t,n){"use strict";var r,a=n(15),c=n(116);!function(e){e[e.Phone=0]="Phone",e[e.Email=1]="Email",e[e.Provide=2]="Provide",e[e.None=3]="None"}(r||(r={}));var s={firebase:{apiKey:"AIzaSyBtlAw6mYUMqaoqIa6WyXoMKWLwhTe7ZK0",authDomain:"resume-web-app.firebaseapp.com",databaseURL:"https://resume-web-app.firebaseio.com",projectId:"resume-web-app",storageBucket:"resume-web-app.appspot.com",messagingSenderId:"236906995600",appId:"1:236906995600:web:17d5a305b14c04082cdd15"},algolia:{appId:"TOS20M7VT1",apiKey:"c283440030db1f9446e8b410f7352479"},websocket:{url:window.WEBSOCKET_URL||"wss://red-gold-socket.herokuapp.com"},data:{imageFolderPath:"images",avatarFolderPath:"avatar",coverFolderPath:"cover",videoFolderPath:"videos",thumbnailFolderPath:"thumbnail",videoThumbnailPath:"video_thumbnail",locale:"https://raw.githubusercontent.com/red-gold/react-social-locales/master/src/social"},dataFormat:{postVersion:"1.0.0"},exteranlSocial:{instagramClientId:"04cd49f9331643aeae1ad6df6e2b83f0"},settings:{enabledOAuthLogin:!0,appName:"React Social",supportEmail:"amir.gholzam@live.com",appIcon:n(222),logo:n(223),defaultLanguage:c.a.English,defaultVideoThumbnails:n(224),verificationType:r.Email,companyName:"Red Gold",defaultProfileCover:n(225),publicCover:n(226),raisedLogo:n(227),loginCover:n(228),signupCover:n(229),logoHead:n(230),androidAppLink:"https://github.com/Qolzam/react-mobile-social",iosAppLink:"https://github.com/Qolzam/react-mobile-social",api:"/",gateway:"https://red-gold.o6s.io",prettyURL:!0,maxVideoFileSize:20,maxGalley:10},rewrites:{profile:"auth/profile"},header:{title:"React Social",meta:[{name:"description",content:"The React Social Network is an open source project relying on React a powerful javascript library for building the user interface. In this project, I tried to show some features of react/react components as a social network. The structure of this project give the ability to developer to develop their project on their own idea and environment."}]}};n(222),n(223),c.a.English,n(224),r.Email,n(225),n(226),n(227),n(228),n(229),n(230);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=s;t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{},{},u)},222:function(e,t,n){e.exports=n.p+"static/media/appIcon.83ec0295.png"},223:function(e,t,n){e.exports=n.p+"static/media/logo.52206f08.png"},224:function(e,t,n){e.exports=n.p+"static/media/defaultVideoThumbnails.84eee961.png"},225:function(e,t,n){e.exports=n.p+"static/media/coversocial.ee73fe6c.png"},226:function(e,t,n){e.exports=n.p+"static/media/public-cover.c9d5983c.jpg"},227:function(e,t,n){e.exports=n.p+"static/media/raised-logo.dae4dec8.png"},228:function(e,t,n){e.exports=n.p+"static/media/login-cover.d49150f6.jpg"},229:function(e,t,n){e.exports=n.p+"static/media/signup-cover.04ad5103.jpg"},23:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PROGRESS_CHANGE="PROGRESS_CHANGE",e.PROGRESS_CHANGE_WITH_KEY="PROGRESS_CHANGE_WITH_KEY",e.DEFAULT_DATA_DISABLE="DEFAULT_DATA_DISABLE",e.DEFAULT_DATA_ENABLE="DEFAULT_DATA_ENABLE",e.LOADING="LOADING",e.HIDE_MESSAGE_GLOBAL="HIDE_MESSAGE_GLOBAL",e.SHOW_MESSAGE_GLOBAL="SHOW_MESSAGE_GLOBAL",e.HIDE_MESSAG_BY_REFERENCE="HIDE_MESSAG_BY_REFERENCE",e.SHOW_MESSAGE_BY_REFERENCE="SHOW_MESSAGE_BY_REFERENCE",e.SET_HEADER_TITLE="SET_HEADER_TITLE",e.SHOW_TOP_LOADING="SHOW_TOP_LOADING",e.HIDE_TOP_LOADING="HIDE_TOP_LOADING",e.SHOW_MASTER_LOADING="SHOW_MASTER_LOADING",e.HIDE_MASTER_LOADING="HIDE_MASTER_LOADING",e.SHOW_SEND_FEEDBACK="SHOW_SEND_FEEDBACK",e.HIDE_SEND_FEEDBACK="HIDE_SEND_FEEDBACK",e.TEMP="TEMP",e.OPEN_DIALOG="OPEN_DIALOG",e.CLOSE_DIALOG="CLOSE_DIALOG",e.CLEAR_ALL_GLOBAL="CLEAR_ALL_GLOBAL",e.OPEN_POST_WRITE="OPEN_POST_WRITE",e.CLOSE_POST_WRITE="CLOSE_POST_WRITE",e.INIT_LOCALE="INIT_LOCALE",e.CLEAR_LOADED_DATA="CLEAR_LOADED_DATA",e.LOAD_INITIAL_DATA="LOAD_INITIAL_DATA",e.LOAD_TWITTER_MEDIA="LOAD_TWITTER_MEDIA",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY"}(r||(r={}))},230:function(e,t,n){e.exports=n.p+"static/media/logo-head.9da97f4a.png"},239:function(e,t,n){"use strict";var r=n(15),a=n(58),c=n.n(a),s=n(119),o=n(475),u=n(466);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};t.a={logger:function(e){var t=d();window.console.log("\n\n%c =======  ".concat(e," ======= %c").concat(c()().format("HH:mm:ss SSS")," \n"),"color:".concat(t,";font-size:15"),"color:".concat(d(),";font-size:15")),window.console.log("");for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];window.console.log("    ",r),window.console.log("\n =========================================")},getRandomColor:d,updateObject:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},getStateSlice:function(e){return e.toJS().locale},sortImmutable:function(e){return e.sort((function(e,t){return parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10)}))},sortImmutableV2:function(e){return e.sort((function(e,t){return parseInt(t.get("created_date"),10)-parseInt(e.get("created_date"),10)}))},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return s.a.IsMobileA.test(e)||s.a.IsMobileA.test(e.substr(0,4))},removeNil:function(e){return o.a(u.a,e)}}},259:function(e,t,n){"use strict";var r=n(176),a=n(8),c=n(43),s=n(49),o=n(45),u=n(48),i=n(0),d=n.n(i),p=n(61),l=n(95),f=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authed,n=(e.path,e.component),a=Object(r.a)(e,["authed","path","component"]);return d.a.createElement(l.Route,Object.assign({},a,{render:function(e){return t?d.a.createElement(n,e):d.a.createElement(l.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}(i.Component);t.a=Object(p.connect)((function(e,t){return{authed:e.getIn(["authorize","authed"])}}))(f)},26:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_CIRCLE="ADD_CIRCLE",e.DELETE_CIRCLE="DELETE_CIRCLE",e.UPDATE_CIRCLE="UPDATE_CIRCLE",e.ADD_LIST_CIRCLE="ADD_LIST_CIRCLE",e.CLEAR_ALL_CIRCLES="CLEAR_ALL_CIRCLES",e.OPEN_CIRCLE_SETTINGS="OPEN_CIRCLE_SETTINGS",e.CLOSE_CIRCLE_SETTINGS="CLOSE_CIRCLE_SETTINGS",e.ADD_FOLLOWING_USER="ADD_FOLLOWING_USER",e.DELETE_FOLLOWING_USER="DELETE_FOLLOWING_USER",e.UPDATE_USER_TIE="UPDATE_USER_TIE",e.ADD_USER_TIE_LIST="ADD_USER_TIE_LIST",e.ADD_USER_TIED_LIST="ADD_USER_TIED_LIST",e.DELETE_USER_FROM_CIRCLE="DELETE_USER_FROM_CIRCLE",e.SHOW_SELECT_CIRCLE_BOX="SHOW_SELECT_CIRCLE_BOX",e.HIDE_SELECT_CIRCLE_BOX="HIDE_SELECT_CIRCLE_BOX",e.DB_FETCH_CIRCLES="DB_FETCH_CIRCLES",e.DB_FETCH_USER_TIES="DB_FETCH_USER_TIES",e.DB_FETCH_USER_TIEDS="DB_FETCH_USER_TIEDS",e.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT="SET_SELECTED_CIRCLES_USER_BOX_COMPONENT",e.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT="REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT",e.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT="OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT",e.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT="CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT",e.SHOW_FOLLOWING_USER_LOADING="SHOW_FOLLOWING_USER_LOADING",e.HIDE_FOLLOWING_USER_LOADING="HIDE_FOLLOWING_USER_LOADING"}(r||(r={}))},260:function(e,t,n){"use strict";var r=n(176),a=n(8),c=n(43),s=n(49),o=n(45),u=n(48),i=n(0),d=n.n(i),p=n(61),l=n(95),f=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authed,n=(e.path,e.component),a=Object(r.a)(e,["authed","path","component"]);return d.a.createElement(l.Route,Object.assign({},a,{render:function(e){return t?d.a.createElement(l.Redirect,{to:{pathname:"/"}}):d.a.createElement(n,e)}}))}}]),t}(i.Component);t.a=Object(p.connect)((function(e,t){return{authed:e.getIn(["authorize","authed",!1])}}))(f)},28:function(e,t,n){"use strict";n.r(t),n.d(t,"sendRequest",(function(){return u})),n.d(t,"deleteRequest",(function(){return i})),n.d(t,"okRequest",(function(){return d})),n.d(t,"errorRequest",(function(){return p})),n.d(t,"clearAllrequests",(function(){return l}));var r=n(15),a=n(85),c=n(4);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return{type:a.a.ADD_REQUEST,payload:{request:Object(c.Map)(o({},e))}}},i=function(e){return{type:a.a.DELETE_REQUEST,payload:{requestId:e}}},d=function(e){return{type:a.a.OK_REQUEST,payload:{requestId:e}}},p=function(e,t){return{type:a.a.ERROR_REQUEST,payload:{requestId:e,error:t}}},l=function(){return{type:a.a.CLEAR_ALL_DATA_REQUEST}}},29:function(e,t,n){"use strict";var r,a,c,s,o,u,i,d,p,l,f,O,E,b,_,h,g=n(9),m=n(2),S=n.n(m),A=n(13),I=n(40),v=n(8),T=n(43),j=n(41),C=(n(74),n(25)),D=n(22),y=n(121),R=n.n(y),L=n(14),x=(r=Object(C.injectable)(),a=Object(C.inject)(g.a.PermissionService),r((s=function(){function e(){Object(v.a)(this,e),Object(I.a)(this,"_permissionService",o,this),this.get=this.get.bind(this),this.post=this.post.bind(this)}return Object(T.a)(e,[{key:"get",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n){var r,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,a="".concat(D.a.settings.api).concat(r),e.next=4,R.a.get(a);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,e.next=3,R.a.post("".concat(D.a.settings.api).concat(r),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postFile",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n,r,a){var c,s,o,u,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,s={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a(t,!0,r)}},e.prev=2,e.next=5,R.a.post("".concat(D.a.settings.api).concat(c),n,s);case 5:return o=e.sent,e.abrupt("return",o.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log(e.t0),u=new L.c("HttpService/WrongSetting","Error happened!"),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers),(i=e.t0.response.data).isError?(u.code=i.code,u.message=i.message):413==e.t0.response.status?(u.code="HttpService/LargeFile",u.message="The file is too large."):(u.code="HttpService/PostFile/Error",u.message="The request was made and the server responded with a status code that falls out of the range of 2xx")):e.t0.request?(console.log(e.t0.request),u.code="HttpService/NoResponse",u.message="\n            The request was made but no response was received\n            error.request is an instance of XMLHttpRequest in the browser and an instance of\n            http.ClientRequest in node.js\n            "):(console.log("Error",e.t0.message),u.code="HttpService/PostFile/Unexpected",u.message="\n            Something happened in setting up the request that triggered an Error\n            "),console.log(e.t0.config),u;case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n){var r,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,a="".concat(D.a.settings.api).concat(r),e.next=4,R.a.put(a,n);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(A.a)(S.a.mark((function e(t){var n,r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,r="".concat(D.a.settings.api).concat(n),e.next=4,R.a.delete(r);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWithoutAuth",value:function(){var e=Object(A.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._permissionService.getIdToken();case 2:return n=D.a.settings.prettyURL?t:D.a.rewrites[t]||t,e.next=5,R.a.get("".concat(D.a.settings.api).concat(n));case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postWithoutAuth",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n){var r,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat(D.a.settings.api).concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),a=new L.c("HttpService/WrongSetting","Error happened!"),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers),(c=e.t0.response.data).isError?(a.code=c.code,a.message=c.message):(a.code="HttpService/PostWithoutAuth",a.message="The request was made and the server responded with a status code that falls out of the range of 2xx")):e.t0.request?(console.log(e.t0.request),a.code="HttpService/postWithoutAuth/NoResponse",a.message="\n                The request was made but no response was received\n                error.request is an instance of XMLHttpRequest in the browser and an instance of\n                http.ClientRequest in node.js\n                "):(console.log("Error",e.t0.message),a.code="HttpService/postWithoutAuth/WrongSetting",a.message="\n                Something happened in setting up the request that triggered an Error\n                "),console.log(e.t0.config),a;case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),o=Object(j.a)(s.prototype,"_permissionService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=s))||c),P=n(239),w=Object(C.injectable)()(u=function e(){Object(v.a)(this,e),this.addGraph=function(e,t){return" Not implemented!"},this.updateGraph=function(e,t){return" Not implemented!"},this.getGraphs=function(e,t,n,r){return" Not implemented!"},this.deleteGraphByNodeId=function(e){return" Not implemented!"},this.deleteGraph=function(e,t,n,r){return" Not implemented!"},this.getGraphsQuery=function(e,t,n,r){return" Not implemented!"}})||u,M=n(4),N=(i=Object(C.injectable)(),d=Object(C.inject)(g.a.Httpervice),i((l=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",f,this),this.addVote=function(){var e=Object(A.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.post("votes",n);case 3:return r=e.sent,e.abrupt("return",r.objectId);case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getVotes=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("votes?postId=".concat(n,"&page=").concat(r,"&limit=").concat(a));case 3:return c=e.sent,s=Object(M.Map)({}),c.forEach((function(e){var t={id:e.objectId,creationDate:e.created_date};s=s.set(e.objectId,Object(M.Map)(t))})),e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.deleteVote=function(){var e=Object(A.a)(S.a.mark((function e(n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("votes/post/".concat(r));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},f=Object(j.a)(l.prototype,"_httpService",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=l))||p),U=n(15),k=n(204);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F,B,q,V,Y,K,W,z,Q,J,X,$,Z,ee,te,ne=(O=Object(C.injectable)(),E=Object(C.inject)(g.a.Httpervice),O((_=function(){function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",h,this),this.addPost=function(){var e=Object(A.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.post("posts",H({},n,{objectId:n.id}));case 3:return r=e.sent,e.abrupt("return",r.objectId);case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updatePost=function(){var e=Object(A.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.votes||delete n.votes,n.comments||delete n.comments,e.next=5,t._httpService.put("posts",n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deletePost=function(){var e=Object(A.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("posts/".concat(n));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),this.getPostById=function(){var e=Object(A.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("posts/".concat(n));case 3:return r=e.sent,e.abrupt("return",H({},r,{id:r.objectId,creationDate:r.created_date}));case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getSearchKey=this.getSearchKey.bind(this),this.searchPosts=this.searchPosts.bind(this),this.getAlbumPosts=this.getAlbumPosts.bind(this),this.getPostsByUserId=this.getPostsByUserId.bind(this)}return Object(T.a)(e,[{key:"getPostsByUserId",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n,r,a,c){var s,o,u,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._httpService.get("posts?owner=".concat(t,"&page=").concat(r+1,"&limit=").concat(a));case 3:return s=e.sent,o=s?s.length:0,u=Object(M.Map)({}),i=Object(M.Map)({}),s&&s.forEach((function(e){var t=0;e.votes&&Object.keys(e.votes).forEach((function(n){e.votes[n]&&t++})),u=u.set(e.objectId,Object(M.fromJS)(H({},e,{id:e.objectId,creationDate:e.created_date,score:t}))),i=i.set(e.objectId,!0)})),e.abrupt("return",{posts:u,ids:i,newLastPostId:o>0?s[0].objectId:"",hasMore:!(o<(a||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}()},{key:"getAlbumPosts",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n,r,a,c){var s,o,u,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._httpService.get("posts?type=".concat(k.a.Album,"&page=").concat(r+1,"&limit=").concat(a));case 3:return s=e.sent,o=s?s.length:0,u=Object(M.Map)({}),i=Object(M.Map)({}),s&&s.forEach((function(e){var t=0;e.votes&&Object.keys(e.votes).forEach((function(n){e.votes[n]&&t++})),u=u.set(e.objectId,Object(M.fromJS)(H({},e,{id:e.objectId,creationDate:e.created_date,score:t}))),i=i.set(e.objectId,!0)})),e.abrupt("return",{posts:u,ids:i,newLastPostId:o>0?s[0].objectId:"",hasMore:!(o<(a||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}()},{key:"searchPosts",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n,r,a,c,s){var o,u,i,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._httpService.get("posts?search=".concat(t,"&page=").concat(a+1,"&limit=").concat(c,"&owner=").concat(n));case 3:return o=e.sent,u=o?o.length:0,i=Object(M.Map)({}),d=Object(M.Map)({}),o&&o.forEach((function(e){var t=0;e.votes&&Object.keys(e.votes).forEach((function(n){e.votes[n]&&t++})),i=i.set(e.objectId,Object(M.fromJS)(H({},e,{id:e.objectId,creationDate:e.created_date,score:t}))),d=d.set(e.objectId,!0)})),e.abrupt("return",{posts:i,ids:d,newLastPostId:u>0?o[0].objectId:"",hasMore:!(u<(c||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,r,a,c,s){return e.apply(this,arguments)}}()},{key:"getSearchKey",value:function(){var e=Object(A.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),h=Object(j.a)(_.prototype,"_httpService",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_))||b),re=n(166),ae=(F=Object(C.injectable)(),B=Object(C.inject)(g.a.Httpervice),F((V=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",Y,this),this.uploadFile=function(e,n,r,a,c,s){var o=new FormData;o.append("file",n),t._httpService.postFile("storage/".concat(e),o,r,a).then((function(e){a(100,!1,r),console.log(e);var t=e.payload.url;c(new re.a(t),{url:t})})).catch((function(e){s(e),console.log("========== Upload Image ============"),console.log(e),console.log("====================================")}))},this.deleteFile=function(){var e=Object(A.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Y=Object(j.a)(V.prototype,"_httpService",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=V))||q),ce=(K=Object(C.injectable)(),W=Object(C.inject)(g.a.Httpervice),K((Q=function e(){Object(v.a)(this,e),Object(I.a)(this,"_httpService",J,this),this.getTwitterMedia=function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implementd!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addFeed=function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implementd!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=Object(j.a)(Q.prototype,"_httpService",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Q))||z);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue,ie,de,pe,le,fe=(X=Object(C.injectable)(),$=Object(C.inject)(g.a.Httpervice),X((ee=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",te,this),this.addComment=function(){var e=Object(A.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.post("comments",n);case 3:return r=e.sent,e.abrupt("return",r.objectId);case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getComments=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c,s,o,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("comments?postId=".concat(n,"&page=").concat(r+1,"&limit=").concat(a));case 3:return c=e.sent,s=c?c.length:0,o=Object(M.Map)({}),u=Object(M.Map)({}),c&&c.forEach((function(e){o=o.set(e.objectId,Object(M.fromJS)(oe({},e,{id:e.objectId,creationDate:e.created_date}))),u=u.set(e.objectId,!0)})),e.abrupt("return",{comments:o,ids:u,newLastCommentId:s>0?c[0].objectId:"",hasMore:!(s<(a||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.updateComment=function(){var e=Object(A.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.put("comments",oe({},n,{objectId:n.id}));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteComment=function(){var e=Object(A.a)(S.a.mark((function e(n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("comments/id/".concat(n,"/post/").concat(r));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},te=Object(j.a)(ee.prototype,"_httpService",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=ee))||Z);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(n,!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be,_e,he,ge,me,Se,Ae,Ie,ve,Te,je,Ce,De,ye,Re,Le,xe,Pe,we,Me=(ue=Object(C.injectable)(),ie=Object(C.inject)(g.a.Httpervice),ue((pe=function(){function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",le,this),this.getUserProfile=function(){var e=Object(A.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("profile/id/".concat(n));case 3:return r=e.sent,e.abrupt("return",Ee({},r,{userId:r.objectId,creationDate:r.created_date}));case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/getUserProfile :"+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCurrentUserProfile=Object(A.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("profile/my");case 3:return n=e.sent,e.abrupt("return",Ee({},n,{userId:n.objectId,creationDate:n.created_date}));case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/getUserProfile :"+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.updateUserProfile=function(){var e=Object(A.a)(S.a.mark((function e(n,r){var a,c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._httpService.put("auth/profile",Ee({},r)),e.next=3,a;case 3:return c=t._httpService.put("posts/profile"),s=t._httpService.put("comments/profile"),e.next=7,Promise.all([s,c]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.increaseShareCount=function(e){return" Not implemented!"},this.decreaseShareCount=function(e){return" Not implemented!"},this.increaseFollowCount=function(e){return" Not implemented!"},this.initUserStatus=function(e){return" Not implemented!"},this.decreaseFollowCount=function(e){return" Not implemented!"},this.getUsersProfile=function(e,t,n,r){return"Not implemented"},this.getSearchKey=this.getSearchKey.bind(this),this.searchUser=this.searchUser.bind(this)}return Object(T.a)(e,[{key:"searchUser",value:function(){var e=Object(A.a)(S.a.mark((function e(t,n,r,a,c){var s,o,u,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._httpService.get("profile?search=".concat(t,"&page=").concat(r+1,"&limit=").concat(a));case 3:return s=e.sent,o=s?s.length:0,u=Object(M.Map)({}),i=Object(M.Map)({}),s&&s.forEach((function(e){e.objectId!==n&&(u=u.set(e.objectId,Object(M.fromJS)(Ee({},e,{userId:e.objectId,creationDate:e.created_date}))),i=i.set(e.objectId,!0))})),e.abrupt("return",{users:u,ids:i,newLastPostId:o>0?s[0].objectId:"",hasMore:!(o<(a||10))});case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}()},{key:"getSearchKey",value:function(){var e=Object(A.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),le=Object(j.a)(pe.prototype,"_httpService",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=pe))||de),Ne=n(117),Ue=n(114),ke=n.n(Ue),Ge=n(165),He=(be=Object(C.injectable)(),_e=Object(C.inject)(g.a.Httpervice),be((ge=function(){function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",me,this),this.login=function(e,t){return" Not implemented!"},this.isLoggedin=function(){return null!==t.getUserAuthCookie()},this.getUserAuthCookie=function(){var e=Ne.a.readCookie("pa");return e||null},this.getUserAuth=function(){var e=t.getUserAuthCookie();return e?ke()("_.".concat(e,"._")):null},this.logout=function(){Ne.a.eraseCookie("pa")},this.getUserRegisterToken=function(){var e=Object(A.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getAccessToken=Object(A.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("actions/room/access-key");case 3:return n=e.sent,e.abrupt("return",n.accessKey);case 7:throw e.prev=7,e.t0=e.catch(0),new Ge.a(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.verifyUserRegisterCode=function(){var e=Object(A.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.registerUser=function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updatePassword=function(e,t){return" Not implemented!"},this.getUserClaim=function(e){return" Not implemented!"},this.onAuthStateChanged=function(e){return" Not implemented!"},this.resetPassword=function(e){return" Not implemented!"},this.sendEmailVerification=function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loginWithOAuth=function(e){return" Not implemented!"},this.sendSmsVerification=function(e,t){return" Not implemented!"},this.sendResetPasswordVerification=function(e,t){return" Not implemented!"},this.confirmVerificationPhone=function(e,t,n){return" Not implemented!"},this.confirmVerificationEmail=function(){var e=Object(A.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.confirmResetPassword=function(e,t,n){return" Not implemented!"},this.storeUserInformation=function(e,t,n,r,a,c){return" Not implemented!"},this.storeUserProviderData=function(e,t,n,r,a,c){return" Not implemented!"}}return Object(T.a)(e,[{key:"loginByToken",value:function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"isUserUserVerified",value:function(){return" Not implemented!"}}]),e}(),me=Object(j.a)(ge.prototype,"_httpService",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=ge))||he),Fe=(Se=Object(C.injectable)(),Ae=Object(C.inject)(g.a.Httpervice),Se((ve=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",Te,this),this.addCircle=function(){var e=Object(A.a)(S.a.mark((function e(n,r){var a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={name:r.name},e.next=4,t._httpService.post("circles",a);case 4:return c=e.sent,e.abrupt("return",c.objectId);case 8:throw e.prev=8,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),this.updateCircle=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.put("circles",a);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.deleteCircle=function(){var e=Object(A.a)(S.a.mark((function e(n,r){var a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t._httpService.delete("circles/".concat(r)),c=t._httpService.delete("user-rels/circle/".concat(r)),e.next=5,Promise.all([a,c]);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getCircles=function(){var e=Object(A.a)(S.a.mark((function e(n){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("circles/my");case 3:return r=e.sent,a=Object(M.Map)({}),r.forEach((function(e){var t={id:e.objectId,creationDate:e.created_date,ownerId:e.ownerUserId,name:e.name,isSystem:e.isSystem};a=a.set(e.objectId,Object(M.Map)(t))})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Te=Object(j.a)(ve.prototype,"_httpService",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=ve))||Ie),Be=n(80),qe=function e(t,n,r,a,c,s,o,u,i,d,p,l){var f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,O=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,E=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"",b=arguments.length>15&&void 0!==arguments[15]&&arguments[15],_=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[],h=arguments.length>17&&void 0!==arguments[17]?arguments[17]:Be.a.Public;Object(v.a)(this,e),this.objectId=t,this.deletedDate=n,this.created_date=r,this.thumbnail=a,this.url=c,this.fullPath=s,this.caption=o,this.directory=u,this.fileName=i,this.ownerUserId=d,this.last_updated=p,this.albumId=l,this.height=f,this.width=O,this.meta=E,this.deleted=b,this.accessUserList=_,this.permission=h},Ve=n(122),Ye=n.n(Ve);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze,Qe,Je,Xe,$e,Ze,et,tt,nt,rt,at,ct,st=(je=Object(C.injectable)(),Ce=Object(C.inject)(g.a.StorageService),De=Object(C.inject)(g.a.PostService),ye=Object(C.inject)(g.a.Httpervice),je((Le=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_storageService",xe,this),Object(I.a)(this,"_postService",Pe,this),Object(I.a)(this,"_httpService",we,this),this.getGallery=function(){var e=Object(A.a)(S.a.mark((function e(n,r){var a,c,s,o,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("media/dir/".concat(r));case 3:return a=e.sent,c=Object(M.Map)({}),s=Object(M.Map)({}),o=a&&a.length&&a.length>0,u=o?a[0].objectId:"",o&&a.forEach((function(e){var t=We({},e,{id:e.objectId,creationDate:e.created_date});s=s.set(e.objectId,Object(M.Map)(t)),c=c.set(e.objectId,!0)})),e.abrupt("return",{mappedImages:s,ids:c,newLastImageId:u});case 12:throw e.prev=12,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),this.saveImages=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],a.forEach((function(e){e.objectId=Ye.a.v4(),c.push(new qe(e.objectId,0,0,e.thumbnail,e.url,"",e.caption,r,e.fileName,e.ownerUserId,0,""===e.albumId?"00000000-0000-0000-0000-000000000000":e.albumId,e.height,e.width,e.meta,!1,e.accessUserList,e.permission))})),e.prev=2,e.next=5,t._httpService.post("media/list",{list:c});case 5:return e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(2),new L.c(e.t0.code,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.setPhotoAlbum=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a,c){var s,o,u,i,d,p;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ye.a.v4(),a.id=s,o=t._postService.addPost(a),c.forEach((function(e){e.albumId=s})),u=t.saveImages(n,r,c),e.next=7,Promise.all([o,u]);case 7:return i=Object(M.Map)({}),d=Object(M.Map)({}),c.forEach((function(e){var t=Object(M.fromJS)(We({},e));d=d.set(e.objectId,t),i=i.set(e.objectId,!0)})),p=(p=Object(M.fromJS)(We({},a))).set("album",Object(M.fromJS)(We({},a.album))),e.abrupt("return",{newAlbum:p,imageIds:i,images:d});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),this.fetchAlbumImages=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c,s,o,u,i,d,p=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]?p[3]:10,p.length>4?p[4]:void 0,e.next=4,t._httpService.get("posts?album=".concat(r,"&page=").concat(a+1,"&limit=").concat(c));case 4:return s=e.sent,o=Object(M.Map)({}),u=s&&s.length&&s.length>0,i=u?s[0].objectId:"",d=Object(M.Map)({}),u&&s.forEach((function(e){o=o.set(e.objectId,Object(M.fromJS)(e)),d=d.set(e.objectId,!0)})),e.abrupt("return",{mappedImages:o,ids:d,newLastImageId:i});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.saveFile=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.directory=a,r.albumId=""===r.albumId?"00000000-0000-0000-0000-000000000000":r.albumId,e.next=5,t._httpService.post("media",r);case 5:return c=e.sent,e.abrupt("return",c.objectId);case 9:throw e.prev=9,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.deleteImage=function(){var e=Object(A.a)(S.a.mark((function e(n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._storageService.deleteFile(n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.deleteFile=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("media/id/".concat(r));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.uploadFile=function(e,n,r,a,c,s){t._storageService.uploadFile(e,n,r,a,c,s)},this.downloadFile=function(e,t){return"Not implemented!"},this.uploadFile=this.uploadFile.bind(this)},xe=Object(j.a)(Le.prototype,"_storageService",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Object(j.a)(Le.prototype,"_postService",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Object(j.a)(Le.prototype,"_httpService",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=Le))||Re),ot=(ze=Object(C.injectable)(),Qe=Object(C.inject)(g.a.Httpervice),ze((Xe=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",$e,this),this.addNotification=function(e){return" Not implemented!"},this.getNotifications=function(e,n){t._httpService.get("notifications?page=1").then((function(e){var t=Object(M.Map)({});e&&e.length&&e.length>0&&(e.forEach((function(e){t=t.set(e.objectId,Object(M.Map)(e))})),n(t))})).catch((function(e){throw new L.c(e.code,e.message)}))},this.deleteNotification=function(){var e=Object(A.a)(S.a.mark((function e(n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("notifications/id/".concat(n));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),this.setSeenNotification=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.put("notifications/seen/".concat(n));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()},$e=Object(j.a)(Xe.prototype,"_httpService",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=Xe))||Je),ut={GraphService:Symbol("GraphService")},it=n(148);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(n,!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt,ft,Ot,Et,bt,_t,ht,gt=(Ze=Object(C.injectable)(),et=Object(C.inject)(g.a.Httpervice),tt=Object(C.inject)(ut.GraphService),Ze((rt=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",at,this),Object(I.a)(this,"_graphService",ct,this),this.tieUseres=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c,s,o,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={userId:n.userId,fullName:n.fullName,avatar:n.avatar},s={userId:r.userId,fullName:r.fullName,avatar:r.avatar},o={left:c,right:s,rel:[r.userId,n.userId],circleIds:a},e.next=6,t._httpService.post("user-rels/follow",o);case 6:return u=e.sent,e.abrupt("return",u.objectId);case 10:throw e.prev=10,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/tieUseres :"+e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.updateUsersTie=function(){var e=Object(A.a)(S.a.mark((function e(n,r,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={circleIds:a,rightId:r.userId},e.next=4,t._httpService.put("user-rels/circles",c);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/updateUsersTie :"+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.removeUsersTie=function(){var e=Object(A.a)(S.a.mark((function e(n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.delete("user-rels/unfollow/".concat(r));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/removeUsersTie :"+e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getUserTies=function(){var e=Object(A.a)(S.a.mark((function e(n){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("user-rels/following");case 3:if(r=e.sent,a=Object(M.Map)({}),r&&r.length>0){e.next=7;break}return e.abrupt("return",a);case 7:return r.forEach((function(e){var t=e.created_date,n=e.circleIds,r=e.right,c=r.userId,s=r.fullName,o=r.avatar,u=new it.a(c,t,s,o,!0,n);a=a.set(u.userId,Object(M.Map)(pt({},u,{circleIdList:n?Object(M.List)(n):Object(M.List)([])})))})),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/getUserTies :"+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),this.getUserTieSender=function(){var e=Object(A.a)(S.a.mark((function e(n){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("user-rels/followers");case 3:if(r=e.sent,a=Object(M.Map)({}),r&&r.length>0){e.next=7;break}return e.abrupt("return",a);case 7:return r.forEach((function(e){var t=e.created_date,n=e.circleIds,r=e.left,c=r.userId,s=r.fullName,o=r.avatar,u=new it.a(c,t,s,o,!0,n);a=a.set(u.userId,Object(M.Map)(pt({},u,{circleIdList:Object(M.List)([])})))})),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),new L.c(e.t0.code,"firestore/getUserTieSender :"+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},at=Object(j.a)(rt.prototype,"_httpService",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Object(j.a)(rt.prototype,"_graphService",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=rt))||nt),mt=(lt=Object(C.injectable)(),ft=Object(C.inject)(g.a.Httpervice),lt((Et=function e(){var t=this;Object(v.a)(this,e),Object(I.a)(this,"_httpService",bt,this),this.updateUserSetting=function(){var e=Object(A.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.put("setting",n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),this.getUserSettings=Object(A.a)(S.a.mark((function e(){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._httpService.get("setting");case 3:return n=e.sent,r=Object(M.Map)({}),Object.keys(n).forEach((function(e){var t=n[e],a=Object(M.Map)({});t.forEach((function(e){a=a.set(e.name,Object(M.Map)(e))})),r=r.set(e,a)})),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),new L.c(e.t0.code,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))},bt=Object(j.a)(Et.prototype,"_httpService",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=Et))||Ot),St=n(269),At=n.n(St),It=Object(C.injectable)()(_t=function(){function e(){var t=this;Object(v.a)(this,e),this.socket=null,this.wsConnect=function(e,n,r,a){return t.socket=At()(e,{query:"accessKey=".concat(n,"&uid=").concat(r)}),t.socket.on("connect",(function(){console.log("ws is connected."),a({signal:"status",data:"Connected"})})),t.socket.on("disconnect",(function(){console.log("ws is disconnected."),a({signal:"status",data:"Disconnected"})})),t.socket.on("reconnect",(function(e){console.log("reconnecting #".concat(e," ...")),a({signal:"status",data:"Reconnecting"})})),t.socket.on("dispatch",(function(e){if(console.log("dispatch: ",e),!e)throw new L.c("emptyActionError","Empty action fired on dispatch from websocket server!");a({signal:"dispatch",data:e})})),t.socket.on("dispatch-list",(function(e){if(console.log("dispatch action list: ",e),!e||!e.length)throw new L.c("emptyActionListError","Empty action list fired on dispatch from websocket server!");for(var t=0;t<e.length;t++){var n=e[t];a({signal:"dispatch",data:n})}})),t.socket.close},this.createChatRquest=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("request-chat",{recUserId:e})},this.cancelChatRquest=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("cancel-chat",{recUserId:e})},this.ignoreChatRquest=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("ignore-chat",{reqUserId:e})},this.acceptChatRquest=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("accept-chat",{reqUserId:e})},this.closeChat=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("close-chat",{userId:e})},this.joinChatRoom=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("join-chat",{roomId:e})},this.createChatMessage=function(e){if(!t.socket)throw new L.c("nullSocketError","There is no connection bound to socket!");t.socket.emit("chatroom-message",{message:e})},this.createChatRoom=function(e){return"Not implemented"},this.getPeerChatRoom=function(e,t){return"Not implemented"},this.setChatLangauge=function(e,t,n,r){return"Not implemented"},this.subscribeChatMessages=function(e,t){return"Not implemented"},this.getChatMessages=function(e){return"Not implemented"},this.removeHistoryRoom=this.removeHistoryRoom.bind(this),this.removeMessagesByBatch=this.removeMessagesByBatch.bind(this),this.romveMessages=this.romveMessages.bind(this)}return Object(T.a)(e,[{key:"removeHistoryRoom",value:S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))},{key:"removeMessagesByBatch",value:S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))},{key:"romveMessages",value:S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"Not implemented";case 2:case"end":return e.stop()}}),e)}))}]),e}())||_t,vt=Object(C.injectable)()(ht=function e(){Object(v.a)(this,e),this.getIdToken=Object(A.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return"," Not implemented!");case 1:case"end":return e.stop()}}),e)}))),this.getIdToken=this.getIdToken.bind(this)})||ht;n.d(t,"a",(function(){return Tt})),window.console.trace=P.a.logger;var Tt=new C.Container;Tt.bind(g.a.Httpervice).to(x),function(e){e.bind(g.a.PermissionService).to(vt),e.bind(g.a.AuthorizeService).to(He),e.bind(g.a.CircleService).to(Fe),e.bind(g.a.CommentService).to(fe),e.bind(g.a.CommonService).to(ce).inSingletonScope(),e.bind(g.a.ImageGalleryService).to(st),e.bind(g.a.StorageService).to(ae),e.bind(g.a.NotificationService).to(ot),e.bind(g.a.PostService).to(ne),e.bind(g.a.UserService).to(Me),e.bind(g.a.VoteService).to(N),e.bind(ut.GraphService).to(w),e.bind(g.a.UserTieService).to(gt),e.bind(g.a.UserSettingService).to(mt),e.bind(g.a.ChatService).to(It)}(Tt)},30:function(e,t,n){"use strict";var r=n(44),a=n(4),c=n(8),s=function e(){Object(c.a)(this,e),this.uid=0,this.authed=!1,this.isVerifide=!1,this.updatePassword=!1,this.guest=!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.Map)(new s),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case r.a.LOGIN:return e.update((function(e){return n}));case r.a.LOGOUT:return e.set("uid",0).set("authed",!1).set("guest",!0).set("isVerifide",!1);case r.a.SIGNUP:return e.set("uid",n.userId);case r.a.SET_USER_REGISTER_TOKEN:return e.setIn(["ui","registerToken"],n.token);case r.a.SET_ACCESS_TOKEN:return e.setIn(["ui","accessToken"],n.token);case r.a.SET_LOGIN:return e.setIn(["ui","isLoggedin"],n.status);case r.a.SET_SIGNUP_STEP:return e.setIn(["ui","signupStep"],n.step);default:return e}},u=n(39);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u.a}))},318:function(e,t,n){e.exports=n(465)},33:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.CircleAddToCircle="CircleAddToCircle",e.CircleFollowUser="CircleFollowUser",e.CircleCreateTieUser="CircleCreateTieUser",e.CircleDeleteFollowingUser="CircleDeleteFollowingUser",e.CommonSendFeedback="CommonSendFeedback",e.CommentGetComments="CommentGetComments",e.StreamGetPosts="StreamGetPosts",e.SearchPosts="SearchPosts",e.ProfileGetPosts="ProfileGetPosts",e.ProfileGetAlbums="ProfileGetAlbums",e.AuthLogin="AuthLogin",e.AuthSignup="AuthSignup",e.UserFetchRequest="UserFetchRequest",e.GalleryCreateAlbum="GalleryCreateAlbum"}(r||(r={}))},38:function(e,t,n){"use strict";n.r(t),n.d(t,"dbGetUserInfo",(function(){return i})),n.d(t,"dbGetUserInfoByUserId",(function(){return d})),n.d(t,"dbUpdateUserInfo",(function(){return p})),n.d(t,"addUserInfo",(function(){return l})),n.d(t,"addPlainUserInfo",(function(){return f})),n.d(t,"dbFetchFindPeople",(function(){return O})),n.d(t,"fetchUserSearch",(function(){return E})),n.d(t,"addFindPeople",(function(){return b})),n.d(t,"setPostSearchKey",(function(){return _})),n.d(t,"addUserSearch",(function(){return h})),n.d(t,"addPeopleInfo",(function(){return g})),n.d(t,"updateUserInfo",(function(){return m})),n.d(t,"clearAllData",(function(){return S})),n.d(t,"openEditProfile",(function(){return A})),n.d(t,"closeEditProfile",(function(){return I})),n.d(t,"addProfilePosts",(function(){return v})),n.d(t,"addProfileAlbums",(function(){return T})),n.d(t,"hasMoreFindPeople",(function(){return j})),n.d(t,"notMoreFindPeople",(function(){return C})),n.d(t,"hasMoreSearchPeople",(function(){return D})),n.d(t,"notMoreSearchPeople",(function(){return y})),n.d(t,"setFindPagePeoplePage",(function(){return R})),n.d(t,"fetchAlbums",(function(){return L})),n.d(t,"increasePageAlbum",(function(){return x})),n.d(t,"hasMoreDataAlbum",(function(){return P})),n.d(t,"notMoreDataAlbum",(function(){return w})),n.d(t,"requestPageAlbum",(function(){return M})),n.d(t,"lastPostAlbum",(function(){return N})),n.d(t,"increaseFindPagePeoplePage",(function(){return U})),n.d(t,"lastUserPeople",(function(){return k})),n.d(t,"increaseFollowCountUser",(function(){return G})),n.d(t,"decreaseFollowCountUser",(function(){return H})),n.d(t,"increaseShareCountUser",(function(){return F})),n.d(t,"decreaseShareCountUser",(function(){return B})),n.d(t,"increaseVoteCountUser",(function(){return q})),n.d(t,"decreaseVoteCountUser",(function(){return V})),n.d(t,"increasePostCountUser",(function(){return Y})),n.d(t,"decreasePostCountUser",(function(){return K}));var r=n(10),a=n(9),c=n(29),s=n(5),o=n(52),u=c.a.get(a.a.UserService),i=function(){return{type:r.a.DB_FETCH_USER_PROFILE}},d=function(e,t){return{type:r.a.DB_FETCH_USER_PROFILE_BY_ID,payload:{uid:e,callerKey:t}}},p=function(e){return function(t,n){var r=n(),a=r.getIn(["authorize","uid"]),c=o.a.getUserProfileById(r,{userId:a});return e.avatar&&(c=c.set("avatar",e.avatar)),e.banner&&(c=c.set("banner",e.banner)),e.email&&(c=c.set("email",e.email)),e.fullName&&(c=c.set("fullName",e.fullName)),e.tagLine&&(c=c.set("tagLine",e.tagLine)),e.birthday&&(c=c.set("birthday",e.birthday)),e.companyName&&(c=c.set("companyName",e.companyName)),e.webUrl&&(c=c.set("webUrl",e.webUrl)),c=e.twitterId?c.set("twitterId",e.twitterId):c.set("twitterId",""),c=e.facebookId?c.set("facebookId",e.facebookId):c.set("facebookId",""),e.creationDate&&(c=c.set("creationDate",e.creationDate)),e.permission&&(c=c.set("permission",e.permission)),e.accessUserList&&(c=c.set("accessUserList",e.accessUserList)),t(s.showTopLoading()),u.updateUserProfile(a,c.toJS()).then((function(){t(s.hideTopLoading()),t(m(a,c)),t(I())})).catch((function(e){t(s.hideTopLoading()),t(s.showMessage(e.message))}))}},l=function(e,t){return{type:r.a.ADD_USER_INFO,payload:{uid:e,info:t}}},f=function(e,t){return{type:r.a.ADD_PLAIN_USER_INFO,payload:{uid:e,info:t}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return{type:r.a.DB_FETCH_FIND_PEOPLE,payload:{page:e,limit:t}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{type:r.a.DB_FETCH_USER_SEARCH,payload:{query:e,page:t,limit:n}}},b=function(e){return{type:r.a.ADD_FIND_PEOPLE,payload:{userIds:e}}},_=function(e){return{type:r.a.SET_USER_SEARCH_KEY,payload:{searchKey:e}}},h=function(e,t){return{type:r.a.ADD_USER_SEARCH,payload:{userIds:e},meta:{overwrite:t}}},g=function(e){return{type:r.a.ADD_PEOPLE_INFO,payload:e}},m=function(e,t){return{type:r.a.UPDATE_USER_INFO,payload:{uid:e,info:t}}},S=function(){return{type:r.a.CLEAR_ALL_DATA_USER}},A=function(){return{type:r.a.OPEN_EDIT_PROFILE}},I=function(){return{type:r.a.CLOSE_EDIT_PROFILE}},v=function(e,t){return{type:r.a.ADD_PROFILE_LIST_POST,payload:{postIds:t,userId:e}}},T=function(e,t){return{type:r.a.ADD_PROFILE_LIST_ALBUM,payload:{postIds:t,userId:e}}},j=function(){return{type:r.a.HAS_MORE_FIND_PEOPLE}},C=function(){return{type:r.a.NOT_MORE_FIND_PEOPLE}},D=function(){return{type:r.a.HAS_MORE_PEOPLE_SEARCH}},y=function(){return{type:r.a.NOT_MORE_PEOPLE_SEARCH}},R=function(e){return{type:r.a.SET_FIND_PEOPLE_PAGE,payload:{page:e}}},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{type:r.a.DB_GET_ALBUM_POST_BY_USER_ID,payload:{userId:e,page:t,limit:n}}},x=function(e){return{type:r.a.INCREASE_PAGE_ALBUM,payload:{userId:e}}},P=function(e){return{type:r.a.HAS_MORE_DATA_ALBUM,payload:{userId:e}}},w=function(e){return{type:r.a.NOT_MORE_DATA_ALBUM,payload:{userId:e}}},M=function(e,t){return{type:r.a.REQUEST_PAGE_ALBUM,payload:{userId:e,page:t}}},N=function(e,t){return{type:r.a.LAST_POST_ALBUM,payload:{userId:e,lastPostId:t}}},U=function(){return{type:r.a.INCREASE_FIND_PEOPLE_PAGE}},k=function(e){return{type:r.a.LAST_USER_PEOPLE,payload:{lastUserId:e}}},G=function(e){return{type:r.a.INCREASE_FOLLOWING_COUNT_USER,payload:{userId:e}}},H=function(e){return{type:r.a.DECREASE_FOLLOWING_COUNT_USER,payload:{userId:e}}},F=function(e){return{type:r.a.INCREASE_SHARE_COUNT_USER,payload:{userId:e}}},B=function(e){return{type:r.a.DECREASE_SHARE_COUNT_USER,payload:{userId:e}}},q=function(e){return{type:r.a.INCREASE_VOTE_COUNT_USER,payload:{userId:e}}},V=function(e){return{type:r.a.DECREASE_VOTE_COUNT_USER,payload:{userId:e}}},Y=function(e){return{type:r.a.INCREASE_POST_COUNT_USER,payload:{userId:e}}},K=function(e){return{type:r.a.DECREASE_POST_COUNT_USER,payload:{userId:e}}}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(52),a=n(27),c=function(e){var t=e.getIn(["authorize","uid"]);return r.a.getUserProfileById(e,{userId:t})},s=function(e){return e.getIn(["authorize"])},o=function(e){return e.getIn(["authorize","ui","signupStep"],0)},u=function(e){return e.getIn(["authorize","ui","registerToken"],"")},i=function(e){return e.getIn(["authorize","ui","accessToken"],"")},d={getCurrentUser:c,getAuthedUser:s,getSignupStep:o,getUserRegisterToken:u,getAccessToken:i,selectCurrentUser:function(){return Object(a.a)([c],(function(e){return e}))},selectSignupStep:function(){return Object(a.a)([o],(function(e){return e}))},selectUserRegisterToken:function(){return Object(a.a)([u],(function(e){return e}))},selectAccessToken:function(){return Object(a.a)([i],(function(e){return e}))},selectAuthedtUser:function(){return Object(a.a)([s],(function(e){return e}))}}},393:function(e,t){},396:function(e,t,n){},42:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_COMMENT="ADD_COMMENT",e.ADD_COMMENT_LIST="ADD_COMMENT_LIST",e.DELETE_COMMENT="DELETE_COMMENT",e.CLEAR_ALL_DATA_COMMENT="CLEAR_ALL_DATA_COMMENT",e.UPDATE_COMMENT="UPDATE_COMMENT",e.CLOSE_COMMENT_EDITOR="CLOSE_COMMENT_EDITOR",e.OPEN_COMMENT_EDITOR="OPEN_COMMENT_EDITOR",e.DB_FETCH_COMMENTS="DB_FETCH_COMMENTS",e.ASYNC_ADD_NEW_COMMENT="ASYNC_ADD_NEW_COMMENT",e.ASYNC_UPDATE_COMMENT="ASYNC_UPDATE_COMMENT",e.ASYNC_DELETE_COMMENT="ASYNC_DELETE_COMMENT",e.HAS_MORE_COMMENTS="HAS_MORE_COMMENTS",e.NO_MORE_COMMENTS="NO_MORE_COMMENTS"}(r||(r={}))},44:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.LOGIN="LOGIN",e.SUBSCRIBE_AUTH_STATE_CHANGE="SUBSCRIBE_AUTH_STATE_CHANGE",e.SET_LOGIN="SET_LOGIN",e.ASYNC_SET_LOGIN="ASYNC_SET_LOGIN",e.ASYNC_FETCH_USER_REGISTER_TOKEN="ASYNC_FETCH_USER_REGISTER_TOKEN",e.ASYNC_FETCH_ACCESS_TOKEN="ASYNC_FETCH_ACCESS_TOKEN",e.ASYNC_VERITY_USER_REGISTER_CODE="ASYNC_VERITY_USER_REGISTER_CODE",e.SET_USER_REGISTER_TOKEN="SET_USER_REGISTER_TOKEN",e.SET_ACCESS_TOKEN="SET_ACCESS_TOKEN",e.LOGOUT="LOGOUT",e.SIGNUP="SIGNUP",e.UPDATE_PASSWORD="UPDATE_PASSWORD",e.SET_SIGNUP_STEP="SET_SIGNUP_STEP"}(r||(r={}))},46:function(e,t,n){"use strict";n.r(t),n.d(t,"dbGetImageGallery",(function(){return E})),n.d(t,"dbGetVideoGallery",(function(){return b})),n.d(t,"dbUploadVideo",(function(){return _})),n.d(t,"dbDeletedVideo",(function(){return h})),n.d(t,"dbSaveImage",(function(){return g})),n.d(t,"dbDeleteImage",(function(){return m})),n.d(t,"dbUploadImage",(function(){return S})),n.d(t,"dbUploadAvatar",(function(){return A})),n.d(t,"dbUploadCover",(function(){return I})),n.d(t,"dbDownloadImage",(function(){return v})),n.d(t,"dbFetchAlbumImages",(function(){return T})),n.d(t,"dbFetchAvatarImages",(function(){return j})),n.d(t,"dbFetchCoverImages",(function(){return C})),n.d(t,"addImageList",(function(){return D})),n.d(t,"addAlbumIds",(function(){return y})),n.d(t,"addAlbumImages",(function(){return R})),n.d(t,"addAvatarImages",(function(){return L})),n.d(t,"addCoverImages",(function(){return x})),n.d(t,"dbCreateAlbum",(function(){return P})),n.d(t,"addImage",(function(){return w})),n.d(t,"albumHasMoreImage",(function(){return M})),n.d(t,"albumHasNoMoreImage",(function(){return N})),n.d(t,"setLastAlbumImage",(function(){return U})),n.d(t,"deleteImage",(function(){return k})),n.d(t,"setImageURL",(function(){return G})),n.d(t,"addVideo",(function(){return H})),n.d(t,"addVideoList",(function(){return F})),n.d(t,"deleteVideo",(function(){return B})),n.d(t,"clearAllData",(function(){return q})),n.d(t,"addUploadingPhoto",(function(){return V})),n.d(t,"deleteUploadingPhoto",(function(){return Y})),n.d(t,"clearUploadingPhoto",(function(){return K})),n.d(t,"sendImageRequest",(function(){return W}));var r=n(18),a=n(135),c=n(58),s=n.n(c),o=n(22),u=n(9),i=n(29),d=n(5),p=n(122),l=n.n(p),f=n(80),O=i.a.get(u.a.ImageGalleryService),E=function(){return{type:r.a.DB_FETCH_IMAGE_GALLERY}},b=function(){return{type:r.a.DB_FETCH_VIDEO_GALLERY}},_=function(e,t,n){return{type:r.a.DB_UPLOAD_VIDEO,payload:{file:e,fileName:t,thumbnail:n}}},h=function(e){return{type:r.a.DB_DELETE_VIDEO,payload:{videoId:e}}},g=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]),c=new a.a(l.a.v4(),0,s.a.utc().valueOf(),e,e,e,"",o.a.data.avatarFolderPath,e,r,0,"",0,0,"",!1,[],f.a.Public);return O.saveFile(r,c,o.a.data.imageFolderPath).then((function(e){c.objectId=e,t(w(c))})).catch((function(e){t(d.showMessage(e.message))}))}},m=function(e,t,n){return{type:r.a.DB_DELETE_IMAGE,payload:{fileId:e,folderName:t,fileName:n}}},S=function(e,t){return{type:r.a.DB_UPLOAD_IMAGE,payload:{file:e,fileName:t}}},A=function(e,t){return{type:r.a.DB_UPLOAD_AVATAR,payload:{file:e,fileName:t}}},I=function(e,t){return{type:r.a.DB_UPLOAD_COVER,payload:{file:e,fileName:t}}},v=function(e){return function(t,n){return"noImage"===e?{}:n().imageGallery.imageURLList[e]&&""!==e||n().imageGallery.imageRequests.indexOf(e)>-1?void 0:(t(W(e)),O.downloadFile(e,o.a.data.imageFolderPath).then((function(r){n().imageGallery.imageURLList[e]&&""!==e||t(G(e,r))})).catch((function(e){t(d.showMessage(e.message))})))}},T=function(e,t){return{type:r.a.DB_FETCH_ALBUM_IMAGES,payload:{userId:e,albumId:t}}},j=function(e){return{type:r.a.DB_FETCH_AVATAR_IMAGES,payload:{userId:e}}},C=function(e){return{type:r.a.DB_FETCH_COVER_IMAGES,payload:{userId:e}}},D=function(e){return{type:r.a.ADD_IMAGE_LIST,payload:{entities:e}}},y=function(e){return{type:r.a.ADD_ALBUM_ID_LIST,payload:{albumIds:e}}},R=function(e,t){return{type:r.a.ADD_ALBUM_IMAGE_LIST,payload:{albumId:e,imageIds:t}}},L=function(e,t){return{type:r.a.ADD_AVATAR_IMAGE_LIST,payload:{imageIds:t,userId:e}}},x=function(e,t){return{type:r.a.ADD_COVER_IMAGE_LIST,payload:{imageIds:t,userId:e}}},P=function(e,t){return{type:r.a.DB_CREATE_ALBUM,payload:{albumPost:e,images:t}}},w=function(e){return{type:r.a.ADD_IMAGE,payload:{image:e}}},M=function(e){return{type:r.a.HAS_MORE_DATA_ALBUM_IMAGE,payload:{albumId:e}}},N=function(e){return{type:r.a.NO_MORE_DATA_ALBUM_IMAGE,payload:{albumId:e}}},U=function(e,t){return{type:r.a.LAST_ALBUM_IMAGE_ID,payload:{albumId:e,imageId:t}}},k=function(e){return{type:r.a.DELETE_IMAGE,payload:{imageId:e}}},G=function(e,t){return{type:r.a.SET_IMAGE_URL,payload:{name:e,url:t}}},H=function(e){return{type:r.a.ADD_VIDEO_GALLERY,payload:e}},F=function(e){return{type:r.a.ADD_VIDEO_LIST_GALLERY,payload:e}},B=function(e){return{type:r.a.DELETE_VIDEO,payload:e}},q=function(){return{type:r.a.CLEAT_ALL_DATA_IMAGE_GALLERY}},V=function(e){return{type:r.a.ADD_UPLOADING_PHOTO,payload:{photoId:e}}},Y=function(e){return{type:r.a.ADD_UPLOADING_PHOTO,payload:{photoId:e}}},K=function(){return{type:r.a.CLEAR_UPLOADING_PHOTO}},W=function(e){return{type:r.a.SEND_IMAGE_REQUEST,payload:e}}},465:function(e,t,n){"use strict";n.r(t);n(319);var r,a=n(29),c=(n(396),n(141)),s=(n(422),n(285)),o=n(519),u=n(274),i=n.n(u),d=n(275),p=n.n(d),l={typography:{},palette:{primary:i.a,secondary:p.a},shadows:["none","0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)","0 1px 4px 0 rgba(0,0,0,0.14)","0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)","0 1px 8px rgba(0,0,0,.3)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)","0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)","0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)","0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)","0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)","0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)","0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)","0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)","0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)","0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)","0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)","0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)","0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)","0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)","0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)"]},f=n(97),O=n(8),E=n(43),b=n(49),_=n(45),h=n(86),g=n(48),m=n(532),S=n(533),A=n(0),I=n.n(A),v=n(276),T=n(84).a,j=n(15),C=n(521),D=n(524),y=n(308),R=n(16),L=n(522),x=n(534),P=n(258),w=n.n(P),M=n(50),N=n(154),U=n.n(N),k=n(33),G=n(14);!function(e){e.Awesome="Awesome",e.Happy="Happy",e.Acceptable="Acceptable",e.Sad="Sad",e.Bug="Bug"}(r||(r={}));var H=n(106),F=n(61),B=n(17),q=n(19),V=n(52);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(b.a)(this,Object(_.a)(t).call(this,e))).handleFeedText=function(e){var t=e?e.target:{},r=t?t.value:"";r&&n.setState({feedText:r})},n.handleSendFeed=function(e){var t=n.props,r=t.sendFeed,a=t.currentUser,c=n.state.feedText;r(new G.b("",c,e,a))},n.mainForm=function(){var e=n.props.t;return I.a.createElement("div",{className:"main-box"},I.a.createElement(L.a,{placeholder:e("feedback.textareaPlaceholder"),multiline:!0,onChange:n.handleFeedText,rows:2,rowsMax:4,autoFocus:!0,fullWidth:!0}),I.a.createElement("br",null),I.a.createElement("div",{className:"buttons"},I.a.createElement(x.a,{title:e("feedback.sadTooltip"),placement:"bottom-start"},I.a.createElement(D.a,{className:"flaticon-sad-2 icon__svg",onClick:function(){return n.handleSendFeed(r.Sad)}})),I.a.createElement(x.a,{title:e("feedback.acceptableTooltip"),placement:"bottom-start"},I.a.createElement(D.a,{className:"flaticon-neutral icon__svg",onClick:function(){return n.handleSendFeed(r.Acceptable)}})),I.a.createElement(x.a,{title:e("feedback.happyTooltip"),placement:"bottom-start"},I.a.createElement(D.a,{className:"flaticon-happy-2 icon__svg",onClick:function(){return n.handleSendFeed(r.Happy)}})),I.a.createElement(x.a,{title:e("feedback.awesomeTooltip"),placement:"bottom-start"},I.a.createElement(D.a,{className:"flaticon-happy icon__svg",onClick:function(){return n.handleSendFeed(r.Awesome)}}))))},n.loadingForm=function(){var e=n.props,t=e.t,r=e.theme;return I.a.createElement("div",{className:"loading"},I.a.createElement("p",null,t("feedback.sendingMessage")),I.a.createElement("div",{className:"icon"},I.a.createElement(C.a,{style:{color:r.palette.primary.light},color:"secondary",size:50,variant:"determinate",value:50})))},n.successForm=function(){var e=n.props.t;return I.a.createElement("div",{className:"success"},e("feedback.appreciateMessage"))},n.errorForm=function(){var e=n.props.t;return I.a.createElement("div",{className:"error"},e("feedback.errorMessage"))},n.getFeedbackForm=function(){var e=n.props.sendFeedbackRequestType;if(!e)return n.mainForm();switch(e){case q.a.Sent:return n.loadingForm();case q.a.OK:return n.successForm();case q.a.Error:return n.errorForm();default:return n.mainForm()}},n.state={feedText:""},n.handleFeedText=n.handleFeedText.bind(Object(h.a)(n)),n.getFeedbackForm=n.getFeedbackForm.bind(Object(h.a)(n)),n.mainForm=n.mainForm.bind(Object(h.a)(n)),n.loadingForm=n.loadingForm.bind(Object(h.a)(n)),n.successForm=n.successForm.bind(Object(h.a)(n)),n.errorForm=n.errorForm.bind(Object(h.a)(n)),n}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideFeedback,n=e.classes;return I.a.createElement("div",{className:U()("sendFeedback__content","animate__up",n.fullPageXs)},I.a.createElement(y.a,{className:"paper"},I.a.createElement("div",{className:"close"},I.a.createElement(x.a,{title:"Cancel",placement:"bottom-start"},I.a.createElement(D.a,{onClick:function(){return t()}},I.a.createElement(w.a,null)))),this.getFeedbackForm()))}}]),t}(A.Component),W=Object(H.c)("translations")(K),z=Object(F.connect)((function(e){var t=e.getIn(["authorize","uid"]),n=M.a.createServerRequestId(k.a.CommonSendFeedback,t),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},V.a.getUserProfileById(e,{userId:t}).toJS(),{userId:t}),a=e.getIn(["global","sendFeedbackStatus"]),c=e.getIn(["server","request",n]);return{sendFeedbackStatus:a,sendFeedbackRequestType:c?c.status:q.a.NoAction,currentUser:r}}),(function(e){return{sendFeed:function(t){return e(B.d.dbSendFeed(t))},hideFeedback:function(){return e(B.d.hideSendFeedback())}}}))(Object(R.a)((function(e){return{fullPageXs:Object(j.a)({},e.breakpoints.down("xs"),{width:"100%",height:"100%",margin:0,overflowY:"auto"})}}),{withTheme:!0})(W)),Q=n(22),J=n(210),X=n(286),$=n(474),Z=n(528),ee=n(531),te=n(530),ne=n(529),re=n(142),ae=n.n(re),ce=n(526),se=n(527),oe=n(202),ue=n(282),ie=n.n(ue),de=Object(ce.a)((function(e){return Object(se.a)({root:{maxWidth:400},avatar:{width:50,height:50},content:{maxHeight:80,padding:0},listRoot:{paddingTop:0}})}));var pe=function(e){var t,n=e.avatarURL,r=e.title,a=e.subtitle,c=e.userId,s=e.onClose,o=e.onConnect,u=e.soundURL,i=Object(A.useState)(!1),d=Object(X.a)(i,2),p=d[0],l=d[1];Object(A.useEffect)((function(){if(!p){try{var e="audio"+(new Date).valueOf().toString();(t=document.createElement("audio")).setAttribute("id",e),t.setAttribute("src",u),document.body.appendChild(t),t.loop=!0,t.play()}catch(n){}l(!0)}return function(){t.pause(),console.log("unmount")}}),[]);var f=de();return I.a.createElement(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,className:f.root,ContentProps:{classes:{message:f.content}},message:I.a.createElement($.a,{className:f.listRoot},I.a.createElement(Z.a,{button:!0,onClick:function(){o(c)}},I.a.createElement(ne.a,null,I.a.createElement(oe.a,{className:U()("calling",f.avatar),fullName:r,size:50,fileName:n})),I.a.createElement(te.a,{primary:r,secondary:I.a.createElement("span",{style:{color:"white"}},a)}),I.a.createElement(ee.a,null))),action:I.a.createElement(D.a,{"aria-label":"comments",onClick:function(){s(c)}},I.a.createElement(ie.a,{style:{color:ae.a[500]}}))})},le=n(39),fe=n(95),Oe=n(133),Ee=n(194),be=function(e,t){return{defaultDataDisable:function(){e(B.d.defaultDataDisable())},defaultDataEnable:function(){e(B.d.defaultDataEnable())},closeMessage:function(){e(B.d.hideMessage())},loadDataGuest:function(){e(B.d.loadDataGuest())},cancelCalling:function(t){return e(B.b.asyncIgnoreChatRequest(t))},cancelChatRequest:function(t){return e(B.b.asyncCancelChatRequest(t))},acceptChat:function(t){return e(B.b.asyncAcceptChatRequest(t))},showMasterLoading:function(){return e(B.d.showMasterLoading())},hideMasterLoading:function(){return e(B.d.hideMasterLoading())},hideMessage:function(){return e(B.d.hideMessage())}}},_e=function(){var e=le.a.selectAuthedtUser(),t=Oe.a.selectProgress(),n=Oe.a.selectFeedbackStatus(),r=Ee.a.selectCallingUsers(),a=Ee.a.selectChatRequests(),c=Oe.a.selectGlobal(),s=V.a.selectUsers();return function(o){var u=e(o),i=u.get("uid"),d=u.get("guest"),p=u.get("authed"),l=t(o),f=n(o),O=r(o),E=a(o);return{sendFeedbackStatus:f,progress:l,guest:d,uid:i,authed:p,global:c(o),callingUsers:O,chatRequests:E,users:s(o)}}},he=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(b.a)(this,Object(_.a)(t).call(this,e))).handleMessage=function(e){n.props.closeMessage()},n.getChatRequestsElms=function(){var e=[],t=n.props,r=t.chatRequests,a=t.users,c=t.cancelChatRequest;return r&&a&&c&&r.forEach((function(t,n){e.push(I.a.createElement(pe,{key:"chat-request-".concat(n),avatarURL:a.getIn([n,"avatar"],""),title:a.getIn([n,"fullName"]),subtitle:"Dialing ...",onClose:function(e){c(e)},userId:n,soundURL:"https://raw.githubusercontent.com/red-gold/red-gold-web/master/website/static/media/notification_sound.mp3",onConnect:function(){}}))})),e},n.getCallingUsersElms=function(){var e=[],t=n.props,r=t.callingUsers,a=t.users,c=t.cancelCalling,s=t.acceptChat;return r&&a&&c&&s&&r.forEach((function(t,n){e.push(I.a.createElement(pe,{key:"chat-request-".concat(n),avatarURL:a.getIn([n,"avatar"],""),title:a.getIn([n,"fullName"]),subtitle:"Calling ...",onClose:function(e){c(e)},userId:n,soundURL:"https://raw.githubusercontent.com/red-gold/red-gold-web/master/website/static/media/notification_sound.mp3",onConnect:function(e){s(e)}}))})),e},n.state={loading:!0,authed:!1,dataLoaded:!1,isVerifide:!1},n.handleMessage=n.handleMessage.bind(Object(h.a)(n)),n}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("===========Catched by React componentDidCatch=============="),console.log(e,t),console.log("====================================")}},{key:"componentDidMount",value:function(){this.props.authed||(window.location.href=Q.a.settings.gateway+"/auth/login")}},{key:"render",value:function(){var e=this.props,t=e.progress,n=e.global,r=e.uid,a=e.sendFeedbackStatus,c=e.hideMessage,s=I.a.createElement(v.Helmet,null,I.a.createElement("meta",{charSet:"utf-8"}),I.a.createElement("title",null,Q.a.header.title),Q.a.header.meta&&Q.a.header.meta.length>0?Q.a.header.meta.map((function(e){return I.a.createElement("meta",{key:e.name,name:e.name,content:e.content})})):"");return I.a.createElement("div",{id:"master"},s,a?I.a.createElement(z,null):"",I.a.createElement("div",{className:"master__progress",style:{display:t.get("visible")?"block":"none"}},I.a.createElement(m.a,{variant:"determinate",value:t.get("percent",0)})),I.a.createElement("div",{className:"master__loading animate-fading2",style:{display:n.get("showTopLoading")?"flex":"none"}},I.a.createElement("div",{className:"title"},"Loading ... ")),t.visible?I.a.createElement(T,null):"",I.a.createElement(J.a,{data:{uid:r}}),this.getCallingUsersElms(),this.getChatRequestsElms(),I.a.createElement(S.a,{open:this.props.global.get("messageOpen"),message:this.props.global.get("message"),onClose:c,autoHideDuration:4e3,style:{left:"1%",transform:"none"}}))}}]),t}(A.Component);he.isPrivate=!0;var ge,me=(ge=he,Object(fe.withRouter)(Object(F.connect)(_e,be)(ge))),Se=n(36),Ae=n.n(Se),Ie=n(283),ve=n.n(Ie),Te=n(81),je=n(5),Ce=n(72),De=n(4),ye=n(114),Re=n.n(ye),Le=n(69),xe=n(144),Pe=n(145),we=n(57),Me=n(146),Ne=n(284),Ue=n(30),ke=n(26),Ge=function e(){Object(O.a)(this,e),this.userTies=Object(De.Map)({}),this.userTieds=Object(De.Map)({}),this.circleList=Object(De.Map)({}),this.selectCircleStatus=void 0,this.followingLoadingStatus=void 0,this.selectedCircles=Object(De.Map)({}),this.openSelecteCircles=void 0,this.loaded=!1,this.openSetting=void 0},He=function(e,t){var n=t.circle;return e.setIn(["circleList",n.get("id")],t.circle)},Fe=function(e,t){var n=t.circle;return e.setIn(["openSetting",n.get("id")],!1).setIn(["circleList",n.get("id")],t.circle)},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new Ge),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case ke.a.CLEAR_ALL_CIRCLES:return Object(De.Map)(new Ge);case ke.a.ADD_CIRCLE:return He(e,n);case ke.a.UPDATE_CIRCLE:return Fe(e,n);case ke.a.DELETE_CIRCLE:return e.deleteIn(["circleList",n.circleId]);case ke.a.ADD_LIST_CIRCLE:return e.set("loaded",!0).mergeIn(["circleList"],n.circleList);case ke.a.ADD_FOLLOWING_USER:var r=n.userTie;return e.setIn(["userTies",r.get("userId")],n.userTie).setIn(["selectedCircles",r.get("userId")],r.get("circleIdList"));case ke.a.UPDATE_USER_TIE:return e.setIn(["userTies",n.userTie.user.userId],n.userTie);case ke.a.ADD_USER_TIE_LIST:return e.mergeIn(["userTies"],n.userTies).set("selectedCircles",qe(n.userTies));case ke.a.ADD_USER_TIED_LIST:return e.mergeIn(["userTieds"],n.userTieds);case ke.a.DELETE_USER_FROM_CIRCLE:return e.deleteIn(["userTies",n.userTie.user.userId,"circleIdList",n.circleId]);case ke.a.DELETE_FOLLOWING_USER:return e.deleteIn(["userTies",n.userId]).deleteIn(["selectedCircles",n.userId]);case ke.a.CLOSE_CIRCLE_SETTINGS:return e.setIn(["openSetting",n.circleId],!1);case ke.a.OPEN_CIRCLE_SETTINGS:return e.setIn(["openSetting",n.circleId],!0);case ke.a.SHOW_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",n.userId],!0);case ke.a.HIDE_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",n.userId],!1);case ke.a.SHOW_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",n.userId],!0);case ke.a.HIDE_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",n.userId],!1);case ke.a.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",n.userId],n.circleList);case ke.a.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",n.userId],[]);case ke.a.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",n.userId],!0);case ke.a.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",n.userId],!1);default:return e}},qe=function(e){if(e.isEmpty())return Object(De.Map)({});var t=Object(De.Map)({});return e.forEach((function(e){t=t.set(e.get("userId"),e.get("circleIdList"))})),t},Ve=n(42),Ye=function e(){Object(O.a)(this,e),this.postComments=Object(De.Map)({}),this.editorStatus=Object(De.Map)({}),this.loaded=!1},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new Ye),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Ve.a.ADD_COMMENT:return e.setIn(["postComments",n.get("postId"),n.get("id")],n);case Ve.a.ADD_COMMENT_LIST:return e.mergeIn(["postComments",n.postId],n.entities).set("loaded",!0);case Ve.a.UPDATE_COMMENT:var r=n.comment;return e.updateIn(["postComments",r.get("postId"),r.get("id"),"text"],(function(e){return r.get("text")}));case Ve.a.DELETE_COMMENT:return e.deleteIn(["postComments",n.postId,n.id]);case Ve.a.CLOSE_COMMENT_EDITOR:return e.setIn(["editorStatus",n.postId,n.id],!1);case Ve.a.OPEN_COMMENT_EDITOR:return e.setIn(["editorStatus",n.postId,n.id],!0);case Ve.a.HAS_MORE_COMMENTS:return e.setIn(["ui","posts",n.postId,"hasMoreData"],!0);case Ve.a.NO_MORE_COMMENTS:return e.setIn(["ui","posts",n.postId,"hasMoreData"],!1);case Ve.a.CLEAR_ALL_DATA_COMMENT:return Object(De.Map)(new Ye);default:return e}},We=n(23),ze=function e(){Object(O.a)(this,e),this.progress=Object(De.Map)({percent:0,visible:!1}),this.loadingStatus=!0,this.sendFeedbackStatus=!1,this.defaultLoadDataStatus=!1,this.messageOpen=!1,this.message="",this.windowWidth=0,this.windowHeight=0,this.headerTitle="",this.showTopLoading=!1,this.topLoadingQueue=0,this.showMasterLoading=!0,this.masterLoadingQueue=0,this.temp=Object(De.Map)({caller:Object(De.List)()})},Qe=function(e,t){return e.setIn(["progress","percent"],t.percent).setIn(["progress","visible"],t.visible)},Je=function(e,t){return e.setIn(["progress",t.progressKey,"percent"],t.percent).setIn(["progress",t.progressKey,"visible"],t.visible).setIn(["progress",t.progressKey,"meta"],t.meta)},Xe=function(e,t){var n=t.payload.message;return e.set("message",n).set("messageOpen",!0)},$e=function(e,t){var n=t.payload,r=n.refrenceKey,a=n.message;return r&&void 0!==r&&null!==r?e.setIn(["messageByRef",r],a).setIn(["messageByRefeOpen",r],!0):e},Ze=function(e,t){return e.set("message","").set("messageOpen",!1)},et=function(e,t){var n=t.payload.refrenceKey;return n&&void 0!==n&&null!==n?e.setIn(["messageByRef",n],"").setIn(["messageByRefeOpen",n],!1):e},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new ze),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case We.a.PROGRESS_CHANGE:return Qe(e,n);case We.a.PROGRESS_CHANGE_WITH_KEY:return Je(e,n);case We.a.DEFAULT_DATA_DISABLE:return e.set("defaultLoadDataStatus",!1);case We.a.DEFAULT_DATA_ENABLE:return e.set("defaultLoadDataStatus",!0);case We.a.SHOW_MESSAGE_GLOBAL:return Xe(e,t);case We.a.HIDE_MESSAGE_GLOBAL:return Ze(e);case We.a.SHOW_MESSAGE_BY_REFERENCE:return $e(e,t);case We.a.HIDE_MESSAG_BY_REFERENCE:return et(e,t);case We.a.SET_HEADER_TITLE:return e.set("headerTitle",t.payload);case We.a.OPEN_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!0);case We.a.CLOSE_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!1);case We.a.SHOW_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!0);case We.a.HIDE_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!1);case We.a.HIDE_TOP_LOADING:var r=Number(e.get("topLoadingQueue"))>0?Number(e.get("topLoadingQueue"))-1:0;return e.set("topLoadingQueue",r).set("showTopLoading",r>0);case We.a.SHOW_TOP_LOADING:return e.set("topLoadingQueue",Number(e.get("topLoadingQueue"))+1).set("showTopLoading",!0);case We.a.HIDE_MASTER_LOADING:var a=Number(e.get("masterLoadingQueue"))>0?Number(e.get("masterLoadingQueue"))-1:0;return e.set("masterLoadingQueue",a).set("showMasterLoading",a>0);case We.a.SHOW_MASTER_LOADING:return e.set("masterLoadingQueue",Number(e.get("masterLoadingQueue"))+1).set("showMasterLoading",!0);case We.a.TEMP:return e.mergeIn(["temp","caller"],Object(De.fromJS)([n.caller]));case We.a.CLEAR_ALL_GLOBAL:return e.set("sendFeedbackStatus",!1);default:return e}},nt=n(18),rt=function e(){Object(O.a)(this,e),this.status=!1,this.images=Object(De.List)(),this.selectImage="",this.selectURL="",this.loaded=!1,this.imageURLList={},this.imageRequests={}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new rt),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case nt.a.ADD_IMAGE:return e.setIn(["entities",n.image.get("id")],n.image);case nt.a.ADD_IMAGE_LIST:return e.mergeDeepIn(["entities"],n.entities).set("loaded",!0);case nt.a.ADD_ALBUM_IMAGE_LIST:return e.mergeDeepIn(["album",n.albumId,"list"],n.imageIds).set("loaded",!0);case nt.a.ADD_AVATAR_IMAGE_LIST:return e.mergeDeepIn(["avatar",n.userId,"list"],n.imageIds).set("loaded",!0);case nt.a.ADD_COVER_IMAGE_LIST:return e.mergeDeepIn(["cover",n.userId,"list"],n.imageIds).set("loaded",!0);case nt.a.HAS_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",n.albumId,"hasMoreData"],!0);case nt.a.NO_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",n.albumId,"hasMoreData"],!1);case nt.a.LAST_ALBUM_IMAGE_ID:return e.setIn(["album",n.albumId,"lastImageId"],n.imageId);case nt.a.ADD_ALBUM_ID_LIST:return e.mergeDeepIn(["album-todo","entities"],n.entities).set("loaded",!0);case nt.a.DELETE_IMAGE:return e.deleteIn(["entities",n.imageId]);case nt.a.SET_IMAGE_URL:return e.setIn(["imageURLList",n.name],n.url);case nt.a.ADD_VIDEO_GALLERY:return e.update("videos",(function(e){return e.push(n)}));case nt.a.ADD_VIDEO_LIST_GALLERY:return e.set("videos",Object(De.List)(n)).set("loaded",!0);case nt.a.DELETE_VIDEO:return e.update("videos",(function(e){return e.filter((function(e){return e.id!==n}))}));case nt.a.SEND_IMAGE_REQUEST:return e.mergeIn(["imageRequests"],n);case nt.a.CLEAT_ALL_DATA_IMAGE_GALLERY:return Object(De.Map)(new rt);default:return e}},ct=n(63),st=function e(){Object(O.a)(this,e),this.userNotifies=Object(De.Map)({}),this.loaded=!1};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ut=function(e,t){var n=Object(De.Map)({});return Object.keys(t).forEach((function(e){n=n.set(e,Object(De.Map)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e])))})),e.mergeIn(["userNotifies"],n).set("loaded",!0)},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new st),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case ct.a.ADD_NOTIFY:return e;case ct.a.ADD_NOTIFY_LIST:return e.set("userNotifies",n).set("loaded",!0);case ct.a.ADD_PLAIN_NOTIFY_LIST:var r=ut(e,n);return r;case ct.a.SEEN_NOTIFY:return e.setIn(["userNotifies",n,"isSeen"],!0).set("loaded",!0);case ct.a.DELETE_NOTIFY:return e.deleteIn(["userNotifies",n]);case ct.a.CLEAR_ALL_DATA_NOTIFY:return Object(De.Map)(new st);default:return e}},dt=n(102),pt=n(10);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot,Et,bt,_t=(Ot=function(e,t){console.log("redux-cache: %s: %s",e,t.join(", ")||"none found")},Et=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).log.apply(t,["redux-cache: ".concat(e)].concat(r))},function(e,t,n){var r=n.log,a=void 0!==r&&r,c=n.cacheKey,s=void 0===c?"cacheUntil":c,o=ft({},t),u=Object.keys(o),i=e.filter((function(e){var t=-1!==u.indexOf(e);return!t&&a&&Et("Did not match %s reducer to the state tree",e),t}));a&&Ot("matchedReducers",i);var d=i.filter((function(e){return o&&o[e]&&o[e][s]}));a&&Ot("cacheEnabledReducers",d);var p=d.reduce((function(e,t){return ft({},e,Object(j.a)({},t,ft({},e[t],Object(j.a)({},s,null))))}),o);return a&&(d.length>0?Et("Set %s to null for following reducers: %s",s,d.join(", ")):Et("No cached reducers to update")),p}),ht=(bt=function(e,t){return function(n,r){var a=e(n,r);if("@@redux-cache/INVALIDATE_CACHE"!==r.type)return a;var c=r.payload&&r.payload.reducers||[];return _t(c,a,t)}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n,r,a){var c=t(bt(n,e),r,a);return ft({},c,{replaceReducer:function(t){return c.replaceReducer(bt(t,e))}})}}}),gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e5;return Date.now()+e},mt=function e(){Object(O.a)(this,e),this.info=Object(De.Map)({}),this.loaded=!1,this.openEditProfile=!1,this.people=Object(De.Map)({hasMoreData:!0,lastPageRequest:0,lastUserId:""})};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=function(e,t){var n=t.payload,r=t.meta;return r&&r.overwrite?e.setIn(["search","list"],n.userIds):e.mergeIn(["search","list"],n.userIds)},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(At({},new mt,Object(j.a)({},"cacheUntil",null))),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case pt.a.SET_USER_SEARCH_KEY:return e.set("searchKey",n.searchKey);case pt.a.USER_INFO:return e.setIn(["entities",n.uid],n.info);case pt.a.ADD_USER_INFO:return e.setIn(["entities",n.uid],n.info).setIn(["entities",n.uid,"cacheUntil"],gt()).set("loaded",!0);case pt.a.ADD_PLAIN_USER_INFO:return e.mergeIn(["entities",n.uid],Object(De.Map)(At({},n.info,{userId:n.uid}))).setIn(["entities",n.uid,"cacheUntil"],gt());case pt.a.ADD_PROFILE_LIST_POST:return e.mergeDeepIn(["post",n.userId,"list"],n.postIds).set("loaded",!0);case pt.a.ADD_PEOPLE_INFO:return e.mergeIn(["entities"],n);case pt.a.ADD_USER_SEARCH:return It(e,t);case pt.a.ADD_FIND_PEOPLE:return e.mergeIn(["findPeople","list"],n.userIds);case pt.a.UPDATE_USER_INFO:return e.mergeIn(["entities",n.uid],n.info);case pt.a.CLEAR_ALL_DATA_USER:return Object(De.Map)(new mt);case pt.a.HAS_MORE_DATA_PROFILE:return e.setIn(["post",n.userId,"hasMoreData"],!0);case pt.a.NOT_MORE_DATA_PROFILE:return e.setIn(["post",n.userId,"hasMoreData"],!1);case pt.a.REQUEST_PAGE_PROFILE:return e.setIn(["post",n.userId,"lastPageRequest"],n.page);case pt.a.LAST_POST_PROFILE:return e.setIn(["post",n.userId,"lastPostId"],n.lastPostId);case pt.a.ADD_PROFILE_LIST_ALBUM:return e.mergeDeepIn(["album",n.userId,"list"],n.postIds).set("loaded",!0);case pt.a.INCREASE_PAGE_ALBUM:return e.setIn(["album",n.userId,"lastPageRequest"],e.getIn(["album",n.userId,"lastPageRequest"],0)+1);case pt.a.HAS_MORE_DATA_ALBUM:return e.setIn(["album",n.userId,"hasMoreData"],!0);case pt.a.NOT_MORE_DATA_ALBUM:return e.setIn(["album",n.userId,"hasMoreData"],!1);case pt.a.REQUEST_PAGE_ALBUM:return e.setIn(["album",n.userId,"lastPageRequest"],n.page);case pt.a.LAST_POST_ALBUM:return e.setIn(["album",n.userId,"lastPostId"],n.lastPostId);case pt.a.CLOSE_EDIT_PROFILE:return e.set("openEditProfile",!1);case pt.a.OPEN_EDIT_PROFILE:return e.set("openEditProfile",!0);case pt.a.HAS_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!0);case pt.a.NOT_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!1);case pt.a.HAS_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!0);case pt.a.NOT_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!1);case pt.a.SET_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],n.page);case pt.a.INCREASE_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],e.getIn(["findPeople","page"],0)+1);case pt.a.LAST_USER_PEOPLE:return e.setIn(["findPeople","lastUserId"],n.lastUserId);case pt.a.INCREASE_FOLLOWING_COUNT_USER:return Tt(e,n,"followCount");case pt.a.DECREASE_FOLLOWING_COUNT_USER:return jt(e,n,"followCount");case pt.a.INCREASE_VOTE_COUNT_USER:return Tt(e,n,"voteCount");case pt.a.DECREASE_VOTE_COUNT_USER:return jt(e,n,"voteCount");case pt.a.INCREASE_POST_COUNT_USER:return Tt(e,n,"postCount");case pt.a.DECREASE_POST_COUNT_USER:return jt(e,n,"postCount");case pt.a.INCREASE_SHARE_COUNT_USER:return Tt(e,n,"shareCount");case pt.a.DECREASE_SHARE_COUNT_USER:return jt(e,n,"shareCount");default:return e}},Tt=function(e,t,n){var r=e.getIn(["entities",t.userId,n],0)+1;return e.setIn(["entities",t.userId,n],r)},jt=function(e,t,n){var r=e.getIn(["entities",t.userId,n],0)-1;return e.setIn(["entities",t.userId,n],r)},Ct=n(66),Dt=function e(){Object(O.a)(this,e),this.postVotes=Object(De.Map)({}),this.loaded=!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new Dt),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Ct.a.ADD_VOTE:return e.setIn(["postVotes",n.get("postId"),n.get("ownerUserId")],n);case Ct.a.ADD_VOTE_LIST:return e.set("postVotes",n).set("loaded",!0);case Ct.a.DELETE_VOTE:return e.deleteIn(["postVotes",n.postId,n.userId]);case Ct.a.CLEAR_ALL_DATA_VOTE:return Object(De.Map)(new Dt);default:return e}},Rt=n(85),Lt=function e(){Object(O.a)(this,e),this.request=Object(De.Map)({})},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)(new Lt),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Rt.a.ADD_REQUEST:return e.setIn(["request",n.request.get("id","no-id")],n.request);case Rt.a.DELETE_REQUEST:return e.deleteIn(["request",n.request.get("id","no-id")]);case Rt.a.ERROR_REQUEST:return e.setIn(["request",n.request.get("id","no-id"),"status"],q.a.Error);case Rt.a.OK_REQUEST:return e.setIn(["request",n.request.get("id","no-id"),"status"],q.a.OK);case Rt.a.CLEAR_ALL_DATA_REQUEST:return Object(De.Map)(new Lt);default:return e}},Pt=n(73),wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)({}),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Pt.a.SET_USER_SETTING:return e.set("entities",n);case Pt.a.UPDATE_USER_SETTING:return e.setIn(["entities",n.key],n.data);case Pt.a.CLEAR_ALL_USER_SETTING:return Object(De.Map)({});default:return e}},Mt=n(20);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ut=function(e,t){var n=t.userId;return e.setIn(["currentChat"],n).set("chatOpen",!0)},kt=function(e,t){var n=Object(De.Map)({}),r=t.messages,a=t.roomId;return r&&r.length&&r.forEach((function(e){n=n.set(e.id,Object(De.Map)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))})),e.mergeIn(["messages",a],n)},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(De.Map)({chatOpen:!1,recentChatOpen:!1}),t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Mt.a.ADD_CHAT_ROOM_MESSAGES:var r=n.messages,a=n.chatRoomId;return e.mergeIn(["messages",a],r);case Mt.a.ADD_PLAIN_CHAT_ROOM_MESSAGES:return kt(e,n);case Mt.a.REMOVE_CHAT_HISTORY:var c=n.roomId;return e.removeIn(["messages",c]);case Mt.a.OPEN_CHAT:return e.set("chatOpen",!0);case Mt.a.CLOSE_CHAT:return e.set("chatOpen",!1);case Mt.a.OPEN_RECENT_CHAT:return e.set("recentChatOpen",!0);case Mt.a.CLOSE_RECENT_CHAT:return e.set("recentChatOpen",!1);case Mt.a.ADD_CHAT_REQUEST:return e.setIn(["requests",n.userId],!0);case Mt.a.REMOVE_CHAT_REQUEST:return e.deleteIn(["requests",n.userId]);case Mt.a.ADD_CHAT_CALLING:return e.setIn(["calling",n.userId],!0);case Mt.a.REMOVE_CHAT_CALLING:return e.deleteIn(["calling",n.userId]);case Mt.a.ADD_CHAT_CONNECT:return e.setIn(["connect",n.userId],Object(De.Map)(n.room));case Mt.a.REMOVE_CHAT_CONNECT:return e.deleteIn(["connect",n.userId]);case Mt.a.SET_CURRENT_CHAT:return Ut(e,n);case Mt.a.CLEAR_ALL_CHAT_MESSAGE:return Object(De.Map)({});default:return e}},Ht=function(e){return Object(Ne.combineReducers)({imageGallery:at,post:dt.a,circle:Be,comment:Ke,vote:yt,server:xt,authorize:Ue.a,router:Object(f.connectRouter)(e),user:vt,notify:it,global:tt,userSetting:wt,chat:Gt})},Ft=Object(Ce.a)(),Bt=Object(Pe.createLogger)({stateTransformer:function(e){return e.toJS()}}),qt=Object(we.b)(),Vt=localStorage.getItem("red-gold.scure.token"),Yt="",Kt=!1;Vt&&(Yt=Re()(Vt).user_id,Kt=!0);var Wt={authorize:{authed:Kt,guest:!Kt,uid:Yt}},zt=Object(xe.composeWithDevTools)({}),Qt=(Object(Le.createStore)(Ht(Ft),Object(De.fromJS)(Wt),zt(Object(Le.applyMiddleware)(Bt,Me.a,Object(f.routerMiddleware)(Ft),qt),ht())),qt.run,Object(Ce.a)({basename:"/web/"})),Jt=(Object(Pe.createLogger)({stateTransformer:function(e){return e.toJS()}}),Object(we.b)()),Xt=localStorage.getItem("red-gold.scure.token"),$t="",Zt=!1;Xt&&($t=Re()(Xt).user_id,Zt=!0);var en={authorize:{authed:Zt,guest:!Zt,uid:$t}},tn=Object(xe.composeWithDevTools)({}),nn=Object(Le.createStore)(Ht(Qt),Object(De.fromJS)(en),tn(Object(Le.applyMiddleware)(Me.a,Object(f.routerMiddleware)(Qt),Jt))),rn={store:nn,runSaga:Jt.run,close:function(){return nn.dispatch(we.a)},history:Qt},an=Object(Ce.a)(),cn=Object(Pe.createLogger)({stateTransformer:function(e){return e.toJS()}}),sn=Object(we.b)(),on=localStorage.getItem("red-gold.scure.token"),un="",dn=!1;on&&(un=Re()(on).user_id,dn=!0);var pn,ln={authorize:{authed:dn,guest:!dn,uid:un}},fn=Object(xe.composeWithDevTools)({}),On=(Object(Le.createStore)(Ht(an),Object(De.fromJS)(ln),fn(Object(Le.applyMiddleware)(cn,Me.a,Object(f.routerMiddleware)(an),sn))),sn.run,rn),En=n(2),bn=n.n(En),_n=n(1),hn=n(44),gn=n(211),mn=n(9),Sn=n(117);!function(e){e[e.UserInformation=0]="UserInformation",e[e.VerifyCode=1]="VerifyCode",e[e.Message=2]="Message"}(pn||(pn={}));var An=n(28),In=bn.a.mark(xn),vn=bn.a.mark(Pn),Tn=bn.a.mark(wn),jn=bn.a.mark(Mn),Cn=bn.a.mark(Nn),Dn=bn.a.mark(Un),yn=bn.a.mark(kn),Rn=bn.a.mark(Gn),Ln=a.a.get(mn.a.AuthorizeService);function xn(e){return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_n.e)(Te.login(new gn.a(e.uid,e.emailVerified,e.providerId,e.displayName,e.email,e.avatar,e.phoneVerified)));case 2:case"end":return t.stop()}}),In)}function Pn(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.b)(Ln.logout);case 2:return e.next=4,Object(_n.e)(Te.logout());case 4:return e.next=6,Object(_n.e)(je.clearLoadedData());case 6:case"end":return e.stop()}}),vn)}function wn(e){var t,n,r,a,c;return bn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.user,r=t.captchaVerifier,a=Sn.a.createSignupRequest(n.email),s.next=4,Object(_n.e)(An.sendRequest(a));case 4:return s.prev=4,s.next=7,Object(_n.b)(Ln.getUserRegisterToken,n,r);case 7:return c=s.sent,a.status=q.a.OK,s.next=11,Object(_n.e)(An.sendRequest(a));case 11:return s.next=13,Object(_n.e)(Te.setUserRegisterToken(c));case 13:return s.next=15,Object(_n.e)(Te.setSignupStep(pn.VerifyCode));case 15:s.next=24;break;case 17:return s.prev=17,s.t0=s.catch(4),a.status=q.a.Error,s.next=22,Object(_n.e)(An.sendRequest(a));case 22:return s.next=24,Object(_n.e)(je.showMessage(s.t0.message));case 24:case"end":return s.stop()}}),Tn,null,[[4,17]])}function Mn(e){var t;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_n.b)(Ln.getAccessToken);case 3:return t=e.sent,e.next=6,Object(_n.e)(Te.setAccessToken(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(_n.e)(je.showMessage(e.t0.message));case 12:case"end":return e.stop()}}),jn,null,[[0,8]])}function Nn(e){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.e)(Te.setUserLoginStatus(Ln.isLoggedin()));case 2:case"end":return e.stop()}}),Cn)}function Un(e){var t,n,r,a;return bn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.code,n=Sn.a.createSignupRequest(t),c.next=4,Object(_n.e)(An.sendRequest(n));case 4:return c.prev=4,c.next=7,Object(_n.f)(Ue.b.getUserRegisterToken);case 7:return r=c.sent,c.next=10,Object(_n.b)(Ln.verifyUserRegisterCode,t,r);case 10:return a=c.sent,console.trace("ressponse/verifyUserRegisterCode",a),n.status=q.a.OK,c.next=15,Object(_n.e)(An.sendRequest(n));case 15:return c.next=17,Object(_n.b)(Ln.loginByToken,a.token);case 17:c.next=26;break;case 19:return c.prev=19,c.t0=c.catch(4),n.status=q.a.Error,c.next=24,Object(_n.e)(An.sendRequest(n));case 24:return c.next=26,Object(_n.e)(je.showMessage(c.t0.message));case 26:case"end":return c.stop()}}),Dn,null,[[4,19]])}function kn(){var e,t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=Ln.getUserAuth())){r.next=12;break}return t=e.claim,r.next=5,Object(_n.b)(xn,t);case 5:return n=Object(De.Map)({avatar:t.avatar,fullName:t.displayName,uid:t.uid,email:t.email}),r.next=8,Object(_n.e)(B.h.addUserInfo(t.uid,n));case 8:return r.next=10,Object(_n.e)(je.loadInitialData());case 10:r.next=14;break;case 12:return r.next=14,Object(_n.b)(Pn);case 14:return r.next=16,Object(_n.e)(je.defaultDataEnable());case 16:case"end":return r.stop()}}),yn)}function Gn(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(hn.a.ASYNC_SET_LOGIN,Nn),Object(_n.i)(hn.a.SUBSCRIBE_AUTH_STATE_CHANGE,kn),Object(_n.i)(hn.a.ASYNC_FETCH_USER_REGISTER_TOKEN,wn),Object(_n.i)(hn.a.ASYNC_FETCH_ACCESS_TOKEN,Mn),Object(_n.i)(hn.a.ASYNC_VERITY_USER_REGISTER_CODE,Un)]);case 2:case"end":return e.stop()}}),Rn)}var Hn,Fn=function e(t,n,r,a){var c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,i=arguments.length>8?arguments[8]:void 0;Object(O.a)(this,e),this.id=t,this.type=n,this.connections=r,this.name=a,this.isPublic=c,this.lastMessage=s,this.speech=o,this.userStatus=u,this.translation=i};!function(e){e.Peer="Peer",e.Multiple="Multiple"}(Hn||(Hn={}));var Bn=n(94);function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=bn.a.mark(pr),Kn=bn.a.mark(fr),Wn=bn.a.mark(Or),zn=bn.a.mark(Er),Qn=bn.a.mark(br),Jn=bn.a.mark(_r),Xn=bn.a.mark(hr),$n=bn.a.mark(gr),Zn=bn.a.mark(mr),er=bn.a.mark(Sr),tr=bn.a.mark(Ar),nr=bn.a.mark(Ir),rr=bn.a.mark(vr),ar=bn.a.mark(Tr),cr=bn.a.mark(jr),sr=bn.a.mark(Cr),or=bn.a.mark(Dr),ur=a.a.get(mn.a.ChatService),ir=a.a.get(mn.a.AuthorizeService);function dr(e,t,n){return Object(we.c)((function(r){var a=ur.wsConnect(e,t,n,(function(e){r(e)}));return function(){a()}}))}function pr(e){var t,n,r,a,c;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:return t=e.sent,n=t.get("uid"),e.next=6,Object(_n.f)(le.a.getAccessToken);case 6:if(""!==(r=e.sent)){e.next=11;break}return e.next=10,Object(_n.b)(ir.getAccessToken);case 10:r=e.sent;case 11:return e.next=13,Object(_n.e)(je.showMessage("Connecting..."));case 13:return e.next=15,Object(_n.b)(dr,Q.a.websocket.url,r,n);case 15:a=e.sent,e.prev=16;case 17:return e.next=20,Object(_n.g)(a);case 20:if(!(c=e.sent)){e.next=36;break}e.t0=c.signal,e.next="status"===e.t0?25:"dispatch"===e.t0?28:31;break;case 25:return e.next=27,Object(_n.e)(je.showMessage(c.data));case 27:return e.abrupt("break",34);case 28:return e.next=30,Object(_n.e)(c.data);case 30:return e.abrupt("break",34);case 31:return e.next=33,Object(_n.e)(je.showMessage("Unknown SIGNAL."));case 33:return e.abrupt("break",34);case 34:e.next=38;break;case 36:return e.next=38,Object(_n.e)(je.showMessage("Channel received undefied message from WS!"));case 38:e.next=17;break;case 40:return e.prev=40,e.next=43,Object(_n.c)();case 43:if(!e.sent){e.next=45;break}a.close();case 45:return e.finish(40);case 46:case"end":return e.stop()}}),Yn,null,[[16,,40,46]])}function lr(e){return Object(we.c)((function(t){var n=ur.subscribeChatMessages(e,(function(e){t(e)}));return function(){n()}}))}function fr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_n.b)(lr,e);case 2:t=r.sent,r.prev=3;case 4:return r.next=7,Object(_n.g)(t);case 7:if(!(n=r.sent)){r.next=11;break}return r.next=11,Object(_n.e)(Bn.addChatRoomMessages(n,e));case 11:r.next=4;break;case 13:return r.prev=13,r.next=16,Object(_n.c)();case 16:if(!r.sent){r.next=18;break}t.close();case 18:return r.finish(13);case 19:case"end":return r.stop()}}),Kn,null,[[3,,13,19]])}function Or(e){var t;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_n.b)(ur.getChatMessages,e);case 3:if(!(t=n.sent)){n.next=7;break}return n.next=7,Object(_n.e)(Bn.addChatRoomMessages(t,e));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(_n.e)(je.showMessage(n.t0.message));case 13:case"end":return n.stop()}}),Wn,null,[[0,9]])}function Er(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:if(t=r.sent,!t.get("uid")){r.next=17;break}return n=e.payload,r.prev=6,r.next=9,Object(_n.d)(ur.createChatMessage,n);case 9:return r.next=11,Object(_n.e)(Bn.addChatRoomMessages(Object(De.Map)(Object(j.a)({},n.id,Object(De.Map)(Vn({},n,{loading:!0})))),n.chatRoomId));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(6),r.next=17,Object(_n.e)(je.showMessage("chatSaga/dbCreateChatMessage : "+r.t0.message));case 17:case"end":return r.stop()}}),zn,null,[[6,13]])}function br(e,t,n,r){return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_n.b)(ur.setChatLangauge,e,t,n,r);case 3:return a.next=5,Object(_n.e)(Bn.setCurrentChat("room"));case 5:a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),a.next=11,Object(_n.e)(je.showMessage("chatSaga/dbGetPeerChatRoom : "+a.t0.message));case 11:case"end":return a.stop()}}),Qn,null,[[0,7]])}function _r(e){var t,n,r,a,c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:if(t=o.sent,!(n=t.get("uid"))){o.next=35;break}return o.prev=5,o.next=8,Object(_n.b)(ur.getPeerChatRoom,n,e);case 8:if(!(r=o.sent)){o.next=14;break}return o.next=12,Object(_n.e)(Bn.setCurrentChat("chatRoom"));case 12:o.next=24;break;case 14:return(c=new Fn("0",Hn.Peer,(a={},Object(j.a)(a,n,!0),Object(j.a)(a,e,!0),a),n,!1)).lastMessage||delete c.lastMessage,c.speech||delete c.speech,c.translation||delete c.translation,c.userStatus||delete c.userStatus,o.next=21,Object(_n.b)(ur.createChatRoom,c);case 21:return r=o.sent,o.next=24,Object(_n.e)(Bn.setCurrentChat("chatRoom"));case 24:return s=r.get("id"),o.next=27,Object(_n.b)(Or,s);case 27:return o.next=29,Object(_n.b)(fr,s);case 29:o.next=35;break;case 31:return o.prev=31,o.t0=o.catch(5),o.next=35,Object(_n.e)(je.showMessage("chatSaga/activePeerChatRoom : "+o.t0.message));case 35:case"end":return o.stop()}}),Jn,null,[[5,31]])}function hr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.roomId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=17;break}return r.prev=6,r.next=9,Object(_n.b)(ur.removeHistoryRoom,t);case 9:return r.next=11,Object(_n.e)(Bn.removeChatHistory(t));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(6),r.next=17,Object(_n.e)(je.showMessage(r.t0.message));case 17:case"end":return r.stop()}}),Xn,null,[[6,13]])}function gr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.receiverId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(_r,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),$n,null,[[6,11]])}function mr(e){var t,n,r;return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.receiverId,a.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=a.sent,!(r=n.get("uid"))){a.next=15;break}return a.prev=6,a.next=9,Object(_n.b)(fr,r,t);case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(6),a.next=15,Object(_n.e)(je.showMessage(a.t0.message));case 15:case"end":return a.stop()}}),Zn,null,[[6,11]])}function Sr(e){var t,n,r,a,c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.input,r=t.output,a=t.roomId,o.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(c=o.sent,!(s=c.get("uid"))){o.next=15;break}return o.prev=6,o.next=9,Object(_n.b)(br,s,n,r,a);case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(6),o.next=15,Object(_n.e)(je.showMessage(o.t0.message));case 15:case"end":return o.stop()}}),er,null,[[6,11]])}function Ar(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.recUserId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(ur.createChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),tr,null,[[6,11]])}function Ir(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.recUserId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(ur.cancelChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),nr,null,[[6,11]])}function vr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.reqUserId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(ur.ignoreChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),rr,null,[[6,11]])}function Tr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.reqUserId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(ur.acceptChatRquest,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),ar,null,[[6,11]])}function jr(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.roomId,r.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(n=r.sent,!n.get("uid")){r.next=15;break}return r.prev=6,r.next=9,Object(_n.b)(ur.joinChatRoom,t);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(6),r.next=15,Object(_n.e)(je.showMessage(r.t0.message));case 15:case"end":return r.stop()}}),cr,null,[[6,11]])}function Cr(e){var t;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.payload.roomId,n.next=3,Object(_n.f)(le.a.getAuthedUser);case 3:if(t=n.sent,!t.get("uid")){n.next=8;break}return n.next=8,Object(_n.e)(je.showMessage("User is offline!"));case 8:case"end":return n.stop()}}),sr)}function Dr(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(Mt.a.DB_CREATE_CHAT_MESSAGE,Er),Object(_n.i)(Mt.a.DB_SUBSCRIBE_CHAT_MESSAGE,mr),Object(_n.i)(Mt.a.ACTIVE_PEER_CHAT_ROOM,gr),Object(_n.i)(Mt.a.WS_CONNECT,pr),Object(_n.i)(Mt.a.ASYNC_CREATE_CHAT_REQUEST,Ar),Object(_n.i)(Mt.a.ASYNC_CANCEL_CHAT_REQUEST,Ir),Object(_n.i)(Mt.a.ASYNC_IGNORE_CHAT_REQUEST,vr),Object(_n.i)(Mt.a.ASYNC_ACCEPT_CHAT_REQUEST,Tr),Object(_n.i)(Mt.a.ASYNC_JOIN_CHAT_ROOM,jr),Object(_n.i)(Mt.a.SET_USER_OFFLINE,Cr),Object(_n.i)(Mt.a.DB_REMOVE_CHAT_HISTORY,hr),Object(_n.i)(Mt.a.DB_SET_CHAT_LANGUAGE,Sr)]);case 2:case"end":return e.stop()}}),or)}var yr=n(90),Rr=n(38),Lr=bn.a.mark(Ur),xr=bn.a.mark(kr),Pr=bn.a.mark(Gr),wr=bn.a.mark(Hr),Mr=a.a.get(mn.a.CircleService),Nr=a.a.get(mn.a.UserTieService);function Ur(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,Object(_n.b)(Mr.getCircles,n);case 8:return r=e.sent,e.next=11,Object(_n.e)(yr.a(r));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Object(_n.e)(je.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Lr,null,[[5,13]])}function kr(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=19;break}return e.prev=5,e.next=8,Object(_n.b)(Nr.getUserTies,n);case 8:return r=e.sent,e.next=11,Object(_n.e)(Rr.addPeopleInfo(r));case 11:return e.next=13,Object(_n.e)(yr.c(r));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,Object(_n.e)(je.showMessage(e.t0.message));case 19:case"end":return e.stop()}}),xr,null,[[5,15]])}function Gr(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=19;break}return e.prev=5,e.next=8,Object(_n.b)(Nr.getUserTieSender,n);case 8:return r=e.sent,e.next=11,Object(_n.e)(Rr.addPeopleInfo(r));case 11:return e.next=13,Object(_n.e)(yr.b(r));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,Object(_n.e)(je.showMessage(e.t0.message));case 19:case"end":return e.stop()}}),Pr,null,[[5,15]])}function Hr(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(ke.a.DB_FETCH_CIRCLES,Ur),Object(_n.i)(ke.a.DB_FETCH_USER_TIES,kr),Object(_n.i)(ke.a.DB_FETCH_USER_TIEDS,Gr)]);case 2:case"end":return e.stop()}}),wr)}var Fr=n(71),Br=n(197),qr={createGetCommentsRequest:function(e){var t=M.a.createServerRequestId(k.a.CommentGetComments,e);return new Fr.a(k.a.CommentGetComments,t,"",q.a.Sent)},sortCommentsByDate:function(e){return Object.keys(e).length>1?Br.fromPairs(Br.toPairs(e).sort((function(e,t){return parseInt(t[1].creationDate,10)-parseInt(e[1].creationDate,10)})).slice(0,3)):e}},Vr=n(115),Yr=bn.a.mark(Xr),Kr=bn.a.mark($r),Wr=bn.a.mark(Zr),zr=bn.a.mark(ea),Qr=bn.a.mark(ta),Jr=a.a.get(mn.a.CommentService);function Xr(e){var t,n,r,a,c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.postId,r=t.page,a=t.limit,c=qr.createGetCommentsRequest(n),o.next=5,Object(_n.e)(B.g.sendRequest(c));case 5:return o.prev=5,o.next=8,Object(_n.b)(Jr.getComments,n,r,a);case 8:if((s=o.sent).hasMore){o.next=12;break}return o.next=12,Object(_n.e)(B.c.notMoreComments(n));case 12:return o.next=14,Object(_n.e)(B.c.addCommentList(n,s.comments));case 14:return c.status=q.a.OK,o.next=17,Object(_n.e)(B.g.sendRequest(c));case 17:o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(5),c.status=q.a.Error,o.next=24,Object(_n.e)(B.g.sendRequest(c));case 24:case"end":return o.stop()}}),Yr,null,[[5,19]])}function $r(e){var t,n,r,a,c,s,o,u,i,d,p;return bn.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.newComment,r=n.get("postId"),l.next=5,Object(_n.e)(B.d.showTopLoading());case 5:return l.next=7,Object(_n.f)(le.a.getAuthedUser);case 7:return a=l.sent,a.get("uid","0"),l.next=11,Object(_n.f)(Vr.a.getPost,{postId:r});case 11:return c=l.sent,l.prev=12,l.next=15,Object(_n.b)(Jr.addComment,n.toJS());case 15:return s=l.sent,o=n.set("id",s),l.next=19,Object(_n.e)(B.c.addComment(o));case 19:return u=Number(c.get("commentCounter",0))+1,i=c.set("commentCounter",u),l.next=23,Object(_n.e)(B.f.updatePostComments(i));case 23:return l.next=25,Object(_n.e)(B.d.hideTopLoading());case 25:l.next=37;break;case 27:return l.prev=27,l.t0=l.catch(12),d=Number(c.get("commentCounter",0))-1,p=c.set("commentCounter",d),l.next=33,Object(_n.e)(B.f.updatePostComments(p));case 33:return l.next=35,Object(_n.e)(B.d.showMessage(l.t0.message));case 35:return l.next=37,Object(_n.e)(B.d.hideTopLoading());case 37:case"end":return l.stop()}}),Kr,null,[[12,27]])}function Zr(e){var t,n,r;return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.comment,a.next=4,Object(_n.e)(B.d.showTopLoading());case 4:return a.next=6,Object(_n.f)(le.a.getAuthedUser);case 6:return r=a.sent,r.get("uid","0"),a.prev=8,a.next=11,Object(_n.b)(Jr.updateComment,n.toJS());case 11:return a.next=13,Object(_n.e)(B.c.updateComment(n));case 13:return a.next=15,Object(_n.e)(B.c.closeCommentEditor(n.get("postId"),n.get("id")));case 15:return a.next=17,Object(_n.e)(B.d.hideTopLoading());case 17:a.next=25;break;case 19:return a.prev=19,a.t0=a.catch(8),a.next=23,Object(_n.e)(B.d.showMessage(a.t0.message));case 23:return a.next=25,Object(_n.e)(B.d.hideTopLoading());case 25:case"end":return a.stop()}}),Wr,null,[[8,19]])}function ea(e){var t,n,r,a,c,s,o,u,i;return bn.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.id,r=t.postId,d.next=4,Object(_n.e)(B.d.showTopLoading());case 4:return d.next=6,Object(_n.f)(le.a.getAuthedUser);case 6:return a=d.sent,a.get("uid","0"),d.next=10,Object(_n.f)(Vr.a.getPost,{postId:r});case 10:return c=d.sent,d.prev=11,d.next=14,Object(_n.b)(Jr.deleteComment,n,r);case 14:return d.next=16,Object(_n.e)(B.c.deleteComment(n,r));case 16:return s=Number(c.get("commentCounter",0))-1,o=c.set("commentCounter",s),d.next=20,Object(_n.e)(B.f.updatePostComments(o));case 20:return d.next=22,Object(_n.e)(B.d.hideTopLoading());case 22:d.next=34;break;case 24:return d.prev=24,d.t0=d.catch(11),u=Number(c.get("commentCounter",0))+1,i=c.set("commentCounter",u),d.next=30,Object(_n.e)(B.f.updatePostComments(i));case 30:return d.next=32,Object(_n.e)(B.d.showMessage(d.t0.message));case 32:return d.next=34,Object(_n.e)(B.d.hideTopLoading());case 34:case"end":return d.stop()}}),zr,null,[[11,24]])}function ta(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.h)(Ve.a.DB_FETCH_COMMENTS,Xr),Object(_n.h)(Ve.a.ASYNC_ADD_NEW_COMMENT,$r),Object(_n.h)(Ve.a.ASYNC_UPDATE_COMMENT,Zr),Object(_n.h)(Ve.a.ASYNC_DELETE_COMMENT,ea)]);case 2:case"end":return e.stop()}}),Qr)}var na=n(58),ra=n.n(na),aa=bn.a.mark(da),ca=bn.a.mark(pa),sa=bn.a.mark(la);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia=a.a.get(mn.a.VoteService);function da(e){var t,n,r,a,c,s,o,u,i,d,p,l;return bn.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.ownerPostUserId,r=t.postId,f.next=4,Object(_n.e)(B.d.showTopLoading());case 4:return f.next=6,Object(_n.f)(le.a.getAuthedUser);case 6:return a=f.sent,c=a.get("uid","0"),s={postId:r,creationDate:ra.a.utc().valueOf(),ownerDisplayName:a.get("fullName"),ownerAvatar:a.get("avatar"),ownerUserId:c,receiverId:n},f.next=11,Object(_n.f)(Vr.a.getPost,{postId:r});case 11:return o=f.sent,f.prev=12,u=Number(o.get("score",0))+1,i=o.set("score",u).setIn(["votes",c],!0),f.next=17,Object(_n.e)(B.f.updatePostVotes(i));case 17:return f.next=19,Object(_n.b)(ia.addVote,s);case 19:return d=f.sent,s.id=d,f.next=23,Object(_n.e)(B.i.addVote(Object(De.Map)(ua({},s))));case 23:return f.next=25,Object(_n.e)(B.d.hideTopLoading());case 25:f.next=38;break;case 27:return f.prev=27,f.t0=f.catch(12),console.trace("error",f.t0),p=o.get("score",0)-1,l=o.set("score",p).setIn(["votes",c],!1),f.next=34,Object(_n.e)(B.f.updatePostVotes(l));case 34:return f.next=36,Object(_n.e)(B.d.showMessage(f.t0.message));case 36:return f.next=38,Object(_n.e)(B.d.hideTopLoading());case 38:case"end":return f.stop()}}),aa,null,[[12,27]])}function pa(e){var t,n,r,a,c,s,o,u,i,d;return bn.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,n=t.ownerPostUserId,r=t.postId,p.next=4,Object(_n.e)(B.d.showTopLoading());case 4:return p.next=6,Object(_n.f)(le.a.getAuthedUser);case 6:return a=p.sent,c=a.get("uid","0"),p.next=10,Object(_n.f)(Vr.a.getPost,{postId:r});case 10:return s=p.sent,p.prev=11,o=Number(s.get("score",0))-1,u=s.set("score",o).setIn(["votes",c],!1),p.next=16,Object(_n.e)(B.f.updatePostVotes(u));case 16:return p.next=18,Object(_n.b)(ia.deleteVote,n,r);case 18:return p.next=20,Object(_n.e)(B.i.deleteVote(n,r));case 20:return p.next=22,Object(_n.e)(B.d.hideTopLoading());case 22:p.next=34;break;case 24:return p.prev=24,p.t0=p.catch(11),i=s.get("score",0)+1,d=s.set("score",i).setIn(["votes",c],!0),p.next=30,Object(_n.e)(B.f.updatePostVotes(d));case 30:return p.next=32,Object(_n.e)(B.d.showMessage(p.t0.message));case 32:return p.next=34,Object(_n.e)(B.d.hideTopLoading());case 34:case"end":return p.stop()}}),ca,null,[[11,24]])}function la(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(Ct.a.ASYNC_ADD_NEW_VOTE,da),Object(_n.i)(Ct.a.ASYNC_DELETE_VOTE,pa)]);case 2:case"end":return e.stop()}}),sa)}var fa=n(155),Oa=n(46),Ea=n(127),ba=n(47),_a=n(126),ha=n(156),ga=bn.a.mark(va),ma=bn.a.mark(Ta),Sa=bn.a.mark(ja),Aa=bn.a.mark(Ca),Ia=a.a.get(mn.a.CommonService);function va(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.e)(Oa.clearAllData());case 2:return e.next=4,Object(_n.e)(ba.clearAllData());case 4:return e.next=6,Object(_n.e)(Rr.clearAllData());case 6:return e.next=8,Object(_n.e)(fa.clearAllData());case 8:return e.next=10,Object(_n.e)(ha.clearAllvotes());case 10:return e.next=12,Object(_n.e)(Ea.b());case 12:return e.next=14,Object(_n.e)(yr.d());case 14:return e.next=16,Object(_n.e)(je.clearTemp());case 16:case"end":return e.stop()}}),ga)}function Ta(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.e)(Oa.dbGetImageGallery());case 2:return e.next=4,Object(_n.e)(Rr.dbGetUserInfo());case 4:return e.next=6,Object(_n.e)(Ea.d());case 6:return e.next=8,Object(_n.e)(yr.k());case 8:return e.next=10,Object(_n.e)(yr.m());case 10:return e.next=12,Object(_n.e)(yr.l());case 12:return e.next=14,Object(_n.e)(_a.a());case 14:return e.next=16,Object(_n.e)(B.a.fetchAccessToken());case 16:return e.next=18,Object(_n.e)(B.b.wsConnect());case 18:case"end":return e.stop()}}),ma)}function ja(e){var t,n,r;return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.accessToken,a.prev=2,a.next=5,Object(_n.b)(Ia.getTwitterMedia,n);case 5:return r=a.sent,a.next=8,Object(_n.e)(ba.addInstagramPosts(r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(_n.e)(je.showMessage(a.t0.message));case 14:case"end":return a.stop()}}),Sa,null,[[2,10]])}function Ca(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(We.a.CLEAR_LOADED_DATA,va),Object(_n.i)(We.a.LOAD_INITIAL_DATA,Ta),Object(_n.i)(We.a.LOAD_TWITTER_MEDIA,ja)]);case 2:case"end":return e.stop()}}),Aa)}var Da=n(113),ya={createAlbumRequest:function(e){var t=M.a.createServerRequestId(k.a.GalleryCreateAlbum,e);return new Da.a(k.a.GalleryCreateAlbum,t,"",q.a.Sent)}},Ra=n(80),La=n(135),xa=n(181),Pa=(n(166),function e(){Object(O.a)(this,e),this.progress=void 0,this.success=void 0,this.error=void 0,this.fileName=void 0,this.meta=void 0}),wa=n(184),Ma=n(122),Na=n.n(Ma);function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ga=bn.a.mark(dc),Ha=bn.a.mark(pc),Fa=bn.a.mark(lc),Ba=bn.a.mark(fc),qa=bn.a.mark(Oc),Va=bn.a.mark(Ec),Ya=bn.a.mark(bc),Ka=bn.a.mark(_c),Wa=bn.a.mark(hc),za=bn.a.mark(gc),Qa=bn.a.mark(mc),Ja=bn.a.mark(Sc),Xa=bn.a.mark(Ac),$a=bn.a.mark(Ic),Za=bn.a.mark(vc),ec=bn.a.mark(Tc),tc=bn.a.mark(jc),nc=bn.a.mark(Cc),rc=bn.a.mark(Dc),ac=bn.a.mark(yc),cc=bn.a.mark(Rc),sc=bn.a.mark(Lc),oc=bn.a.mark(xc),uc=a.a.get(mn.a.ImageGalleryService);function ic(e,t,n){return Object(we.c)((function(r){var a=new Pa;return uc.uploadFile(n,e,t,(function(e,t,n){a.progress=e,a.fileName=n,r(a)}),(function(e,t){a.success=e,a.meta=t,r(a),r(we.a)}),(function(e){a.error=e,r(a),r(we.a)})),function(){}}))}function dc(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,Object(_n.b)(uc.getGallery,n,Q.a.data.imageFolderPath);case 8:return r=e.sent,e.next=11,Object(_n.e)(Oa.addImageList(r));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Object(_n.e)(je.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Ga,null,[[5,13]])}function pc(e){var t,n;return bn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=r.sent,!(n=t.get("uid"))){r.next=16;break}return r.prev=5,r.next=8,Object(_n.b)(uc.deleteFile,n,e,Q.a.data.videoFolderPath);case 8:return r.next=10,Object(_n.e)(Oa.deleteVideo(e));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(5),r.next=16,Object(_n.e)(je.showMessage(r.t0.message));case 16:case"end":return r.stop()}}),Ha,null,[[5,12]])}function lc(e,t,n){var r,a;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(r=n.sent,!(a=r.get("uid"))){n.next=16;break}return n.prev=5,n.next=8,Object(_n.b)(uc.deleteFile,a,e,t);case 8:return n.next=10,Object(_n.e)(Oa.deleteImage(e));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,Object(_n.e)(je.showMessage(n.t0.message));case 16:case"end":return n.stop()}}),Fa,null,[[5,12]])}function fc(e,t){var n,r,a,c;return bn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(n=s.sent,!(r=n.get("uid"))){s.next=12;break}return a=new La.a(Na.a.v4(),0,ra.a.utc().valueOf(),t,e,t,"",Q.a.data.avatarFolderPath,t,r,0,"",0,0,"",!1,[],Ra.a.Public),s.next=8,Object(_n.b)(uc.saveFile,r,a,Q.a.data.videoFolderPath);case 8:return c=s.sent,a.objectId=c,s.next=12,Object(_n.e)(Oa.addVideo(a));case 12:case"end":return s.stop()}}),Ba)}function Oc(e,t,n){var r,a,c,s,o,u,i,d,p;return bn.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(r=l.sent,!(a=r.get("uid"))){l.next=37;break}return c="".concat(a,"/").concat(Q.a.data.videoFolderPath),l.next=8,Object(_n.b)(ic,e,t,c);case 8:s=l.sent;case 9:return l.next=12,Object(_n.g)(s);case 12:if(o=l.sent,u=o.progress,i=void 0===u?0:u,d=o.success,!(p=o.error)){l.next=25;break}return l.next=20,Object(_n.e)(je.showMessage(p.message));case 20:return l.next=22,Object(_n.e)(je.progressChange(100,!1));case 22:return l.next=24,Object(_n.e)(je.hideTopLoading());case 24:return l.abrupt("return");case 25:if(!d){l.next=33;break}return l.next=28,Object(_n.b)(fc,d.fileURL,n);case 28:return l.next=30,Object(_n.e)(je.progressChange(100,!1));case 30:return l.next=32,Object(_n.e)(je.hideTopLoading());case 32:return l.abrupt("return");case 33:return l.next=35,Object(_n.e)(je.progressChange(i,!0));case 35:l.next=9;break;case 37:case"end":return l.stop()}}),qa)}function Ec(e,t){var n,r,a,c,s,o,u,i,d;return bn.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(n=p.sent,!(r=n.get("uid"))){p.next=35;break}return a="".concat(r,"/").concat(Q.a.data.videoThumbnailPath),p.next=8,Object(_n.b)(ic,e,t,a);case 8:c=p.sent;case 9:return p.next=12,Object(_n.g)(c);case 12:if(s=p.sent,o=s.progress,u=void 0===o?0:o,i=s.success,!(d=s.error)){p.next=25;break}return p.next=20,Object(_n.e)(je.showMessage(d.message));case 20:return p.next=22,Object(_n.e)(je.progressChange(100,!1));case 22:return p.next=24,Object(_n.e)(je.hideTopLoading());case 24:return p.abrupt("return");case 25:if(!i){p.next=31;break}return p.next=28,Object(_n.e)(je.progressChange(100,!1));case 28:return p.next=30,Object(_n.e)(je.hideTopLoading());case 30:return p.abrupt("return",i);case 31:return p.next=33,Object(_n.e)(je.progressChange(u,!0));case 33:p.next=9;break;case 35:case"end":return p.stop()}}),Va)}function bc(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,Object(_n.b)(uc.getGallery,n,Q.a.data.videoFolderPath);case 8:return r=e.sent,e.next=11,Object(_n.e)(Oa.addVideoList(r));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Object(_n.e)(je.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Ya,null,[[5,13]])}function _c(e,t,n){var r,a,c,s,o,u,i,d,p,l;return bn.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(r=f.sent,!(a=r.get("uid"))){f.next=36;break}return c="".concat(a,"/").concat(t),f.next=8,Object(_n.b)(ic,e,n,c);case 8:s=f.sent;case 9:return f.next=12,Object(_n.g)(s);case 12:if(o=f.sent,u=o.progress,i=void 0===u?0:u,d=o.success,p=o.error,l=o.meta,!p){f.next=26;break}return f.next=21,Object(_n.e)(je.showMessage(p.message));case 21:return f.next=23,Object(_n.e)(je.progressChangeWithKey(100,!1,n));case 23:return f.next=25,Object(_n.e)(je.hideTopLoading());case 25:return f.abrupt("return");case 26:if(!d){f.next=32;break}return f.next=29,Object(_n.e)(je.progressChangeWithKey(100,!1,n,l));case 29:return f.next=31,Object(_n.e)(je.hideTopLoading());case 31:return f.abrupt("return",d);case 32:return f.next=34,Object(_n.e)(je.progressChangeWithKey(i,!0,n));case 34:f.next=9;break;case 36:case"end":return f.stop()}}),Ka)}function hc(e,t,n){var r,a,c,s,o=arguments;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:10,n.next=3,Object(_n.f)(wa.a.getAlbumLastImageId,{albumId:t});case 3:return a=n.sent,n.next=6,Object(_n.b)(uc.fetchAlbumImages,e,t,r,a);case 6:return c=n.sent,s=c.mappedImages.count(),n.next=10,Object(_n.e)(Oa.setLastAlbumImage(t,c.newLastImageId));case 10:if(s>r-1){n.next=13;break}return n.next=13,Object(_n.e)(Oa.albumHasNoMoreImage(t));case 13:if(!(s>0)){n.next=18;break}return n.next=16,Object(_n.e)(Oa.addImageList(c.mappedImages));case 16:return n.next=18,Object(_n.e)(Oa.addAlbumImages(t,c.ids));case 18:case"end":return n.stop()}}),Wa)}function gc(e,t,n){var r,a=arguments;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:10,t.next=3,Object(_n.b)(uc.getGallery,e,Q.a.data.avatarFolderPath);case 3:if(r=t.sent,!(r.mappedImages.count()>0)){t.next=11;break}return t.next=9,Object(_n.e)(Oa.addImageList(r.mappedImages));case 9:return t.next=11,Object(_n.e)(Oa.addAvatarImages(e,r.ids));case 11:case"end":return t.stop()}}),za)}function mc(e,t,n){var r,a=arguments;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:10,t.next=3,Object(_n.b)(uc.getGallery,e,Q.a.data.coverFolderPath);case 3:if(r=t.sent,!(r.mappedImages.count()>0)){t.next=11;break}return t.next=9,Object(_n.e)(Oa.addImageList(r.mappedImages));case 9:return t.next=11,Object(_n.e)(Oa.addCoverImages(e,r.ids));case 11:case"end":return t.stop()}}),Qa)}function Sc(e,t,n){var r,a;return bn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_n.b)(uc.setPhotoAlbum,e,Q.a.data.imageFolderPath,t,n);case 2:return r=c.sent,c.next=5,Object(_n.e)(je.closeDialog(xa.a.PostWrite));case 5:return c.next=7,Object(_n.e)(Oa.addImageList(r.images));case 7:return c.next=9,Object(_n.e)(ba.addPost(r.newAlbum));case 9:return c.next=11,Object(_n.e)(B.h.addProfileAlbums(e,Object(De.Map)(Object(j.a)({},r.newAlbum.get("id"),!0))));case 11:return c.next=13,Object(_n.e)(Oa.addAlbumImages(r.newAlbum.get("id"),r.imageIds));case 13:return c.next=15,Object(_n.e)(ba.addStreamPosts(Object(De.Map)(Object(j.a)({},r.newAlbum.get("id"),!0))));case 15:return c.next=17,Object(_n.e)(je.closeDialog(xa.a.Album));case 17:return(a=ya.createAlbumRequest(e)).status=q.a.OK,c.next=21,Object(_n.e)(An.sendRequest(a));case 21:case"end":return c.stop()}}),Ja)}function Ac(e){var t,n,r,a,c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.file,r=t.fileName,a=t.thumbnail,"thumbnail_",c="thumbnail_"+r,o.next=5,Object(_n.b)(Ec,a,c);case 5:return s=o.sent,o.next=8,Object(_n.b)(Oc,n,r,s.fileURL);case 8:case"end":return o.stop()}}),Xa)}function Ic(e){var t,n,r,a;return bn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.userId,r=t.albumId,c.next=3,Object(_n.f)(wa.a.getAlbumLastImageId,{albumId:r});case 3:return a=c.sent,c.next=6,Object(_n.b)(hc,n,r,a,10);case 6:case"end":return c.stop()}}),$a)}function vc(e){var t;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.userId,"",n.next=4,Object(_n.b)(gc,t,"avatar","",100);case 4:case"end":return n.stop()}}),Za)}function Tc(e){var t;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.userId,"",n.next=4,Object(_n.b)(mc,t,"cover","",100);case 4:case"end":return n.stop()}}),ec)}function jc(e){var t,n,r;return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.file,r=t.fileName,a.next=3,Object(_n.b)(_c,n,Q.a.data.imageFolderPath,r);case 3:case"end":return a.stop()}}),tc)}function Cc(e){var t,n,r,a,c,s,o,u,i,d,p;return bn.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=l.sent,n=t.get("uid"),r=e.payload,a=r.file,c=r.fileName,l.next=7,Object(_n.e)(je.showTopLoading());case 7:return l.next=9,Object(_n.b)(_c,a,Q.a.data.avatarFolderPath,c);case 9:return s=l.sent,l.next=12,Object(_n.e)(je.hideTopLoading());case 12:return o=s.fileURL,u=c.split(".")[0],i=new La.a(u,0,ra.a.utc().valueOf(),o,o,c,"",Q.a.data.avatarFolderPath,c,n,0,"",0,0,"",!1,[],Ra.a.Public),l.next=17,Object(_n.b)(uc.saveFile,n,i,Q.a.data.avatarFolderPath);case 17:return d=l.sent,i.objectId=d,p=Object(De.Map)(Object(j.a)({},u,Object(De.fromJS)(ka({},i)))),l.next=22,Object(_n.e)(Oa.addImageList(p));case 22:return l.next=24,Object(_n.e)(Oa.addAvatarImages(n,Object(De.Map)(Object(j.a)({},u,!0))));case 24:case"end":return l.stop()}}),nc)}function Dc(e){var t,n,r,a,c,s,o,u,i,d,p;return bn.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=l.sent,n=t.get("uid"),r=e.payload,a=r.file,c=r.fileName,l.next=7,Object(_n.e)(je.showTopLoading());case 7:return l.next=9,Object(_n.b)(_c,a,Q.a.data.coverFolderPath,c);case 9:return s=l.sent,l.next=12,Object(_n.e)(je.hideTopLoading());case 12:return o=s.fileURL,u=c.split(".")[0],i=new La.a(u,0,ra.a.utc().valueOf(),o,o,c,"",Q.a.data.coverFolderPath,c,n,0,"",0,0,"",!1,[],Ra.a.Public),l.next=17,Object(_n.b)(uc.saveFile,n,i,Q.a.data.coverFolderPath);case 17:return d=l.sent,i.objectId=d,p=Object(De.Map)(Object(j.a)({},u,Object(De.fromJS)(ka({},i)))),l.next=22,Object(_n.e)(Oa.addImageList(p));case 22:return l.next=24,Object(_n.e)(Oa.addCoverImages(n,Object(De.Map)(Object(j.a)({},u,!0))));case 24:case"end":return l.stop()}}),rc)}function yc(e){var t,n,r,a,c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.albumPost,r=t.images,o.next=3,Object(_n.f)(Ue.b.getAuthedUser);case 3:if(a=o.sent,!(c=a.get("uid"))){o.next=22;break}return s=ya.createAlbumRequest(c),o.next=9,Object(_n.e)(An.sendRequest(s));case 9:return o.prev=9,o.next=12,Object(_n.b)(Sc,c,n,r);case 12:o.next=22;break;case 14:return o.prev=14,o.t0=o.catch(9),s.status=q.a.Error,o.next=19,Object(_n.e)(An.sendRequest(s));case 19:return o.next=21,Object(_n.e)(je.showMessage("gallerySaga/watchCreateAlbum  ".concat(o.t0)));case 21:console.trace("error",o.t0);case 22:case"end":return o.stop()}}),ac,null,[[9,14]])}function Rc(e){var t;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.videoId,n.next=3,Object(_n.b)(pc,t);case 3:case"end":return n.stop()}}),cc)}function Lc(e){var t,n,r,a;return bn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.fileId,r=t.folderName,a=t.fileName,c.next=3,Object(_n.b)(lc,n,r,a);case 3:case"end":return c.stop()}}),sc)}function xc(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(nt.a.DB_FETCH_IMAGE_GALLERY,dc),Object(_n.i)(nt.a.DB_FETCH_ALBUM_IMAGES,Ic),Object(_n.i)(nt.a.DB_FETCH_AVATAR_IMAGES,vc),Object(_n.i)(nt.a.DB_FETCH_COVER_IMAGES,Tc),Object(_n.i)(nt.a.DB_DELETE_IMAGE,Lc),Object(_n.i)(nt.a.DB_UPLOAD_VIDEO,Ac),Object(_n.h)(nt.a.DB_UPLOAD_IMAGE,jc),Object(_n.h)(nt.a.DB_UPLOAD_AVATAR,Cc),Object(_n.h)(nt.a.DB_UPLOAD_COVER,Dc),Object(_n.i)(nt.a.DB_CREATE_ALBUM,yc),Object(_n.i)(nt.a.DB_FETCH_VIDEO_GALLERY,bc),Object(_n.i)(nt.a.DB_DELETE_VIDEO,Rc)]);case 2:case"end":return e.stop()}}),oc)}var Pc=n(116),wc=bn.a.mark(Nc),Mc=bn.a.mark(Uc);function Nc(){var e;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{name:"English",code:Pc.a.English},{name:"French",code:Pc.a.French},{name:"Spanish",code:Pc.a.Spanish}],void(t.next=3);case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),wc)}function Uc(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(We.a.INIT_LOCALE,Nc)]);case 2:case"end":return e.stop()}}),Mc)}var kc=bn.a.mark(Bc),Gc=bn.a.mark(qc),Hc=a.a.get(mn.a.NotificationService);function Fc(e){return Object(we.c)((function(t){var n=Hc.getNotifications(e,(function(e){t(e)}));return function(){n()}}))}function Bc(){var e,t,n,r;return bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:return e=a.sent,t=e.get("uid"),a.next=6,Object(_n.b)(Fc,t);case 6:n=a.sent,a.prev=7;case 8:return a.next=11,Object(_n.g)(n);case 11:return r=a.sent,a.next=14,Object(_n.e)(Ea.a(r));case 14:a.next=8;break;case 16:return a.prev=16,a.next=19,Object(_n.c)();case 19:if(!a.sent){a.next=21;break}n.close();case 21:return a.finish(16);case 22:case"end":return a.stop()}}),kc,null,[[7,,16,22]])}function qc(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(ct.a.DB_FETCH_NOTIFICATIONS,Bc)]);case 2:case"end":return e.stop()}}),Gc)}var Vc=n(53),Yc=n(21),Kc=n(152),Wc=bn.a.mark(cs),zc=bn.a.mark(ss),Qc=bn.a.mark(os),Jc=bn.a.mark(us),Xc=bn.a.mark(is),$c=bn.a.mark(ds),Zc=bn.a.mark(ps),es=bn.a.mark(ls),ts=bn.a.mark(fs),ns=bn.a.mark(Os),rs=bn.a.mark(Es),as=a.a.get(mn.a.PostService);function cs(e,t,n,r,a){var c,s,o,u,i;return bn.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(_n.f)(Kc.a.getFollowingUsers);case 2:return c=d.sent,(s=c.keySeq().map((function(e){return"".concat(e)})).toArray()).push("".concat(e)),d.next=7,Object(_n.b)(as.searchPosts,"",s.join(),t,n,r,a);case 7:if((o=d.sent).hasMore){d.next=11;break}return d.next=11,Object(_n.e)(ba.notMoreDataStream());case 11:return d.next=13,Object(_n.f)(Ue.b.getAuthedUser);case 13:return u=d.sent,(i=Vc.a.createFetchStreamRequest(u.get("uid"))).status=q.a.OK,d.next=18,Object(_n.e)(An.sendRequest(i));case 18:return d.next=20,Object(_n.e)(ba.lastPostStream(o.newLastPostId));case 20:return d.next=22,Object(_n.e)(ba.addPosts(o.posts));case 22:return d.next=24,Object(_n.e)(ba.addStreamPosts(o.ids));case 24:case"end":return d.stop()}}),Wc)}function ss(e,t,n,r,a,c){var s,o,u,i,d;return bn.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(_n.f)(Kc.a.getFollowingUsers);case 2:return s=p.sent,(o=s.keySeq().map((function(e){return"".concat(e)})).toArray()).push("".concat(t)),p.next=7,Object(_n.b)(as.searchPosts,e,o.join(),n,r,a,c);case 7:if((u=p.sent).hasMore){p.next=11;break}return p.next=11,Object(_n.e)(ba.notMorePostSearch());case 11:return p.next=13,Object(_n.f)(Ue.b.getAuthedUser);case 13:return i=p.sent,(d=Vc.a.createSearchPostRequest(i.get("uid"))).status=q.a.OK,p.next=18,Object(_n.e)(An.sendRequest(d));case 18:return p.next=20,Object(_n.e)(ba.lastPostSearch(u.newLastPostId));case 20:return p.next=22,Object(_n.e)(ba.addPosts(u.posts));case 22:return p.next=24,Object(_n.e)(ba.addSearchPosts(u.ids,0===r));case 24:case"end":return p.stop()}}),zc)}function os(e,t,n,r,a){var c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(_n.b)(as.getPostsByUserId,e,t,n,r,a);case 2:if((c=o.sent).hasMore){o.next=6;break}return o.next=6,Object(_n.e)(ba.notMoreDataProfile(e));case 6:return(s=Vc.a.createFetchPostUserRequest(e)).status=q.a.OK,o.next=10,Object(_n.e)(An.sendRequest(s));case 10:return o.next=12,Object(_n.e)(ba.lastPostProfile(e,c.newLastPostId));case 12:return o.next=14,Object(_n.e)(ba.addPosts(c.posts));case 14:return o.next=16,Object(_n.e)(Rr.addProfilePosts(e,c.ids));case 16:case"end":return o.stop()}}),Qc)}function us(e,t,n,r,a){var c,s;return bn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(_n.b)(as.getAlbumPosts,e,t,n,r,a);case 2:if((c=o.sent).hasMore){o.next=6;break}return o.next=6,Object(_n.e)(Rr.notMoreDataAlbum(e));case 6:return(s=Vc.a.createFetchAlbumRequest(e)).status=q.a.OK,o.next=10,Object(_n.e)(An.sendRequest(s));case 10:return o.next=12,Object(_n.e)(Rr.lastPostAlbum(e,c.newLastPostId));case 12:return o.next=14,Object(_n.e)(ba.addPosts(c.posts));case 14:return o.next=16,Object(_n.e)(Rr.addProfileAlbums(e,c.ids));case 16:case"end":return o.stop()}}),Jc)}function is(){var e;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_n.f)(dt.b.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,Object(_n.b)(as.getSearchKey);case 6:return e=t.sent,t.next=9,Object(_n.e)(ba.setPostSearchKey(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),Xc)}function ds(){var e;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.b)(as.getSearchKey);case 3:return e=t.sent,t.next=6,Object(_n.e)(ba.setPostSearchKey(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(_n.e)(je.showMessage(t.t0.message));case 12:case"end":return t.stop()}}),$c,null,[[0,8]])}function ps(e){var t,n,r,a,c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=i.sent,n=Vc.a.createFetchStreamRequest(t.get("uid")),i.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.page,c=r.limit,s=t.get("uid"),i.prev=9,i.next=12,is();case 12:return o=i.sent,i.next=15,Object(_n.f)(dt.b.getStreamPage);case 15:return i.next=17,Object(_n.f)(dt.b.getStreamLastPostId);case 17:if(u=i.sent,!s){i.next=21;break}return i.next=21,Object(_n.b)(cs,s,u,a,c,o);case 21:i.next=29;break;case 23:return i.prev=23,i.t0=i.catch(9),i.next=27,Object(_n.e)(je.showMessage(i.t0.message));case 27:return i.next=29,Object(_n.e)(ba.notMoreDataStream());case 29:case"end":return i.stop()}}),Zc,null,[[9,23]])}function ls(e){var t,n,r,a,c,s,o,u,i;return bn.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=d.sent,n=Vc.a.createSearchPostRequest(t.get("uid")),d.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.query,c=r.page,s=r.limit,o=t.get("uid"),d.prev=9,d.next=12,is();case 12:return u=d.sent,d.next=15,Object(_n.f)(dt.b.getSearchLastPostId);case 15:if(i=d.sent,!o){d.next=21;break}return d.next=19,Object(_n.e)(je.showTopLoading());case 19:return d.next=21,Object(_n.b)(ss,a,o,i,c,s,u);case 21:d.next=29;break;case 23:return d.prev=23,d.t0=d.catch(9),d.next=27,Object(_n.e)(je.showMessage(d.t0.message));case 27:return d.next=29,Object(_n.e)(ba.notMorePostSearch());case 29:return d.prev=29,d.next=32,Object(_n.e)(je.hideTopLoading());case 32:return d.finish(29);case 33:case"end":return d.stop()}}),es,null,[[9,23,29,33]])}function fs(e){var t,n,r,a,c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=i.sent,n=Vc.a.createFetchPostUserRequest(t.get("uid")),i.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.page,c=r.limit,s=r.userId,i.prev=8,i.next=11,is();case 11:return o=i.sent,i.next=14,Object(_n.f)(dt.b.getProfileLastPostRequest,{userId:s});case 14:return i.next=16,Object(_n.f)(dt.b.getProfileLatPostId,{userId:s});case 16:if(u=i.sent,!t.get("uid")){i.next=21;break}return i.next=21,Object(_n.b)(os,s,u,a,c,o);case 21:i.next=27;break;case 23:return i.prev=23,i.t0=i.catch(8),i.next=27,Object(_n.e)(je.showMessage(i.t0.message));case 27:case"end":return i.stop()}}),ts,null,[[8,23]])}function Os(e){var t,n,r,a,c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=i.sent,n=Vc.a.createFetchAlbumRequest(t.get("uid")),i.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.limit,c=r.userId,s=r.page,i.prev=8,i.next=11,is();case 11:return o=i.sent,i.next=14,Object(_n.f)(V.a.getAlbumLastPageRequest,{userId:c});case 14:return i.next=16,Object(_n.f)(V.a.getAlbumLatPostId,{userId:c});case 16:if(u=i.sent,!t.get("uid")){i.next=21;break}return i.next=21,Object(_n.b)(us,c,u,s,a,o);case 21:i.next=27;break;case 23:return i.prev=23,i.t0=i.catch(8),i.next=27,Object(_n.e)(je.showMessage(i.t0.message));case 27:case"end":return i.stop()}}),ns,null,[[8,23]])}function Es(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.h)(Yc.a.DB_GET_POST,ps),Object(_n.h)(Yc.a.DB_SEARCH_POST,ls),Object(_n.h)(Yc.a.DB_GET_POST_BY_USER_ID,fs),Object(_n.h)(pt.a.DB_GET_ALBUM_POST_BY_USER_ID,Os),Object(_n.i)(Yc.a.DB_GET_POST_SEARCH_KEY,ds)]);case 2:case"end":return e.stop()}}),rs)}var bs={createUserSearchRequest:function(e){var t=M.a.createServerRequestId(k.a.UserFetchRequest,e);return new Fr.a(k.a.UserFetchRequest,t,"",q.a.Sent)}},_s=bn.a.mark(Ds),hs=bn.a.mark(ys),gs=bn.a.mark(Rs),ms=bn.a.mark(Ls),Ss=bn.a.mark(xs),As=bn.a.mark(Ps),Is=bn.a.mark(ws),vs=bn.a.mark(Ms);function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ts(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cs=a.a.get(mn.a.UserService);function Ds(e){var t,n,r;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:if(t=e.sent,!(n=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,Object(_n.b)(Cs.getCurrentUserProfile);case 8:return r=e.sent,e.next=11,Object(_n.e)(Rr.addUserInfo(n,Object(De.Map)(js({},r,{userId:n}))));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Object(_n.e)(je.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),_s,null,[[5,13]])}function ys(e){var t,n,r,a,c;return bn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload,n=t.uid,r=t.callerKey,!n){s.next=28;break}return s.next=4,Object(_n.f)(Oe.a.getCaller);case 4:if(a=s.sent,s.prev=5,!(a&&a.indexOf("dbGetUserInfoByUserId-".concat(n))>-1)){s.next=8;break}return s.abrupt("return",void 0);case 8:return s.next=10,Object(_n.e)(je.temp({caller:"dbGetUserInfoByUserId-".concat(n)}));case 10:return s.next=12,Object(_n.b)(Cs.getUserProfile,n);case 12:return c=s.sent,s.next=15,Object(_n.e)(Rr.addUserInfo(n,Object(De.Map)(js({},c,{userId:n}))));case 15:s.t0=r,s.next="header"===s.t0?18:21;break;case 18:return s.next=20,Object(_n.e)(je.setHeaderTitle(c.fullName));case 20:case 21:return s.abrupt("break",22);case 22:s.next=28;break;case 24:return s.prev=24,s.t1=s.catch(5),s.next=28,Object(_n.e)(je.showMessage(s.t1.message));case 28:case"end":return s.stop()}}),hs,null,[[5,24]])}function Rs(e,t,n,r,a){var c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Kc.a.getFollowingUsers);case 2:return c=i.sent,c.keySeq().map((function(e){return"userId:".concat(e)})).toArray().push("userId:".concat(e)),i.next=7,Object(_n.e)(je.showTopLoading());case 7:return i.prev=7,i.next=10,Object(_n.b)(Cs.searchUser,t,"NOT userId:".concat(e),n,r,a);case 10:if((s=i.sent).hasMore){i.next=14;break}return i.next=14,Object(_n.e)(Rr.notMoreSearchPeople());case 14:return i.next=16,Object(_n.f)(Ue.b.getAuthedUser);case 16:return o=i.sent,(u=bs.createUserSearchRequest(o.get("uid"))).status=q.a.OK,i.next=21,Object(_n.e)(An.sendRequest(u));case 21:return i.next=23,Object(_n.e)(Rr.addPeopleInfo(s.users));case 23:return i.next=25,Object(_n.e)(Rr.addUserSearch(s.ids,0===n));case 25:i.next=33;break;case 27:return i.prev=27,i.t0=i.catch(7),i.next=31,Object(_n.e)(je.showMessage(i.t0.message));case 31:return i.next=33,Object(_n.e)(Rr.notMoreSearchPeople());case 33:return i.prev=33,i.next=36,Object(_n.e)(je.hideTopLoading());case 36:return i.finish(33);case 37:case"end":return i.stop()}}),gs,null,[[7,27,33,37]])}function Ls(e,t,n,r,a){var c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return c=i.sent,s=c.get("uid"),i.next=6,Object(_n.b)(Cs.searchUser,t,e,n,r,a);case 6:if((o=i.sent).hasMore){i.next=10;break}return i.next=10,Object(_n.e)(Rr.notMoreFindPeople());case 10:return(u=bs.createUserSearchRequest(s)).status=q.a.OK,i.next=14,Object(_n.e)(An.sendRequest(u));case 14:return i.next=16,Object(_n.e)(Rr.addPeopleInfo(o.users));case 16:return i.next=18,Object(_n.e)(Rr.addFindPeople(o.ids));case 18:case"end":return i.stop()}}),ms)}function xs(){var e;return bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_n.f)(V.a.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,Object(_n.b)(Cs.getSearchKey);case 6:return e=t.sent,t.next=9,Object(_n.e)(Rr.setPostSearchKey(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),Ss)}function Ps(e){var t,n,r,a,c,s,o;return bn.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=u.sent,n=bs.createUserSearchRequest(t.get("uid")),u.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.page,c=r.limit,s=t.get("uid"),u.prev=9,u.next=12,xs();case 12:if(o=u.sent,!s){u.next=16;break}return u.next=16,Object(_n.b)(Ls,s,"",a,c,o);case 16:u.next=24;break;case 18:return u.prev=18,u.t0=u.catch(9),u.next=22,Object(_n.e)(je.showMessage(u.t0.message));case 22:return u.next=24,Object(_n.e)(Rr.notMoreFindPeople());case 24:case"end":return u.stop()}}),As,null,[[9,18]])}function ws(e){var t,n,r,a,c,s,o,u;return bn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_n.f)(Ue.b.getAuthedUser);case 2:return t=i.sent,n=bs.createUserSearchRequest(t.get("uid")),i.next=6,Object(_n.e)(An.sendRequest(n));case 6:return r=e.payload,a=r.query,c=r.page,s=r.limit,o=t.get("uid"),i.prev=9,i.next=12,xs();case 12:if(u=i.sent,!o){i.next=16;break}return i.next=16,Object(_n.b)(Rs,o,a,c,s,u);case 16:i.next=24;break;case 18:return i.prev=18,i.t0=i.catch(9),i.next=22,Object(_n.e)(je.showMessage(i.t0.message));case 22:return i.next=24,Object(_n.e)(Rr.notMoreSearchPeople());case 24:case"end":return i.stop()}}),Is,null,[[9,18]])}function Ms(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.h)(pt.a.DB_FETCH_USER_SEARCH,ws),Object(_n.h)(pt.a.DB_FETCH_FIND_PEOPLE,Ps),Object(_n.i)(pt.a.DB_FETCH_USER_PROFILE,Ds),Object(_n.i)(pt.a.DB_FETCH_USER_PROFILE_BY_ID,ys)]);case 2:case"end":return e.stop()}}),vs)}var Ns=function(e){function t(e,n,r,a){var c;return Object(O.a)(this,t),(c=Object(b.a)(this,Object(_.a)(t).call(this))).type=e,c.creationDate=n,c.ownerUserId=r,c.list=a,c}return Object(g.a)(t,e),t}(G.a),Us=bn.a.mark(Fs),ks=bn.a.mark(Bs),Gs=bn.a.mark(qs),Hs=a.a.get(mn.a.UserSettingService);function Fs(e){var t,n;return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:if(t=e.sent,!t.get("uid")){e.next=17;break}return e.prev=5,e.next=8,Object(_n.b)(Hs.getUserSettings);case 8:return n=e.sent,e.next=11,Object(_n.e)(_a.c(n));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Object(_n.e)(je.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Us,null,[[5,13]])}function Bs(e){var t,n,r,a;return bn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_n.f)(le.a.getAuthedUser);case 2:if(t=c.sent,!(n=t.get("uid"))){c.next=19;break}return r=e.payload,c.prev=6,a=new Ns(r.type,0,n,[]),r.setting.forEach((function(e){a.list.push(e.toJS())})),c.next=11,Object(_n.b)(Hs.updateUserSetting,a);case 11:return c.next=13,Object(_n.e)(_a.d(r.type,r.setting));case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(6),c.next=19,Object(_n.e)(je.showMessage(c.t0.message));case 19:case"end":return c.stop()}}),ks,null,[[6,15]])}function qs(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.i)(Pt.a.DB_FETCH_USER_SETTING,Fs),Object(_n.i)(Pt.a.DB_UPDATE_USER_SETTING,Bs)]);case 2:case"end":return e.stop()}}),Gs)}var Vs=bn.a.mark(Ys);function Ys(){return bn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Gn(),Uc(),ta(),la(),Ms(),Ca(),Es(),qs(),xc(),qc(),Hr(),Dr()]);case 2:case"end":return e.stop()}}),Vs)}var Ks=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ws(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.BASE_HREF;On.runSaga(Ys),On.store.subscribe((function(){})),On.store.dispatch(Te.asyncSetUserLoginStatus()),On.store.dispatch(Te.subcribeAuthorizeStateChange()),On.store.dispatch(je.initLocale());try{ve()()}catch(Qs){}var zs=Object(s.a)(l);Ae.a.render(I.a.createElement(F.Provider,{store:On.store},I.a.createElement(H.a,{i18n:c.a},I.a.createElement(f.ConnectedRouter,{history:On.history},I.a.createElement(o.a,{theme:zs},I.a.createElement(me,null))))),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("/web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/web","/service-worker.js");Ks?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ws(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ws(t,e)}))}}()},47:function(e,t,n){"use strict";n.r(t),n.d(t,"dbAddPost",(function(){return _})),n.d(t,"dbUpdatePost",(function(){return h})),n.d(t,"dbDeletePost",(function(){return g})),n.d(t,"dbGetPosts",(function(){return m})),n.d(t,"dbSearchPosts",(function(){return S})),n.d(t,"dbGetPostsByUserId",(function(){return A})),n.d(t,"dbGetPostById",(function(){return I})),n.d(t,"dbGetPostSearchKey",(function(){return v})),n.d(t,"setPostSearchKey",(function(){return T})),n.d(t,"addPost",(function(){return j})),n.d(t,"updatePost",(function(){return C})),n.d(t,"updatePostComments",(function(){return D})),n.d(t,"updatePostVotes",(function(){return y})),n.d(t,"deletePost",(function(){return R})),n.d(t,"addPosts",(function(){return L})),n.d(t,"addStreamPosts",(function(){return x})),n.d(t,"addSearchPosts",(function(){return P})),n.d(t,"addInstagramPosts",(function(){return w})),n.d(t,"clearAllData",(function(){return M})),n.d(t,"addImagePost",(function(){return N})),n.d(t,"hasMoreDataStream",(function(){return U})),n.d(t,"notMoreDataStream",(function(){return k})),n.d(t,"hasMorePostSearch",(function(){return G})),n.d(t,"notMorePostSearch",(function(){return H})),n.d(t,"setPageStream",(function(){return F})),n.d(t,"increasePageStream",(function(){return B})),n.d(t,"lastPostStream",(function(){return q})),n.d(t,"lastPostSearch",(function(){return V})),n.d(t,"hasMoreDataProfile",(function(){return Y})),n.d(t,"notMoreDataProfile",(function(){return K})),n.d(t,"requestPageProfile",(function(){return W})),n.d(t,"lastPostProfile",(function(){return z}));var r=n(15),a=n(21),c=n(80),s=n(4),o=n(58),u=n.n(o),i=n(22),d=n(9),p=n(29),l=n(5),f=n(38),O=n(52);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=p.a.get(d.a.PostService),_=function(e,t){return function(n,a){var o=a(),d=o.getIn(["authorize","uid"]),p=O.a.getUserProfileById(o,{userId:d}).toJS(),_={postTypeId:e.postTypeId||0,creationDate:u()().utc().valueOf(),deleteDate:0,score:0,viewCount:0,body:e.body,ownerUserId:d,ownerDisplayName:p.fullName,ownerAvatar:p.avatar,lastEditDate:0,album:e.album&&e.album,tags:e.tags||[],commentCounter:0,image:e.image||"",imageFullPath:e.imageFullPath||"",video:e.video||"",thumbnail:e.thumbnail||"",disableComments:!!e.disableComments&&e.disableComments,disableSharing:!!e.disableSharing&&e.disableSharing,accessUserList:e.accessUserList?e.accessUserList:[],permission:e.permission?e.permission:c.a.Public,deleted:!1,version:i.a.dataFormat.postVersion};return b.addPost(_).then((function(e){n(j(Object(s.fromJS)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_,{id:e})))),n(x(Object(s.Map)(Object(r.a)({},e,!0)))),n(f.increasePostCountUser(d)),t()})).catch((function(e){return n(l.showMessage(e.message))}))}},h=function(e,t){return function(n,r){return n(l.showTopLoading()),b.updatePost(e.toJS()).then((function(){n(C(e)),t(),n(l.hideTopLoading())})).catch((function(e){n(l.showMessage(e.message)),n(l.hideTopLoading())}))}},g=function(e){return function(t,n){t(l.showTopLoading());var r=n().getIn(["authorize","uid"]);return b.deletePost(e).then((function(){t(R(r,e)),t(l.hideTopLoading()),t(f.decreasePostCountUser(r))})).catch((function(e){t(l.showMessage(e.message)),t(l.hideTopLoading())}))}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return{type:a.a.DB_GET_POST,payload:{page:e,limit:t}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{type:a.a.DB_SEARCH_POST,payload:{query:e,page:t,limit:n}}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{type:a.a.DB_GET_POST_BY_USER_ID,payload:{userId:e,page:t,limit:n}}},I=function(e,t){return function(n,r){if(e)return b.getPostById(t).then((function(e){n(j(Object(s.fromJS)(e)))})).catch((function(e){n(l.showMessage(e.message))}))}},v=function(){return{type:a.a.DB_GET_POST_SEARCH_KEY}},T=function(e){return{type:a.a.SET_POST_SEARCH_KEY,payload:{searchKey:e}}},j=function(e){return{type:a.a.ADD_POST,payload:{post:e}}},C=function(e){return{type:a.a.UPDATE_POST,payload:{post:e}}},D=function(e){return{type:a.a.UPDATE_POST_COMMENTS,payload:{post:e}}},y=function(e){return{type:a.a.UPDATE_POST_VOTES,payload:{post:e}}},R=function(e,t){return{type:a.a.DELETE_POST,payload:{uid:e,id:t}}},L=function(e){return{type:a.a.ADD_LIST_POST,payload:{entities:e}}},x=function(e){return{type:a.a.ADD_LIST_STREAM_POST,payload:{postIds:e}}},P=function(e,t){return{type:a.a.ADD_LIST_SEARCH_POST,payload:{postIds:e},meta:{overwrite:t}}},w=function(e){return{type:a.a.ADD_LIST_POST_INSTAGRAM,payload:{posts:e}}},M=function(){return{type:a.a.CLEAR_ALL_DATA_POST}},N=function(e,t){return{type:a.a.ADD_IMAGE_POST,payload:{uid:e,post:t}}},U=function(){return{type:a.a.HAS_MORE_DATA_STREAM}},k=function(){return{type:a.a.NOT_MORE_DATA_STREAM}},G=function(){return{type:a.a.HAS_MORE_POST_SEARCH}},H=function(){return{type:a.a.NO_MORE_POST_SEARCH}},F=function(e){return{type:a.a.SET_PAGE_STREAM,payload:{page:e}}},B=function(){return{type:a.a.INCREASE_PAGE_STREAM}},q=function(e){return{type:a.a.LAST_POST_STREAM,payload:{lastPostId:e}}},V=function(e){return{type:a.a.LAST_POST_SEARCH,payload:{lastPostId:e}}},Y=function(){return{type:a.a.HAS_MORE_DATA_PROFILE}},K=function(e){return{type:a.a.NOT_MORE_DATA_PROFILE,payload:{userId:e}}},W=function(e,t){return{type:a.a.REQUEST_PAGE_PROFILE,payload:{userId:e,page:t}}},z=function(e,t){return{type:a.a.LAST_POST_PROFILE,payload:{userId:e,lastPostId:t}}}},5:function(e,t,n){"use strict";n.r(t),n.d(t,"dbSendFeed",(function(){return f})),n.d(t,"showNotificationRequest",(function(){return O})),n.d(t,"showNotificationSuccess",(function(){return E})),n.d(t,"setSearchRequest",(function(){return b})),n.d(t,"progressChange",(function(){return _})),n.d(t,"progressChangeWithKey",(function(){return h})),n.d(t,"initLocale",(function(){return g})),n.d(t,"defaultDataEnable",(function(){return m})),n.d(t,"defaultDataDisable",(function(){return S})),n.d(t,"showMessage",(function(){return A})),n.d(t,"hideMessage",(function(){return I})),n.d(t,"showMessageByReference",(function(){return v})),n.d(t,"hideMessageByReference",(function(){return T})),n.d(t,"setHeaderTitleOpt",(function(){return j})),n.d(t,"setHeaderTitle",(function(){return C})),n.d(t,"openPostWrite",(function(){return D})),n.d(t,"closePostWrite",(function(){return y})),n.d(t,"showTopLoading",(function(){return R})),n.d(t,"hideTopLoading",(function(){return L})),n.d(t,"showMasterLoading",(function(){return x})),n.d(t,"showSendFeedback",(function(){return P})),n.d(t,"hideSendFeedback",(function(){return w})),n.d(t,"hideMasterLoading",(function(){return M})),n.d(t,"temp",(function(){return N})),n.d(t,"clearTemp",(function(){return U})),n.d(t,"loadDataGuest",(function(){return k})),n.d(t,"dbLoadTwitterMedia",(function(){return G})),n.d(t,"clearLoadedData",(function(){return H})),n.d(t,"loadInitialData",(function(){return F})),n.d(t,"openDialog",(function(){return B})),n.d(t,"closeDialog",(function(){return q}));var r=n(23),a=n(33),c=n(141),s=n(50),o=n(9),u=n(71),i=n(29),d=n(28),p=n(19),l=i.a.get(o.a.CommonService),f=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]),a=V(r);return t(d.sendRequest(a)),l.addFeed(e).then((function(){a.status=p.a.OK,t(d.sendRequest(a))})).catch((function(e){t(A(e.message)),a.status=p.a.Error,t(d.sendRequest(a))}))}},O=function(){return function(e,t){return e(A(c.a.t("common.sentRequestMessage")))}},E=function(){return function(e,t){return e(A(c.a.t("common.successfulRequestMessage")))}},b=function(e,t){return{type:r.a.PROGRESS_CHANGE,payload:{percent:e,visible:t}}},_=function(e,t){return{type:r.a.PROGRESS_CHANGE,payload:{percent:e,visible:t}}},h=function(e,t,n,a){return{type:r.a.PROGRESS_CHANGE_WITH_KEY,payload:{percent:e,visible:t,progressKey:n,meta:a}}},g=function(){return{type:r.a.INIT_LOCALE,payload:null}},m=function(){return{type:r.a.DEFAULT_DATA_ENABLE}},S=function(){return{type:r.a.DEFAULT_DATA_DISABLE}},A=function(e){return(!e||""===e||e&&""===e.trim())&&(e="Bad request"),{type:r.a.SHOW_MESSAGE_GLOBAL,payload:{message:e}}},I=function(){return L(),{type:r.a.HIDE_MESSAGE_GLOBAL}},v=function(e,t,n){return(!e||""===e||e&&""===e.trim())&&(e="Bad request"),{type:r.a.SHOW_MESSAGE_BY_REFERENCE,payload:{message:e,referenceKey:t,showGlobal:n}}},T=function(){return L(),{type:r.a.HIDE_MESSAG_BY_REFERENCE}},j=function(e,t){return function(n,r){switch(e){case"profile":var a=r().user.info&&r().user.info[t]?r().user.info[t].fullName:"";n(C(a))}}},C=function(e){return{type:r.a.SET_HEADER_TITLE,payload:e}},D=function(){return{type:r.a.OPEN_POST_WRITE}},y=function(){return{type:r.a.CLOSE_POST_WRITE}},R=function(){return{type:r.a.SHOW_TOP_LOADING}},L=function(){return{type:r.a.HIDE_TOP_LOADING}},x=function(){return{type:r.a.SHOW_MASTER_LOADING}},P=function(){return{type:r.a.SHOW_SEND_FEEDBACK}},w=function(){return{type:r.a.HIDE_SEND_FEEDBACK}},M=function(){return{type:r.a.HIDE_MASTER_LOADING}},N=function(e){return{type:r.a.TEMP,payload:e}},U=function(){return{type:r.a.CLEAR_ALL_GLOBAL}},k=function(){return function(e,t){}},G=function(e){return{type:r.a.LOAD_TWITTER_MEDIA,payload:{accessToken:e}}},H=function(){return{type:r.a.CLEAR_LOADED_DATA}},F=function(){return{type:r.a.LOAD_INITIAL_DATA}},B=function(e){return{type:r.a.OPEN_DIALOG,payload:{type:e}}},q=function(e){return{type:r.a.CLOSE_DIALOG,payload:{type:e}}},V=function(e){var t=s.a.createServerRequestId(a.a.CommonSendFeedback,e);return new u.a(a.a.CommonSendFeedback,t,"",p.a.Sent)}},50:function(e,t,n){"use strict";var r=n(119);var a=function(e){var t=e.match(r.a.YoutubUrlCode);return!(!t||11!==t[7].length)&&t[7]};t.a={isValidEmail:function(e){return r.a.ValidEmail.test(e)},queryString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},createServerRequestId:function(e,t){return"".concat(e,":").concat(t)},getYoutubeCodeUrl:a,getYoutubetThumbnails:function(e){return"//img.youtube.com/vi/".concat(a(e),"/0.jpg")},validateYoutubeUrl:function(e){var t=e.match(r.a.ValidYoutubeURL);return t&&11===t[2].length},validateUrl:function(e){return r.a.ValidateURL.test(e)},getNumberOfLines:function(e){return e.split("\n").length},isEmpty:function(e){return!e||/^\s*$/.test(e)||0===e.length||!e.trim()}}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(4),a=n(27),c=n(53),s=function(e,t){var n=t.userId,a=e.getIn(["user","entities",n],Object(r.Map)({})),c=a.get("id");return c&&(a=a.set("userId",c)),a},o=function(e){return e.getIn(["user","entities"],Object(r.Map)({}))},u=function(e){return e.getIn(["user","findPeople","list"],Object(r.Map)({}))},i=function(e){return e.getIn(["user","search","list"],Object(r.Map)({}))},d=function(e){return e.getIn(["user","findPeople","hasMoreData"],!0)},p=function(e){return e.getIn(["user","findPeople","page"],0)},l=function(e){return e.getIn(["user","search","hasMoreData"],!0)},f=function(e,t){return e.getIn(["user","album",t.userId,"list"],Object(r.Map)({}))},O=function(e){return e.getIn(["post","entities"],Object(r.Map)({}))},E=function(e,t){return e.getIn(["user","album",t.userId,"hasMoreData"],!0)},b=function(e,t){return e.getIn(["user","album",t.userId,"lastPageRequest"],0)},_={getUserProfileById:s,getSearchKey:function(e){return e.getIn(["user","searchKey"])},getAlbumLastPageRequest:b,getUsers:o,getAlbumLatPostId:function(e,t){return e.getIn(["user","album",t.userId,"lastPostId"],"")},selectAlbumPosts:function(){return Object(a.a)([f,O],(function(e,t){var n=Object(r.List)([]);return e.forEach((function(e,r){if(e){var a=t.get(r);a&&(n=n.push(a))}})),n.isEmpty()?Object(r.List)([]):c.a.sortImuObjectsDate(n)}))},selectLastAlbumPage:function(){return Object(a.a)([b],(function(e){return e}))},selectMoreAlbum:function(){return Object(a.a)([E],(function(e){return e}))},selectUserProfileById:function(){return Object(a.a)([s],(function(e){return e}))},selectMoreFindPeople:function(){return Object(a.a)([d],(function(e){return e}))},selectFindPeople:function(){return Object(a.a)([u,o],(function(e,t){var n=Object(r.List)([]);return e.forEach((function(e,r){e&&(n=n.push(t.get(r)))})),n.isEmpty()?Object(r.List)([]):c.a.sortImuObjectsDate(n)}))},selectMoreSearchPeople:function(){return Object(a.a)([l],(function(e){return e}))},selectSearchPeople:function(){return Object(a.a)([i,o],(function(e,t){var n=Object(r.List)([]);return e.forEach((function(e,r){e&&(n=n.push(t.get(r)))})),n.isEmpty()?Object(r.List)([]):c.a.sortImuObjectsDate(n)}))},getFindPeoplePage:p,selectUsers:function(){return Object(a.a)([o],(function(e){return e}))},selectFindPeoplePage:function(){return Object(a.a)([p],(function(e){return e}))}}},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));n(15);var r=n(50),a=n(33),c=n(71),s=n(19);var o=function(e){var t=[];return function(e,t){return e.split(" ").filter((function(e){return e.slice(0,1)===t}))}(e,"#").forEach((function(e){t.push(e.slice(1))})),t},u=function(e){return e.sort((function(e,t){return parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10)}))},i={createFetchStreamRequest:function(e){var t=r.a.createServerRequestId(a.a.StreamGetPosts,e);return new c.a(a.a.StreamGetPosts,t,"",s.a.Sent)},createSearchPostRequest:function(e){var t=r.a.createServerRequestId(a.a.SearchPosts,e);return new c.a(a.a.SearchPosts,t,"",s.a.Sent)},createFetchPostUserRequest:function(e){var t=r.a.createServerRequestId(a.a.ProfileGetPosts,e);return new c.a(a.a.ProfileGetPosts,t,"",s.a.Sent)},sortImuObjectsDate:function(e){return e.sort((function(e,t){return parseInt(t.get("creationDate"),10)-parseInt(e.get("creationDate"),10)}))},createFetchAlbumRequest:function(e){var t=r.a.createServerRequestId(a.a.ProfileGetAlbums,e);return new c.a(a.a.ProfileGetAlbums,t,"",s.a.Sent)}}},63:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_NOTIFY="ADD_NOTIFY",e.DB_FETCH_NOTIFICATIONS="DB_FETCH_NOTIFICATIONS",e.ADD_NOTIFY_LIST="ADD_NOTIFY_LIST",e.ADD_PLAIN_NOTIFY_LIST="ADD_PLAIN_NOTIFY_LIST",e.DELETE_NOTIFY="DELETE_NOTIFY",e.SEEN_NOTIFY="SEEN_NOTIFY",e.CLEAR_ALL_DATA_NOTIFY="CLEAR_ALL_DATA_NOTIFY"}(r||(r={}))},66:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_VOTE="ADD_VOTE",e.DELETE_VOTE="DELETE_VOTE",e.ADD_VOTE_LIST="ADD_VOTE_LIST",e.CLEAR_ALL_DATA_VOTE="CLEAR_ALL_DATA_VOTE",e.ASYNC_ADD_NEW_VOTE="ASYNC_ADD_NEW_VOTE",e.ASYNC_DELETE_VOTE="ASYNC_DELETE_VOTE"}(r||(r={}))},71:function(e,t,n){"use strict";var r=n(113);n.d(t,"a",(function(){return r.a}))},73:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SET_USER_SETTING="SET_USER_SETTING",e.UPDATE_USER_SETTING="UPDATE_USER_SETTING",e.DB_UPDATE_USER_SETTING="DB_UPDATE_USER_SETTING",e.DB_FETCH_USER_SETTING="DB_FETCH_USER_SETTING",e.CLEAR_ALL_USER_SETTING="CLEAR_ALL_USER_SETTING"}(r||(r={}))},80:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.OnlyMe="OnlyMe",e.Public="Public",e.Circles="Circles",e.Custom="Custom"}(r||(r={}))},81:function(e,t,n){"use strict";n.r(t),n.d(t,"login",(function(){return _})),n.d(t,"fetchUserRegisterToken",(function(){return h})),n.d(t,"fetchAccessToken",(function(){return g})),n.d(t,"setUserRegisterToken",(function(){return m})),n.d(t,"setAccessToken",(function(){return S})),n.d(t,"asyncSetUserLoginStatus",(function(){return A})),n.d(t,"setUserLoginStatus",(function(){return I})),n.d(t,"asyncVerifyUserRegisterCode",(function(){return v})),n.d(t,"logout",(function(){return T})),n.d(t,"signup",(function(){return j})),n.d(t,"updatePassword",(function(){return C})),n.d(t,"setSignupStep",(function(){return D})),n.d(t,"subcribeAuthorizeStateChange",(function(){return y})),n.d(t,"dbLogin",(function(){return L})),n.d(t,"dbLogout",(function(){return x})),n.d(t,"dbSendEmailVerfication",(function(){return P})),n.d(t,"dbUpdatePassword",(function(){return w})),n.d(t,"dbResetPassword",(function(){return M})),n.d(t,"dbLoginWithOAuth",(function(){return N}));var r=n(15),a=n(117),c=n(179),s=n(44),o=n(14),u=n(9),i=n(4),d=n(29),p=n(5),l=n(28),f=n(19),O=n(22);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){return{type:s.a.LOGIN,payload:Object(i.Map)(e)}},h=function(e,t){return{type:s.a.ASYNC_FETCH_USER_REGISTER_TOKEN,payload:{user:e,captchaVerifier:t}}},g=function(){return{type:s.a.ASYNC_FETCH_ACCESS_TOKEN,payload:{}}},m=function(e){return{type:s.a.SET_USER_REGISTER_TOKEN,payload:{token:e}}},S=function(e){return{type:s.a.SET_ACCESS_TOKEN,payload:{token:e}}},A=function(){return{type:s.a.ASYNC_SET_LOGIN,payload:{}}},I=function(e){return{type:s.a.SET_LOGIN,payload:{status:e}}},v=function(e){return{type:s.a.ASYNC_VERITY_USER_REGISTER_CODE,payload:{code:e}}},T=function(){return{type:s.a.LOGOUT}},j=function(e){return{type:s.a.SIGNUP,payload:b({},e)}},C=function(){return{type:s.a.UPDATE_PASSWORD}},D=function(e){return{type:s.a.SET_SIGNUP_STEP,payload:{step:e}}},y=function(){return{type:s.a.SUBSCRIBE_AUTH_STATE_CHANGE}},R=d.a.get(u.a.AuthorizeService),L=function(e,t){return function(n,r){var s=a.a.createLoginRequest(e);return n(l.sendRequest(s)),n(p.showNotificationRequest()),R.login(e,t).then((function(e){if(!e)throw new o.c("authService/loginuser/null","Login was not successful");s.status=f.a.OK,n(l.sendRequest(s)),n(p.showNotificationSuccess()),n(_(e)),n(Object(c.a)("/"))}),(function(e){s.status=f.a.Error,n(l.sendRequest(s)),n(p.showMessage(e.message))}))}},x=function(){return function(e,t){R.logout(),localStorage.removeItem("red-gold.scure.token"),e(T()),window.location.href=O.a.settings.gateway+"/auth/login"}},P=function(e){return function(t,n){return t(p.showNotificationRequest()),R.sendEmailVerification(e).then((function(){t(p.showNotificationSuccess()),t(Object(c.a)("/"))})).catch((function(e){t(p.showMessage(e.code))}))}},w=function(e,t){return function(n,r){return n(p.showNotificationRequest()),R.updatePassword(e,t).then((function(){n(p.showNotificationSuccess()),n(C()),n(x())})).catch((function(e){switch(e.code){case"auth/requires-recent-login":n(p.showMessage(e.code)),n(x())}}))}},M=function(e){return function(t,n){return t(p.showNotificationRequest()),R.resetPassword(e).then((function(){t(p.showNotificationSuccess()),t(Object(c.a)("/login"))})).catch((function(e){t(p.showMessage(e.code))}))}},N=function(e){return function(t,n){return t(p.showNotificationRequest()),R.loginWithOAuth(e).then((function(e){t(p.showNotificationSuccess()),t(_(e)),t(Object(c.a)("/"))})).catch((function(e){t(p.showMessage(e.code))}))}}},84:function(e,t,n){"use strict";var r=n(8),a=n(43),c=n(49),s=n(45),o=n(48),u=n(178),i=n(16),d=n(521),p=n(142),l=n.n(p),f=n(77),O=n.n(f),E=n(0),b=n.n(E),_=n(106),h=n(61),g=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(a.a)(t,[{key:"loadProgress",value:function(){var e=this.props,t=e.error,n=e.timedOut,r=(e.pastDelay,e.t),a=e.theme;return t?(console.trace("error",t),b.a.createElement(O.a,{container:!0},b.a.createElement(O.a,{item:!0},b.a.createElement(d.a,{style:{color:l.a[500]},size:50})),b.a.createElement(O.a,{item:!0,style:{zIndex:1}},b.a.createElement(u.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}},r("masterLoading.unexpectedError"))))):n?b.a.createElement(O.a,{container:!0},b.a.createElement(O.a,{item:!0},b.a.createElement(d.a,{style:{color:l.a[500]},size:50})),b.a.createElement(O.a,{item:!0,style:{zIndex:1}},b.a.createElement(u.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}},r("masterLoading.timeout")))):b.a.createElement(O.a,{container:!0},b.a.createElement(O.a,{item:!0},b.a.createElement(d.a,{style:{color:a.palette.primary.light},size:50})),b.a.createElement(O.a,{item:!0,style:{zIndex:1}},b.a.createElement(u.a,{variant:"h6",color:"primary",style:{marginLeft:"15px"}})))}},{key:"render",value:function(){return b.a.createElement("div",{className:"mLoading__loading"},this.loadProgress())}}]),t}(E.Component),m=Object(_.c)("translations")(g),S=Object(i.a)((function(e){return{}}),{withTheme:!0})(m);t.a=Object(h.connect)((function(e,t){return{}}),(function(e,t){return{}}))(S)},85:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_REQUEST="ADD_REQUEST",e.DELETE_REQUEST="DELETE_REQUEST",e.ERROR_REQUEST="ERROR_REQUEST",e.OK_REQUEST="OK_REQUEST",e.CLEAR_ALL_DATA_REQUEST="CLEAR_ALL_DATA_REQUEST"}(r||(r={}))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={PermissionService:Symbol("PermissionService"),AuthorizeService:Symbol("AuthorizeService"),UserTieService:Symbol("UserTieService"),CircleService:Symbol("CircleService"),CommentService:Symbol("CommentService"),CommonService:Symbol("CommonService"),StorageService:Symbol("StorageService"),ImageGalleryService:Symbol("ImageGalleryService"),NotificationService:Symbol("NotificationService"),PostService:Symbol("PostService"),UserService:Symbol("UserService"),UserSettingService:Symbol("UserSettingService"),ChatService:Symbol("ChatService"),VoteService:Symbol("VoteService"),Httpervice:Symbol("Httpervice")}},90:function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return v})),n.d(t,"o",(function(){return T})),n.d(t,"i",(function(){return j})),n.d(t,"n",(function(){return C})),n.d(t,"h",(function(){return D})),n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"a",(function(){return k})),n.d(t,"d",(function(){return G})),n.d(t,"p",(function(){return H})),n.d(t,"e",(function(){return F})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return V})),n.d(t,"s",(function(){return K})),n.d(t,"r",(function(){return W})),n.d(t,"q",(function(){return z})),n.d(t,"f",(function(){return Q}));var r=n(15),a=n(26),c=n(33),s=n(4),o=n(58),u=n.n(o),i=n(50),d=n(148),p=n(9),l=n(113),f=n(29),O=n(5),E=n(28),b=n(19),_=n(38),h=n(52);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=f.a.get(p.a.CircleService),A=f.a.get(p.a.UserTieService),I=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]),a={creationDate:u.a.utc().valueOf(),name:e,isSystem:!1,ownerId:r};return S.addCircle(r,a).then((function(e){a.id=e,a.ownerId=r,t(M(Object(s.Map)(a)))}),(function(e){return t(O.showMessage(e.message))}))}},v=function(e,t){return function(n,r){var a=r(),c=a.getIn(["authorize","uid"]),o=m({},h.a.getUserProfileById(a,{userId:c}).toJS(),{userId:c}),i=x(t.userId);return n(E.sendRequest(i)),A.tieUseres({userId:o.userId,fullName:o.fullName,avatar:o.avatar,approved:!1},{userId:t.userId,fullName:t.fullName,avatar:t.avatar,approved:!1},[e]).then((function(){n(_.increaseFollowCountUser(c));var r=Object(s.Map)(new d.a(t.userId,u.a.utc().valueOf(),t.fullName,t.avatar,!1));r=r.set("circleIdList",Object(s.List)([e])),n(B(r)),i.status=b.a.OK,n(E.sendRequest(i))}),(function(e){n(O.showMessage(e.message)),i.status=b.a.Error,n(E.sendRequest(i))}))}},T=function(e,t){return function(n,r){var a=r(),c=a.getIn(["authorize","uid"]),o=m({},h.a.getUserProfileById(a,{userId:c}).toJS(),{userId:c}),i=P(t.userId);return n(E.sendRequest(i)),n(O.showMasterLoading()),A.updateUsersTie({userId:o.userId,fullName:o.fullName,avatar:o.avatar,approved:!1},{userId:t.userId,fullName:t.fullName,avatar:t.avatar,approved:!1},e.toJS()).then((function(){var r=Object(s.Map)(new d.a(t.userId,u.a.utc().valueOf(),t.fullName,t.avatar,!1));r=r.set("circleIdList",e),n(B(r)),i.status=b.a.OK,n(E.sendRequest(i)),n(O.hideMasterLoading()),n(Q(t.userId))}),(function(e){n(O.showMessage(e.message)),n(O.hideMasterLoading()),i.status=b.a.Error,n(E.sendRequest(i))}))}},j=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]),a=w(e);return t(E.sendRequest(a)),t(O.showMasterLoading()),A.removeUsersTie(r,e).then((function(){t(_.decreaseFollowCountUser(r)),t(Y(e)),t(O.hideMasterLoading()),t(Q(e)),a.status=b.a.OK,t(E.sendRequest(a))}),(function(n){t(O.showMessage(n.message)),t(O.hideMasterLoading()),t(Q(e)),a.status=b.a.Error,t(E.sendRequest(a))}))}},C=function(e){return function(t,n){var r=n(),a=r.getIn(["authorize","uid"]),c=r.getIn(["circle","circleList",e.id]);return c=c.set("name",e.name),S.updateCircle(a,e.id,c.toJS()).then((function(){c=c.set("id",e.id),t(N(c))}),(function(e){t(O.showMessage(e.message))}))}},D=function(e){return function(t,n){var r=n().getIn(["authorize","uid"]);return S.deleteCircle(r,e).then((function(){t(U(e))}),(function(e){t(O.showMessage(e.message))}))}},y=function(){return{type:a.a.DB_FETCH_CIRCLES}},R=function(){return{type:a.a.DB_FETCH_USER_TIES}},L=function(){return{type:a.a.DB_FETCH_USER_TIEDS}},x=function(e){var t=i.a.createServerRequestId(c.a.CircleFollowUser,e);return new l.a(c.a.CircleFollowUser,t,"",b.a.Sent)},P=function(e){var t=i.a.createServerRequestId(c.a.CircleAddToCircle,e);return new l.a(c.a.CircleAddToCircle,t,"",b.a.Sent)},w=function(e){var t=i.a.createServerRequestId(c.a.CircleDeleteFollowingUser,e);return new l.a(c.a.CircleDeleteFollowingUser,t,"",b.a.Sent)},M=function(e){return{type:a.a.ADD_CIRCLE,payload:{circle:e}}},N=function(e){return{type:a.a.UPDATE_CIRCLE,payload:{circle:e}}},U=function(e){return{type:a.a.DELETE_CIRCLE,payload:{circleId:e}}},k=function(e){return{type:a.a.ADD_LIST_CIRCLE,payload:{circleList:e}}},G=function(){return{type:a.a.CLEAR_ALL_CIRCLES}},H=function(e){return{type:a.a.OPEN_CIRCLE_SETTINGS,payload:{circleId:e}}},F=function(e){return{type:a.a.CLOSE_CIRCLE_SETTINGS,payload:{circleId:e}}},B=function(e){return{type:a.a.ADD_FOLLOWING_USER,payload:{userTie:e}}},q=function(e){return{type:a.a.ADD_USER_TIE_LIST,payload:{userTies:e}}},V=function(e){return{type:a.a.ADD_USER_TIED_LIST,payload:{userTieds:e}}},Y=function(e){return{type:a.a.DELETE_FOLLOWING_USER,payload:{userId:e}}},K=function(e,t){return{type:a.a.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e,circleList:t}}},W=function(e){return{type:a.a.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}}},z=function(e){return{type:a.a.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}}},Q=function(e){return{type:a.a.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT,payload:{userId:e}}}},94:function(e,t,n){"use strict";n.r(t),n.d(t,"dbSubscribeChatMessage",(function(){return a})),n.d(t,"dbFetchChatMessageOnce",(function(){return c})),n.d(t,"dbCreateChatMessage",(function(){return s})),n.d(t,"dbSetChatLanguage",(function(){return o})),n.d(t,"dbCreateChatRoom",(function(){return u})),n.d(t,"dbFetchPeerChatRoom",(function(){return i})),n.d(t,"addChatRoomMessages",(function(){return d})),n.d(t,"addPlainChatRoomMessages",(function(){return p})),n.d(t,"activePeerChatRoom",(function(){return l})),n.d(t,"wsConnect",(function(){return f})),n.d(t,"asyncCreateChatRequest",(function(){return O})),n.d(t,"asyncCancelChatRequest",(function(){return E})),n.d(t,"asyncIgnoreChatRequest",(function(){return b})),n.d(t,"asyncAcceptChatRequest",(function(){return _})),n.d(t,"asyncJoinChatroom",(function(){return h})),n.d(t,"setCurrentChat",(function(){return g})),n.d(t,"closeChat",(function(){return m})),n.d(t,"openChat",(function(){return S})),n.d(t,"closeRecentChat",(function(){return A})),n.d(t,"openRecentChat",(function(){return I})),n.d(t,"removeChatHistory",(function(){return v})),n.d(t,"dbRemoveChatHistory",(function(){return T})),n.d(t,"addChatRequest",(function(){return j})),n.d(t,"removeChatRequest",(function(){return C})),n.d(t,"addChatCalling",(function(){return D})),n.d(t,"removeChatCalling",(function(){return y})),n.d(t,"addChatConnect",(function(){return R})),n.d(t,"removeChatConnect",(function(){return L})),n.d(t,"clearAllChat",(function(){return x}));var r=n(20),a=function(e){return{type:r.a.DB_SUBSCRIBE_CHAT_MESSAGE,payload:{chatRoomId:e}}},c=function(e){return{type:r.a.DB_FETCH_CHAT_MESSAGE_ONCE,payload:{chatRoomId:e}}},s=function(e){return{type:r.a.DB_CREATE_CHAT_MESSAGE,payload:e}},o=function(e,t,n){return{type:r.a.DB_SET_CHAT_LANGUAGE,payload:{input:e,output:t,roomId:n}}},u=function(e){return{type:r.a.DB_CREATE_CHAT_ROOM,payload:e}},i=function(e){return{type:r.a.DB_FETCH_PEER_CHAT_ROOMS,payload:{chatRoomId:e}}},d=function(e,t){return{type:r.a.ADD_CHAT_ROOM_MESSAGES,payload:{messages:e,chatRoomId:t}}},p=function(e,t){return{type:r.a.ADD_PLAIN_CHAT_ROOM_MESSAGES,payload:{messages:e,roomId:t}}},l=function(e){return{type:r.a.ACTIVE_PEER_CHAT_ROOM,payload:{receiverId:e}}},f=function(){return{type:r.a.WS_CONNECT,payload:{}}},O=function(e){return{type:r.a.ASYNC_CREATE_CHAT_REQUEST,payload:{recUserId:e}}},E=function(e){return{type:r.a.ASYNC_CANCEL_CHAT_REQUEST,payload:{recUserId:e}}},b=function(e){return{type:r.a.ASYNC_IGNORE_CHAT_REQUEST,payload:{reqUserId:e}}},_=function(e){return{type:r.a.ASYNC_ACCEPT_CHAT_REQUEST,payload:{reqUserId:e}}},h=function(e){return{type:r.a.ASYNC_JOIN_CHAT_ROOM,payload:{roomId:e}}},g=function(e){return{type:r.a.SET_CURRENT_CHAT,payload:{userId:e}}},m=function(){return{type:r.a.CLOSE_CHAT}},S=function(){return{type:r.a.OPEN_CHAT}},A=function(){return{type:r.a.CLOSE_RECENT_CHAT}},I=function(){return{type:r.a.OPEN_RECENT_CHAT}},v=function(e){return{type:r.a.REMOVE_CHAT_HISTORY,payload:{roomId:e}}},T=function(e){return{type:r.a.DB_REMOVE_CHAT_HISTORY,payload:{roomId:e}}},j=function(e){return{type:r.a.ADD_CHAT_REQUEST,payload:{userId:e}}},C=function(e){return{type:r.a.REMOVE_CHAT_REQUEST,payload:{userId:e}}},D=function(e){return{type:r.a.ADD_CHAT_CALLING,payload:{userId:e}}},y=function(e){return{type:r.a.REMOVE_CHAT_CALLING,payload:{userId:e}}},R=function(e,t){return{type:r.a.ADD_CHAT_CONNECT,payload:{userId:e,room:t}}},L=function(e){return{type:r.a.REMOVE_CHAT_CONNECT,payload:{userId:e}}},x=function(){return{type:r.a.CLEAR_ALL_CHAT_MESSAGE}}}},[[318,9,10]]]);